"use strict";var dr=Object.create;var Se=Object.defineProperty;var hr=Object.getOwnPropertyDescriptor;var mr=Object.getOwnPropertyNames;var pr=Object.getPrototypeOf,gr=Object.prototype.hasOwnProperty;var Ze=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),xt=(e,r)=>{for(var t in r)Se(e,t,{get:r[t],enumerable:!0})},St=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of mr(r))!gr.call(e,a)&&a!==t&&Se(e,a,{get:()=>r[a],enumerable:!(n=hr(r,a))||n.enumerable});return e};var ae=(e,r,t)=>(t=e!=null?dr(pr(e)):{},St(r||!e||!e.__esModule?Se(t,"default",{value:e,enumerable:!0}):t,e)),br=e=>St(Se({},"__esModule",{value:!0}),e);var Lt=Ze(Pt=>{"use strict";var me=require("react");function Pr(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Lr=typeof Object.is=="function"?Object.is:Pr,Nr=me.useState,Vr=me.useEffect,jr=me.useLayoutEffect,Mr=me.useDebugValue;function Fr(e,r){var t=r(),n=Nr({inst:{value:t,getSnapshot:r}}),a=n[0].inst,i=n[1];return jr(function(){a.value=t,a.getSnapshot=r,et(a)&&i({inst:a})},[e,t,r]),Vr(function(){return et(a)&&i({inst:a}),e(function(){et(a)&&i({inst:a})})},[e]),Mr(t),t}function et(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!Lr(e,t)}catch{return!0}}function Wr(e,r){return r()}var zr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wr:Fr;Pt.useSyncExternalStore=me.useSyncExternalStore!==void 0?me.useSyncExternalStore:zr});var Vt=Ze(Nt=>{"use strict";process.env.NODE_ENV!=="production"&&(function(){function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}function r(d,m){l||a.startTransition===void 0||(l=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var f=m();if(!h){var v=m();i(f,v)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),h=!0)}v=s({inst:{value:f,getSnapshot:m}});var u=v[0].inst,N=v[1];return o(function(){u.value=f,u.getSnapshot=m,t(u)&&N({inst:u})},[d,f,m]),c(function(){return t(u)&&N({inst:u}),d(function(){t(u)&&N({inst:u})})},[d]),p(f),f}function t(d){var m=d.getSnapshot;d=d.value;try{var f=m();return!i(d,f)}catch{return!0}}function n(d,m){return m()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var a=require("react"),i=typeof Object.is=="function"?Object.is:e,s=a.useState,c=a.useEffect,o=a.useLayoutEffect,p=a.useDebugValue,l=!1,h=!1,b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n:r;Nt.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:b,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var jt=Ze((En,tt)=>{"use strict";process.env.NODE_ENV==="production"?tt.exports=Lt():tt.exports=Vt()});var mn={};xt(mn,{default:()=>ir});module.exports=br(mn);var D=require("@raycast/api");var g=ae(require("react")),E=require("@raycast/api");var Rt=Object.prototype.hasOwnProperty;function de(e,r){var t,n;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((n=e.length)===r.length)for(;n--&&de(e[n],r[n]););return n===-1}if(!t||typeof e=="object"){n=0;for(t in e)if(Rt.call(e,t)&&++n&&!Rt.call(r,t)||!(t in r)||!de(e[t],r[t]))return!1;return Object.keys(r).length===n}}return e!==e&&r!==r}var ie=ae(require("node:fs")),Te=ae(require("node:path")),_t=ae(require("node:crypto"));var It=require("react/jsx-runtime");function yr(e){let r=(0,g.useRef)(e),t=(0,g.useRef)(0);return de(e,r.current)||(r.current=e,t.current+=1),(0,g.useMemo)(()=>r.current,[t.current])}function G(e){let r=(0,g.useRef)(e);return r.current=e,r}function $r(e,r){let t=e instanceof Error?e.message:String(e);return(0,E.showToast)({style:E.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??t,primaryAction:r?.primaryAction??Tt(e),secondaryAction:r?.primaryAction?Tt(e):void 0})}var Tt=e=>{let r=!0,t="[Extension Name]...",n="";try{let s=JSON.parse((0,ie.readFileSync)((0,Te.join)(E.environment.assetsPath,"..","package.json"),"utf8"));t=`[${s.title}]...`,n=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(r=!1)}catch{}let a=E.environment.isDevelopment||r,i=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:a?"Copy Logs":"Report Error",onAction(s){s.hide(),a?E.Clipboard.copy(i):(0,E.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${i}
\`\`\`
`)}`)}}};function wr(e,r,t){let n=(0,g.useRef)(0),[a,i]=(0,g.useState)({isLoading:!0}),s=G(e),c=G(t?.abortable),o=G(r||[]),p=G(t?.onError),l=G(t?.onData),h=G(t?.onWillExecute),b=G(t?.failureToastOptions),d=G(a.data),m=(0,g.useRef)(null),f=(0,g.useRef)({page:0}),v=(0,g.useRef)(!1),u=(0,g.useRef)(!0),N=(0,g.useRef)(50),T=(0,g.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),w=(0,g.useCallback)((...W)=>{let O=T();h.current?.(W),i(y=>({...y,isLoading:!0}));let B=vr(s.current)(...W);function C(y){return y.name=="AbortError"||O===n.current&&(p.current?p.current(y):E.environment.launchType!==E.LaunchType.Background&&$r(y,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(X){X.hide(),m.current?.(...o.current||[])}},...b.current}),i({error:y,isLoading:!1})),y}return typeof B=="function"?(v.current=!0,B(f.current).then(({data:y,hasMore:X,cursor:ke})=>(O===n.current&&(f.current&&(f.current.cursor=ke,f.current.lastItem=y?.[y.length-1]),l.current&&l.current(y,f.current),X&&(N.current=y.length),u.current=X,i(ne=>f.current.page===0?{data:y,isLoading:!1}:{data:(ne.data||[])?.concat(y),isLoading:!1})),y),y=>(u.current=!1,C(y)))):(v.current=!1,B.then(y=>(O===n.current&&(l.current&&l.current(y),i({data:y,isLoading:!1})),y),C))},[l,p,o,s,i,m,h,f,b,T]);m.current=w;let x=(0,g.useCallback)(()=>{f.current={page:0};let W=o.current||[];return w(...W)},[w,o]),_=(0,g.useCallback)(async(W,O)=>{let B;try{if(O?.optimisticUpdate){T(),typeof O?.rollbackOnError!="function"&&O?.rollbackOnError!==!1&&(B=structuredClone(d.current?.value));let C=O.optimisticUpdate;i(y=>({...y,data:C(y.data)}))}return await W}catch(C){if(typeof O?.rollbackOnError=="function"){let y=O.rollbackOnError;i(X=>({...X,data:y(X.data)}))}else O?.optimisticUpdate&&O?.rollbackOnError!==!1&&i(y=>({...y,data:B}));throw C}finally{O?.shouldRevalidateAfter!==!1&&(E.environment.launchType===E.LaunchType.Background||E.environment.commandMode==="menu-bar"?await x():x())}},[x,d,i,T]),I=(0,g.useCallback)(()=>{f.current.page+=1;let W=o.current||[];w(...W)},[f,o,w]);(0,g.useEffect)(()=>{f.current={page:0},t?.execute!==!1?w(...r||[]):T()},[yr([r,t?.execute,w]),c,f]),(0,g.useEffect)(()=>()=>{T()},[T]);let k=t?.execute!==!1?a.isLoading:!1,K={...a,isLoading:k},F=v.current?{pageSize:N.current,hasMore:u.current,onLoadMore:I}:void 0;return{...K,revalidate:x,mutate:_,pagination:F}}function vr(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Ct(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function kr(e){return e instanceof URLSearchParams?e.toString():e}function Dt(e,r=[]){function t(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=kr(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let a=/\[object (.*)\]/i,i=Object.prototype.toString.call(n),s=a.exec(i)?.[1]??"unknown:["+i+"]";s=s.toLowerCase();let c=null;if((c=r.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else r.push(n);if(Buffer.isBuffer(n))return t("buffer:"),t(n.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")if(this["_"+s])this["_"+s](n);else throw new Error('Unknown object type "'+s+'"');else{let o=Object.keys(n);o=o.sort(),Ct(n)||o.splice(0,0,"prototype","__proto__","constructor"),t("object:"+o.length+":");let p=this;return o.forEach(function(l){p.dispatch(l),t(":"),p.dispatch(n[l]),t(",")})}},_array:function(n,a){a=typeof a<"u"?a:!1;let i=this;if(t("array:"+n.length+":"),!a||n.length<=1){n.forEach(function(o){i.dispatch(o)});return}let s=[],c=n.map(function(o){let p=Er(),l=r.slice();return Dt(p,l).dispatch(o),s=s.concat(l.slice(r.length)),p.read().toString()});r=r.concat(s),c.sort(),this._array(c,!1)},_date:function(n){t("date:"+n.toJSON())},_symbol:function(n){t("symbol:"+n.toString())},_error:function(n){t("error:"+n.toString())},_boolean:function(n){t("bool:"+n.toString())},_string:function(n){t("string:"+n.length+":"),t(n.toString())},_function:function(n){t("fn:"),Ct(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){t("number:"+n.toString())},_xml:function(n){t("xml:"+n.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(n){t("regex:"+n.toString())},_uint8array:function(n){t("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){t("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){t("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){t("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){t("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){t("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){t("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){t("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){t("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){t("url:"+n.toString())},_map:function(n){t("map:");let a=Array.from(n);this._array(a,!0)},_set:function(n){t("set:");let a=Array.from(n);this._array(a,!0)},_file:function(n){t("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(n){t("bigint:"+n.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function Er(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function xr(e,r){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:r}function Sr(e,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function Re(e){let r=_t.default.createHash("sha1");return Dt(r).dispatch(e),r.digest("hex")}var Rr=Symbol("cache without namespace"),At=new Map;function Tr(e,r,t){let n=t?.cacheNamespace||Rr,a=At.get(n)||At.set(n,new E.Cache({namespace:t?.cacheNamespace})).get(n);if(!a)throw new Error("Missing cache");let i=G(e),s=G(r),c=(0,g.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(i.current)}catch(h){console.error("Could not get Cache data:",h);return}}),o=(0,g.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Sr)}catch(h){return console.warn("The cached data is corrupted",h),s.current}}else return s.current},[c,s]),p=G(o),l=(0,g.useCallback)(h=>{let b=typeof h=="function"?h(p.current):h;if(typeof b>"u")a.set(i.current,"undefined");else{let d=JSON.stringify(b,xr);a.set(i.current,d)}return b},[a,i,p]);return[o,l]}var he=Symbol();function Cr(e,r,t){let{initialData:n,keepPreviousData:a,internal_cacheKeySuffix:i,...s}=t||{},c=(0,g.useRef)(null),[o,p]=Tr(Re(r||[])+i,he,{cacheNamespace:Re(e)}),l=(0,g.useRef)(o!==he?o:n),h=(0,g.useRef)(void 0),{mutate:b,revalidate:d,...m}=wr(e,r||[],{...s,onData(T,w){h.current=w,s.onData&&s.onData(T,w),!(w&&w.page>0)&&(c.current="promise",l.current=T,p(T))}}),f,v=m.pagination;h.current&&h.current.page>0&&m.data?f=m.data:c.current==="promise"?f=l.current:a&&o!==he?(f=o,v&&(v.hasMore=!0,v.pageSize=o.length)):a&&o===he?f=l.current:o!==he?(f=o,v&&(v.hasMore=!0,v.pageSize=o.length)):f=n;let u=G(f),N=(0,g.useCallback)(async(T,w)=>{let x;try{if(w?.optimisticUpdate){typeof w?.rollbackOnError!="function"&&w?.rollbackOnError!==!1&&(x=structuredClone(u.current));let _=w.optimisticUpdate(u.current);c.current="cache",l.current=_,p(_)}return await b(T,{shouldRevalidateAfter:w?.shouldRevalidateAfter})}catch(_){if(typeof w?.rollbackOnError=="function"){let I=w.rollbackOnError(u.current);c.current="cache",l.current=I,p(I)}else w?.optimisticUpdate&&w?.rollbackOnError!==!1&&(c.current="cache",l.current=x,p(x));throw _}},[p,b,u,l,c]);return(0,g.useEffect)(()=>{o!==he&&(c.current="cache",l.current=o)},[o]),{data:f,isLoading:m.isLoading,error:m.error,mutate:h.current&&h.current.page>0?b:N,pagination:v,revalidate:d}}function Ar(e){if(e){let r=Ir(e);if(!r)return!1;if(r.subtype==="json"||r.suffix==="json"||r.suffix&&/\bjson\b/i.test(r.suffix)||r.subtype&&/\bjson\b/i.test(r.subtype))return!0}return!1}var _r=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function Ir(e){let r=e.indexOf(";"),t=r!==-1?e.slice(0,r).trim():e.trim(),n=_r.exec(t.toLowerCase().toLowerCase());if(!n)return;let a=n[1],i=n[2],s,c=i.lastIndexOf("+");return c!==-1&&(s=i.substring(c+1),i=i.substring(0,c)),{type:a,subtype:i,suffix:s}}async function Dr(e){if(!e.ok)throw new Error(e.statusText);let r=e.headers.get("content-type");return r&&Ar(r)?await e.json():await e.text()}function Or(e){return{data:e,hasMore:!1}}function Ce(e,r){let{parseResponse:t,mapResult:n,initialData:a,execute:i,keepPreviousData:s,onError:c,onData:o,onWillExecute:p,failureToastOptions:l,...h}=r||{},b={initialData:a,execute:i,keepPreviousData:s,onError:c,onData:o,onWillExecute:p,failureToastOptions:l},d=G(t||Dr),m=G(n||Or),f=(0,g.useRef)(null),v=(0,g.useRef)(null),u=typeof e=="function"?e({page:0}):void 0;(!f.current||typeof v.current>"u"||v.current!==u)&&(f.current=e),v.current=u;let N=(0,g.useRef)(null),T=(0,g.useCallback)((_,I)=>async k=>{let K=await fetch(_(k),{signal:N.current?.signal,...I}),F=await d.current(K);return m.current?.(F)},[d,m]),w=(0,g.useCallback)(async(_,I)=>{let k=await fetch(_,{signal:N.current?.signal,...I}),K=await d.current(k);return m.current(K)?.data},[d,m]),x=(0,g.useMemo)(()=>v.current?T:w,[v,w,T]);return Cr(x,[f.current,h],{...b,internal_cacheKeySuffix:v.current+Re(m.current)+Re(d.current),abortable:N})}var rr=require("react"),Be=require("@raycast/api");var ce=require("@raycast/api"),Ur=(0,ce.getPreferenceValues)().accessToken,Ye={Authorization:"Bearer "+Ur},Ae=Object.entries(Ye),Xe="https://api.vercel.com/";async function Ot(){try{return(await(await fetch(Xe+"www/user",{method:"get",headers:Ye})).json()).user}catch(e){throw console.error(e),(0,ce.showToast)({style:ce.Toast.Style.Failure,title:"Failed to fetch user info"}),new Error("Failed to fetch user info")}}async function Ut(){let r=await(await fetch(Xe+"v1/teams",{method:"get",headers:Ye})).json(),t=[];for(let n of r.teams)t.push(n);return t}function Qe(e,r,t=100){let n=Xe+"v6/deployments",a=`?limit=${t}&teamId=${e??""}`;return r&&(a+=`&projectId=${r}`),n+a}function _e(e,r,t){return t.startsWith("dpl_")&&(t=t.substring(4)),`https://vercel.com/${e}/${r}/${t}`}var P=ae(require("react"),1),er=ae(jt(),1);var j=ae(require("react"),1);var se={};xt(se,{ERROR_REVALIDATE_EVENT:()=>Br,FOCUS_EVENT:()=>Mt,MUTATE_EVENT:()=>Wt,RECONNECT_EVENT:()=>Ft});var Mt=0,Ft=1,Wt=2,Br=3;var Z=new WeakMap,te=()=>{},U=te(),pe=Object,$=e=>e===U,H=e=>typeof e=="function",Y=(e,r)=>({...e,...r}),Le=e=>H(e.then),rt={},Ie={},lt="undefined",ge=typeof window!=lt,Oe=typeof document!=lt,Bt=ge&&"Deno"in window,Gt=()=>ge&&typeof window.requestAnimationFrame!=lt,Ne=(e,r)=>{let t=Z.get(e);return[()=>!$(r)&&e.get(r)||rt,n=>{if(!$(r)){let a=e.get(r);r in Ie||(Ie[r]=a),t[5](r,Y(a,n),a||rt)}},t[6],()=>!$(r)&&r in Ie?Ie[r]:!$(r)&&e.get(r)||rt]},st=!0,Gr=()=>st,[ot,it]=ge&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[te,te],Hr=()=>{let e=Oe&&document.visibilityState;return $(e)||e!=="hidden"},Kr=e=>(Oe&&document.addEventListener("visibilitychange",e),ot("focus",e),()=>{Oe&&document.removeEventListener("visibilitychange",e),it("focus",e)}),Jr=e=>{let r=()=>{st=!0,e()},t=()=>{st=!1};return ot("online",r),ot("offline",t),()=>{it("online",r),it("offline",t)}},Ht={isOnline:Gr,isVisible:Hr},Kt={initFocus:Kr,initReconnect:Jr},Ve=!j.default.useId,le=!ge||Bt,ut=e=>Gt()?window.requestAnimationFrame(e):setTimeout(e,1),be=le?j.useEffect:j.useLayoutEffect,nt=typeof navigator<"u"&&navigator.connection,ct=!le&&nt&&(["slow-2g","2g"].includes(nt.effectiveType)||nt.saveData),De=new WeakMap,qr=e=>pe.prototype.toString.call(e),at=(e,r)=>e===`[object ${r}]`,Zr=0,Ue=e=>{let r=typeof e,t=qr(e),n=at(t,"Date"),a=at(t,"RegExp"),i=at(t,"Object"),s,c;if(pe(e)===e&&!n&&!a){if(s=De.get(e),s)return s;if(s=++Zr+"~",De.set(e,s),Array.isArray(e)){for(s="@",c=0;c<e.length;c++)s+=Ue(e[c])+",";De.set(e,s)}if(i){s="#";let o=pe.keys(e).sort();for(;!$(c=o.pop());)$(e[c])||(s+=c+":"+Ue(e[c])+",");De.set(e,s)}}else s=n?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return s},ve=e=>{if(H(e))try{e=e()}catch{e=""}let r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ue(e):"",[e,r]},Yr=0,we=()=>++Yr;async function je(...e){let[r,t,n,a]=e,i=Y({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{}),s=i.populateCache,c=i.rollbackOnError,o=i.optimisticData,p=b=>typeof c=="function"?c(b):c!==!1,l=i.throwOnError;if(H(t)){let b=t,d=[],m=r.keys();for(let f of m)!/^\$(inf|sub)\$/.test(f)&&b(r.get(f)._k)&&d.push(f);return Promise.all(d.map(h))}return h(t);async function h(b){let[d]=ve(b);if(!d)return;let[m,f]=Ne(r,d),[v,u,N,T]=Z.get(r),w=()=>{let C=v[d];return(H(i.revalidate)?i.revalidate(m().data,b):i.revalidate!==!1)&&(delete N[d],delete T[d],C&&C[0])?C[0](2).then(()=>m().data):m().data};if(e.length<3)return w();let x=n,_,I=!1,k=we();u[d]=[k,0];let K=!$(o),F=m(),W=F.data,O=F._c,B=$(O)?W:O;if(K&&(o=H(o)?o(B,W):o,f({data:o,_c:B})),H(x))try{x=x(B)}catch(C){_=C,I=!0}if(x&&Le(x))if(x=await x.catch(C=>{_=C,I=!0}),k!==u[d][0]){if(I)throw _;return x}else I&&K&&p(_)&&(s=!0,f({data:B,_c:U}));if(s&&!I)if(H(s)){let C=s(x,B);f({data:C,error:U,_c:U})}else f({data:x,error:U,_c:U});if(u[d][1]=we(),Promise.resolve(w()).then(()=>{f({_c:U})}),I){if(l)throw _;return}return x}}var zt=(e,r)=>{for(let t in e)e[t][0]&&e[t][0](r)},ft=(e,r)=>{if(!Z.has(e)){let t=Y(Kt,r),n=Object.create(null),a=je.bind(U,e),i=te,s=Object.create(null),c=(l,h)=>{let b=s[l]||[];return s[l]=b,b.push(h),()=>b.splice(b.indexOf(h),1)},o=(l,h,b)=>{e.set(l,h);let d=s[l];if(d)for(let m of d)m(h,b)},p=()=>{if(!Z.has(e)&&(Z.set(e,[n,Object.create(null),Object.create(null),Object.create(null),a,o,c]),!le)){let l=t.initFocus(setTimeout.bind(U,zt.bind(U,n,0))),h=t.initReconnect(setTimeout.bind(U,zt.bind(U,n,1)));i=()=>{l&&l(),h&&h(),Z.delete(e)}}};return p(),[e,a,p,i]}return[e,Z.get(e)[4]]},Xr=(e,r,t,n,a)=>{let i=t.errorRetryCount,s=a.retryCount,c=~~((Math.random()+.5)*(1<<(s<8?s:8)))*t.errorRetryInterval;!$(i)&&s>i||setTimeout(n,c,a)},Jt=de,[Me,qt]=ft(new Map),Fe=Y({onLoadingSlow:te,onSuccess:te,onError:te,onErrorRetry:Xr,onDiscarded:te,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ct?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ct?5e3:3e3,compare:Jt,isPaused:()=>!1,cache:Me,mutate:qt,fallback:{}},Ht),dt=(e,r)=>{let t=Y(e,r);if(r){let{use:n,fallback:a}=e,{use:i,fallback:s}=r;n&&i&&(t.use=n.concat(i)),a&&s&&(t.fallback=Y(a,s))}return t},Pe=(0,j.createContext)({}),ht=e=>{let{value:r}=e,t=(0,j.useContext)(Pe),n=H(r),a=(0,j.useMemo)(()=>n?r(t):r,[n,t,r]),i=(0,j.useMemo)(()=>n?a:dt(t,a),[n,t,a]),s=a&&a.provider,c=(0,j.useRef)(U);s&&!c.current&&(c.current=ft(s(i.cache||Me),a));let o=c.current;return o&&(i.cache=o[0],i.mutate=o[1]),be(()=>{if(o)return o[2]&&o[2](),o[3]},[]),(0,j.createElement)(Pe.Provider,Y(e,{value:i}))};var Zt="$inf$";var We=ae(require("react"),1);var Yt=ge&&window.__SWR_DEVTOOLS_USE__,Qr=Yt?window.__SWR_DEVTOOLS_USE__:[],en=()=>{Yt&&(window.__SWR_DEVTOOLS_REACT__=We.default)},tn=e=>H(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],rn=()=>Y(Fe,(0,We.useContext)(Pe));var nn=e=>(r,t,n)=>e(r,t&&((...i)=>{let[s]=ve(r),[,,,c]=Z.get(Me);if(s.startsWith(Zt))return t(...i);let o=c[s];return $(o)?t(...i):(delete c[s],o)}),n),an=Qr.concat(nn),Xt=e=>function(...t){let n=rn(),[a,i,s]=tn(t),c=dt(n,s),o=e,{use:p}=c,l=(p||[]).concat(an);for(let h=l.length;h--;)o=l[h](o);return o(a,i||c.fetcher||null,c)},Qt=(e,r,t)=>{let n=r[e]||(r[e]=[]);return n.push(t),()=>{let a=n.indexOf(t);a>=0&&(n[a]=n[n.length-1],n.pop())}};en();var sn=()=>{},On=sn();var mt=P.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),pt={dedupe:!0},on=(e,r,t)=>{let{cache:n,compare:a,suspense:i,fallbackData:s,revalidateOnMount:c,revalidateIfStale:o,refreshInterval:p,refreshWhenHidden:l,refreshWhenOffline:h,keepPreviousData:b}=t,[d,m,f,v]=Z.get(n),[u,N]=ve(e),T=(0,P.useRef)(!1),w=(0,P.useRef)(!1),x=(0,P.useRef)(u),_=(0,P.useRef)(r),I=(0,P.useRef)(t),k=()=>I.current,K=()=>k().isVisible()&&k().isOnline(),[F,W,O,B]=Ne(n,u),C=(0,P.useRef)({}).current,y=$(s)?$(t.fallback)?U:t.fallback[u]:s,X=(R,S)=>{for(let M in C){let A=M;if(A==="data"){if(!a(R[A],S[A])&&(!$(R[A])||!a(xe,S[A])))return!1}else if(S[A]!==R[A])return!1}return!0},ke=(0,P.useMemo)(()=>{let R=!u||!r?!1:$(c)?k().isPaused()||i?!1:o!==!1:c,S=z=>{let Q=Y(z);return delete Q._k,R?{isValidating:!0,isLoading:!0,...Q}:Q},M=F(),A=B(),q=S(M),fe=M===A?q:S(A),V=q;return[()=>{let z=S(F());return X(z,V)?(V.data=z.data,V.isLoading=z.isLoading,V.isValidating=z.isValidating,V.error=z.error,V):(V=z,z)},()=>fe]},[n,u]),ne=(0,er.useSyncExternalStore)((0,P.useCallback)(R=>O(u,(S,M)=>{X(M,S)||R()}),[n,u]),ke[0],ke[1]),bt=!T.current,cr=d[u]&&d[u].length>0,ue=ne.data,oe=$(ue)?y&&Le(y)?mt(y):y:ue,Ee=ne.error,Ke=(0,P.useRef)(oe),xe=b?$(ue)?$(Ke.current)?oe:Ke.current:ue:oe,yt=cr&&!$(Ee)?!1:bt&&!$(c)?c:k().isPaused()?!1:i?$(oe)?!1:o:$(oe)||o,$t=!!(u&&r&&bt&&yt),lr=$(ne.isValidating)?$t:ne.isValidating,ur=$(ne.isLoading)?$t:ne.isLoading,$e=(0,P.useCallback)(async R=>{let S=_.current;if(!u||!S||w.current||k().isPaused())return!1;let M,A,q=!0,fe=R||{},V=!f[u]||!fe.dedupe,z=()=>Ve?!w.current&&u===x.current&&T.current:u===x.current,Q={isValidating:!1,isLoading:!1},vt=()=>{W(Q)},kt=()=>{let J=f[u];J&&J[1]===A&&delete f[u]},Et={isValidating:!0};$(F().data)&&(Et.isLoading=!0);try{if(V&&(W(Et),t.loadingTimeout&&$(F().data)&&setTimeout(()=>{q&&z()&&k().onLoadingSlow(u,t)},t.loadingTimeout),f[u]=[S(N),we()]),[M,A]=f[u],M=await M,V&&setTimeout(kt,t.dedupingInterval),!f[u]||f[u][1]!==A)return V&&z()&&k().onDiscarded(u),!1;Q.error=U;let J=m[u];if(!$(J)&&(A<=J[0]||A<=J[1]||J[1]===0))return vt(),V&&z()&&k().onDiscarded(u),!1;let ee=F().data;Q.data=a(ee,M)?ee:M,V&&z()&&k().onSuccess(M,u,t)}catch(J){kt();let ee=k(),{shouldRetryOnError:Je}=ee;ee.isPaused()||(Q.error=J,V&&z()&&(ee.onError(J,u,ee),(Je===!0||H(Je)&&Je(J))&&(!k().revalidateOnFocus||!k().revalidateOnReconnect||K())&&ee.onErrorRetry(J,u,ee,fr=>{let qe=d[u];qe&&qe[0]&&qe[0](se.ERROR_REVALIDATE_EVENT,fr)},{retryCount:(fe.retryCount||0)+1,dedupe:!0})))}return q=!1,vt(),!0},[u,n]),wt=(0,P.useCallback)((...R)=>je(n,x.current,...R),[]);if(be(()=>{_.current=r,I.current=t,$(ue)||(Ke.current=ue)}),be(()=>{if(!u)return;let R=$e.bind(U,pt),S=0;k().revalidateOnFocus&&(S=Date.now()+k().focusThrottleInterval);let A=Qt(u,d,(q,fe={})=>{if(q==se.FOCUS_EVENT){let V=Date.now();k().revalidateOnFocus&&V>S&&K()&&(S=V+k().focusThrottleInterval,R())}else if(q==se.RECONNECT_EVENT)k().revalidateOnReconnect&&K()&&R();else{if(q==se.MUTATE_EVENT)return $e();if(q==se.ERROR_REVALIDATE_EVENT)return $e(fe)}});return w.current=!1,x.current=u,T.current=!0,W({_k:N}),yt&&(f[u]||($(oe)||le?R():ut(R))),()=>{w.current=!0,A()}},[u]),be(()=>{let R;function S(){let A=H(p)?p(F().data):p;A&&R!==-1&&(R=setTimeout(M,A))}function M(){!F().error&&(l||k().isVisible())&&(h||k().isOnline())?$e(pt).then(S):S()}return S(),()=>{R&&(clearTimeout(R),R=-1)}},[p,l,h,u]),(0,P.useDebugValue)(xe),i&&$(oe)&&u){if(!Ve&&le)throw new Error("Fallback data is required when using Suspense in SSR.");_.current=r,I.current=t,w.current=!1;let R=v[u];if(!$(R)){let S=wt(R);mt(S)}if($(Ee)){let S=$e(pt);$(xe)||(S.status="fulfilled",S.value=!0),mt(S)}else throw Ee}return{mutate:wt,get data(){return C.data=!0,xe},get error(){return C.error=!0,Ee},get isValidating(){return C.isValidating=!0,lr},get isLoading(){return C.isLoading=!0,ur}}},Un=pe.defineProperty(ht,"defaultValue",{value:Fe}),tr=Xt(on);var cn=(e,r)=>{let{data:t,mutate:n}=tr(e,{fallbackData:r});return[t,n]},ze=cn;var ln=()=>{let[e,r]=ze("user"),[t,n]=ze("teams"),[a,i]=ze("selectedTeamId");return(0,rr.useEffect)(()=>{(async()=>{if(!e||!t){let o=await Be.LocalStorage.getItem("selectedTeamId");o&&i(o);let[p,l]=await Promise.all([Ot(),Ut()]);r(p),n(l),o&&(l.find(b=>b.id===o)||i(void 0))}})()},[]),{user:e,selectedTeam:a,teams:t,updateSelectedTeam:async c=>{let o=t?.find(p=>p.id===c);o?(i(o.id),await Be.LocalStorage.setItem("selectedTeamId",o.id)):(i(void 0),await Be.LocalStorage.removeItem("selectedTeamId"))}}},Ge=ln;var L=require("@raycast/api");var un=e=>{let r=new Intl.PluralRules("en-US",{type:"ordinal"}).select(e),t={one:"st",two:"nd",few:"rd",other:"th"}[r];return`${e}${t}`},fn=(e,r,t=void 0)=>{let n=()=>{throw new Error("getTimeSince requires 1-2 arguments, of type date or date-string")};(typeof e>"u"||isNaN(Number(e))||typeof r<"u"&&isNaN(Number(r)))&&n();let a=r===void 0||Math.abs(Number(r)-Number(new Date))<50,i=Number(new Date(e)),s=Number(r===void 0?new Date:new Date(r??null));(isNaN(i)||isNaN(s))&&n();let c=new Intl.RelativeTimeFormat("en",{localeMatcher:"best fit",style:"long",numeric:"auto"}),o=i-s;if(t&&!isNaN(t)&&Math.abs(o)>=Number(t)){let[p,l,h,b]=new Date(i).toLocaleString("en-us",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).replace(/,/g,"").split(" ");return`${p} ${l} ${un(Number(h))}, ${b}`}if(Math.abs(o)<1e3)return a?"now":"simultaneously";for(let[p,l]of[["year",31536e6],["month",26784e5],["week",6048e5],["day",864e5],["hour",36e5],["minute",6e4],["second",1e3]])if(Math.abs(o)>=l){let{sign:h,floor:b,ceil:d}=Math,m=c.format((h(o)===1?b:d)(o/l),p);return a||(m=Math.sign(o)===1?m.replace("in ","")+" later":m.replace("ago","prior")),m}return"just now"},He=fn;var ye=require("@raycast/api"),nr=require("react");var ar=require("react/jsx-runtime");var dn=require("@raycast/api"),hn=require("@raycast/api");var sr=require("react/jsx-runtime");var gt=require("react/jsx-runtime");var or=e=>{switch(e){case"READY":return{source:L.Icon.Dot,tintColor:L.Color.Green};case"BUILDING":case"INITIALIZING":return{source:L.Icon.Dot,tintColor:L.Color.Blue};case"FAILED":return{source:L.Icon.Dot,tintColor:L.Color.Red};case"CANCELED":return{source:L.Icon.Dot,tintColor:L.Color.PrimaryText};case"ERROR":return{source:L.Icon.ExclamationMark,tintColor:L.Color.Red};case"QUEUED":return{source:L.Icon.Dot,tintColor:L.Color.SecondaryText};default:return L.Icon.QuestionMark}};var re=require("react/jsx-runtime");function ir(){let{user:e,teams:r,selectedTeam:t}=Ge(),{maxDeployments:n}=(0,D.getPreferenceValues)(),a=n?parseInt(n):10,i=Qe(t,void 0,a),{isLoading:s,data:c}=Ce(i,{headers:Ae,mapResult(l){return{data:l.deployments}},initialData:[],keepPreviousData:!0}),o=c||[],p=r?.find(l=>l.id===t);return(0,re.jsxs)(D.MenuBarExtra,{isLoading:s,icon:{source:{light:"vercel-light.svg",dark:"vercel-dark.svg"}},tooltip:"Recent Deployments",children:[(0,re.jsx)(D.MenuBarExtra.Section,{title:"Recent Deployments",children:o.length===0&&!s?(0,re.jsx)(D.MenuBarExtra.Item,{title:"No deployments found"}):o.map(l=>(0,re.jsx)(D.MenuBarExtra.Item,{title:l.name,subtitle:`${l.meta?.githubCommitRef||l.gitSource?.ref?`${l.meta?.githubCommitRef||l.gitSource?.ref} \u2022 `:""}${He(l.createdAt,new Date)}`,icon:or(l.readyState||l.state),onAction:()=>{if(e){let h=_e(p?.slug||e.username||"",l.name,l.uid);(0,D.open)(h)}else(0,D.open)(`https://${l.url}`)}},l.uid))}),(0,re.jsxs)(D.MenuBarExtra.Section,{children:[(0,re.jsx)(D.MenuBarExtra.Item,{title:"Settings",shortcut:{modifiers:["cmd"],key:","},onAction:()=>(0,D.openCommandPreferences)()}),(0,re.jsx)(D.MenuBarExtra.Item,{title:"Open in Raycast",shortcut:{modifiers:["cmd"],key:"o"},onAction:async()=>{try{await(0,D.launchCommand)({name:"search-deployments",type:D.LaunchType.UserInitiated})}catch{}}})]})]})}
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.development.js:
  (**
   * @license React
   * use-sync-external-store-shim.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
