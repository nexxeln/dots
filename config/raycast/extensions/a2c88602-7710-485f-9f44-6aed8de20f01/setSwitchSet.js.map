{
  "version": 3,
  "sources": ["../src/setSwitchSet.tsx", "../src/runAppleScriptSilently.tsx", "../node_modules/run-applescript/index.js"],
  "sourcesContent": ["import { useEffect, useState } from 'react'\nimport { showHUD, Action, ActionPanel, Icon, List } from '@raycast/api'\nimport { runAppleScriptSilently } from './runAppleScriptSilently'\n\nconst brands = [\n    {\n        name: 'CherryMX',\n        switchSets: [\n            {\n                name: 'Japanese Black',\n                color: '#57534e'\n            }\n        ]\n    },\n    {\n        name: 'Everglide',\n        switchSets: [\n            {\n                name: 'Crystal Purple',\n                color: '#f0abfc'\n            },\n            {\n                name: 'Oreo',\n                color: '#9e9894'\n            }\n        ]\n    },\n    {\n        name: 'Flurples',\n        switchSets: [\n            {\n                name: 'Cardboard',\n                color: '#f6ac8a'\n            }\n        ]\n    },\n    {\n        name: 'Gateron',\n        switchSets: [\n            {\n                name: 'Milky Yellow',\n                color: '#feedac'\n            }\n        ]\n    },\n    {\n        name: 'NovelKeys',\n        switchSets: [\n            {\n                name: 'Cream',\n                color: '#ffedd5'\n            }\n        ]\n    }\n]\n\nexport async function setSwitchSet(name: string) {\n    await runAppleScriptSilently(`tell application \"Klack\" to switch ${name}`, false)\n    await showHUD(`Selected ${name}`)\n}\n\nexport default function Command() {\n    const [searchText, setSearchText] = useState('')\n    const [filteredList, filterList] = useState(brands)\n    const [currentSwitchSet, setCurrentSwitchSet] = useState('')\n    const [isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        filterList(\n            brands.map((brand) => {\n                return {\n                    ...brand,\n                    switchSets: brand.switchSets.filter((switchSet) =>\n                        switchSet.name.toLowerCase().includes(searchText)\n                    )\n                }\n            })\n        )\n    }, [searchText])\n\n    useEffect(() => {\n        const getCurrentSwitchSet = async () => {\n            const switchSet = await runAppleScriptSilently(\n                'tell application \"Klack\" to current switch',\n                true\n            )\n\n            if (switchSet) {\n                setCurrentSwitchSet(switchSet)\n                setIsLoading(false)\n            }\n        }\n\n        getCurrentSwitchSet()\n    }, [setCurrentSwitchSet])\n\n    async function handleAction(switchSet: string) {\n        setSwitchSet(switchSet)\n        setCurrentSwitchSet(switchSet.toLowerCase())\n    }\n\n    return (\n        <List\n            filtering={false}\n            onSearchTextChange={setSearchText}\n            navigationTitle=\"Select Switch Sets\"\n            searchBarPlaceholder=\"Select Switch Set\"\n            isLoading={isLoading}>\n            {filteredList.map((brand) => (\n                <List.Section key={brand.name} title={`${brand.name}\u2122`}>\n                    {brand.switchSets.map((switchSet) => (\n                        <List.Item\n                            key={switchSet.name}\n                            title={switchSet.name}\n                            subtitle={\n                                switchSet.name.toLowerCase() === currentSwitchSet ? 'Current' : ''\n                            }\n                            icon={{ source: Icon.PlusSquare, tintColor: switchSet.color }}\n                            actions={\n                                <ActionPanel>\n                                    <Action\n                                        title=\"Select\"\n                                        onAction={() => {\n                                            currentSwitchSet\n                                                ? handleAction(switchSet.name)\n                                                : undefined\n                                        }}\n                                    />\n                                </ActionPanel>\n                            }\n                        />\n                    ))}\n                </List.Section>\n            ))}\n        </List>\n    )\n}\n", "import { Toast, closeMainWindow, getApplications, showToast } from '@raycast/api'\nimport { runAppleScript } from 'run-applescript'\n\nexport async function runAppleScriptSilently(appleScript: string, inView: boolean) {\n    if (!inView) await closeMainWindow()\n\n    const applications = await getApplications()\n    const isInstalled = applications.some(({ bundleId }) => bundleId === 'com.henrikruscon.Klack')\n\n    if (!isInstalled) {\n        const options: Toast.Options = {\n            style: Toast.Style.Failure,\n            title: 'Klack is not installed.'\n        }\n\n        await showToast(options)\n\n        return false\n    }\n\n    try {\n        const result = await runAppleScript(appleScript)\n\n        return result\n    } catch (_) {\n        await showToast({\n            style: Toast.Style.Failure,\n            title: 'Klack v1.7.0 is required.'\n        })\n    }\n}\n", "import process from 'node:process';\nimport {promisify} from 'node:util';\nimport {execFile, execFileSync} from 'node:child_process';\n\nconst execFileAsync = promisify(execFile);\n\nexport async function runAppleScript(script, {humanReadableOutput = true} = {}) {\n\tif (process.platform !== 'darwin') {\n\t\tthrow new Error('macOS only');\n\t}\n\n\tconst outputArguments = humanReadableOutput ? [] : ['-ss'];\n\n\tconst {stdout} = await execFileAsync('osascript', ['-e', script, outputArguments]);\n\treturn stdout.trim();\n}\n\nexport function runAppleScriptSync(script, {humanReadableOutput = true} = {}) {\n\tif (process.platform !== 'darwin') {\n\t\tthrow new Error('macOS only');\n\t}\n\n\tconst outputArguments = humanReadableOutput ? [] : ['-ss'];\n\n\tconst stdout = execFileSync('osascript', ['-e', script, ...outputArguments], {\n\t\tencoding: 'utf8',\n\t\tstdio: ['ignore', 'pipe', 'ignore'],\n\t\ttimeout: 500,\n\t});\n\n\treturn stdout.trim();\n}\n"],
  "mappings": "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",
  "names": ["setSwitchSet_exports", "__export", "Command", "setSwitchSet", "__toCommonJS", "import_react", "import_api", "import_api", "import_node_process", "import_node_util", "import_node_child_process", "execFileAsync", "runAppleScript", "script", "humanReadableOutput", "process", "outputArguments", "stdout", "runAppleScriptSilently", "appleScript", "inView", "bundleId", "options", "runAppleScript", "import_jsx_runtime", "brands", "setSwitchSet", "name", "runAppleScriptSilently", "Command", "searchText", "setSearchText", "filteredList", "filterList", "currentSwitchSet", "setCurrentSwitchSet", "isLoading", "setIsLoading", "brand", "switchSet", "handleAction"]
}
