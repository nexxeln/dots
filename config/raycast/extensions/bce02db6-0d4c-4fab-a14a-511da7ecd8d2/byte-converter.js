"use strict";var C=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var q=(t,e)=>{for(var n in e)C(t,n,{get:e[n],enumerable:!0})},R=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of S(e))!V.call(t,r)&&r!==n&&C(t,r,{get:()=>e[r],enumerable:!(i=K(e,r))||i.enumerable});return t};var N=t=>R(C({},"__esModule",{value:!0}),t);var j={};q(j,{default:()=>O});module.exports=N(j);var m=require("@raycast/api");var u=require("@raycast/api"),B=require("react/jsx-runtime");function I(t){let{showCommandPreferences:e,showExtensionPreferences:n}=t;return(0,B.jsxs)(u.ActionPanel.Section,{children:[e&&(0,B.jsx)(u.Action,{icon:u.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:u.openCommandPreferences}),n&&(0,B.jsx)(u.Action,{icon:u.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:u.openExtensionPreferences})]})}var g=require("react");var w=(t,e)=>{if(t.length==0)return null;let n=BigInt(0);for(let i of t){let r=parseInt(i,e);if(isNaN(r))return null;n=n*BigInt(e)+BigInt(r)}return n};var h=t=>{let e=t.toString();for(;e.length<3;)e="0"+e;let n=e.length-2;for(e=e.substring(0,n)+"."+e.substring(n);e.at(-1)=="0";)e=e.substring(0,e.length-1);return e.at(-1)=="."&&(e=e.substring(0,e.length-1)),e},F=t=>{let e=t.split("e"),n=e[0],i=parseInt(e[1]);isNaN(i)&&(i=0);let r=n.indexOf("."),s=r===-1?n:n.substring(0,r)+n.substring(r+1),c=n.length-(r===-1?n.length-1:r)-1-i,p=BigInt("1"+"0".repeat(Math.max(0,c))),b=w(s,10);return c<0&&b!==null&&(b*=BigInt("1"+"0".repeat(-c))),[b,p]};var T=require("@raycast/api"),{autoPaste:$,asciiCommaSeparated:H,advanceView:J,advanceViewLocation:Q}=(0,T.getPreferenceValues)();var k=require("@raycast/api");function E(t){let[e,n]=(0,g.useState)(null),[i,r]=(0,g.useState)(null),s=BigInt(100),c=(0,g.useRef)({});(0,g.useEffect)(()=>{$&&k.Clipboard.readText().then(l=>{if(l){l=l.trim();for(let[o,a]of Object.entries(t))if(l.endsWith(o)){let d=l.substring(0,l.length-o.length).trimEnd();P(a,d),c.current[o]?.focus()}}})},[]);let p=()=>{let l=BigInt(1e3);if(e===null)return null;let o=[BigInt(0),null],a=[null,null];for(let[d,x]of Object.entries(t)){let U=BigInt(1)<<BigInt(x),y=s*e/U;y<s*l&&y>o[0]?o=[y,d]:(a[0]===null||y<a[0])&&(a=[y,d])}if(o[1]!==null)return`${h(o[0])} ${o[1]}`;if(a[0]!==null)return`${h(a[0])} ${a[1]}`;throw new Error("Invalid unitToExponent")},b=l=>{if(i!==null&&i.exponent==l)return i.value;if(e===null)return"";let o=BigInt(1)<<BigInt(l);return h(s*e/o)},P=(l,o)=>{r({exponent:l,value:o}),o=o.trim();let[a,d]=F(o);if(a===null)n(null);else{let x=BigInt(1)<<BigInt(l);n(a*x/d)}};return{get:b,set:P,reset:()=>{n(null),r(null)},getBestUnitExpression:p,ref:c}}var A=require("react"),f=require("react/jsx-runtime"),v={bits:0,Bytes:3,KB:13,MB:23,GB:33,TB:43,PB:53,EB:63};function O(){let t=E(v),[e,n]=(0,A.useState)("bits"),i=`${t.get(v[e])} ${e}`,r=t.getBestUnitExpression();return(0,f.jsx)(m.Form,{actions:(0,f.jsxs)(m.ActionPanel,{children:[r!==null&&(0,f.jsx)(m.Action.CopyToClipboard,{title:`Copy ${r}`,content:r}),(0,f.jsx)(m.Action.CopyToClipboard,{title:`Copy ${i}`,content:i,shortcut:{modifiers:["cmd","shift"],key:"enter"}}),(0,f.jsx)(m.ActionPanel.Section,{children:Object.entries(v).map(([s,c],p)=>(0,f.jsx)(m.Action.CopyToClipboard,{title:`Copy ${t.get(c)} ${s}`,content:`${t.get(c)} ${s}`,shortcut:{modifiers:["cmd"],key:`${p+1}`}},s))}),(0,f.jsx)(I,{showCommandPreferences:!1,showExtensionPreferences:!0})]}),children:Object.entries(v).map(([s,c])=>(0,f.jsx)(m.Form.TextField,{id:s,title:s,value:t.get(c),ref:p=>t.ref.current[s]=p,placeholder:"0",onChange:p=>t.set(c,p),onFocus:()=>n(s)},s))})}
