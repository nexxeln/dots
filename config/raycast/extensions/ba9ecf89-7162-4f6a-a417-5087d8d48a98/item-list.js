"use strict";var oc=Object.create;var Tt=Object.defineProperty;var cc=Object.getOwnPropertyDescriptor;var uc=Object.getOwnPropertyNames;var lc=Object.getPrototypeOf,fc=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dc=(e,t)=>{for(var r in t)Tt(e,r,{get:t[r],enumerable:!0})},Es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uc(t))!fc.call(e,s)&&s!==r&&Tt(e,s,{get:()=>t[s],enumerable:!(n=cc(t,s))||n.enumerable});return e};var Ne=(e,t,r)=>(r=e!=null?oc(lc(e)):{},Es(t||!e||!e.__esModule?Tt(r,"default",{value:e,enumerable:!0}):r,e)),hc=e=>Es(Tt({},"__esModule",{value:!0}),e);var Ks=_(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.splitWhen=at.flatten=void 0;function Lc(e){return e.reduce((t,r)=>[].concat(t,r),[])}at.flatten=Lc;function Dc(e,t){let r=[[]],n=0;for(let s of e)t(s)?(n++,r[n]=[]):r[n].push(s);return r}at.splitWhen=Dc});var Ys=_(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.isEnoentCodeError=void 0;function Mc(e){return e.code==="ENOENT"}Ht.isEnoentCodeError=Mc});var Zs=_(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.createDirentFromStats=void 0;var Lr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Nc(e,t){return new Lr(e,t)}Bt.createDirentFromStats=Nc});var ei=_(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.convertPosixPathToPattern=z.convertWindowsPathToPattern=z.convertPathToPattern=z.escapePosixPath=z.escapeWindowsPath=z.escape=z.removeLeadingDotSegment=z.makeAbsolute=z.unixify=void 0;var Uc=require("os"),Fc=require("path"),Qs=Uc.platform()==="win32",Hc=2,Bc=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Wc=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,qc=/^\\\\([.?])/,Vc=/\\(?![!()+@[\]{}])/g;function jc(e){return e.replace(/\\/g,"/")}z.unixify=jc;function Gc(e,t){return Fc.resolve(e,t)}z.makeAbsolute=Gc;function zc(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(Hc)}return e}z.removeLeadingDotSegment=zc;z.escape=Qs?Dr:Mr;function Dr(e){return e.replace(Wc,"\\$2")}z.escapeWindowsPath=Dr;function Mr(e){return e.replace(Bc,"\\$2")}z.escapePosixPath=Mr;z.convertPathToPattern=Qs?Xs:Js;function Xs(e){return Dr(e).replace(qc,"//$1").replace(Vc,"/")}z.convertWindowsPathToPattern=Xs;function Js(e){return Mr(e)}z.convertPosixPathToPattern=Js});var ri=_((dh,ti)=>{ti.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var ii=_((hh,si)=>{var Kc=ri(),ni={"{":"}","(":")","[":"]"},Yc=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,s=-2,a=-2,i=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(i===-1||i>n||(i=e.indexOf("\\",t),i===-1||i>n)))||s!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(s=e.indexOf("}",t),s>t&&(i=e.indexOf("\\",t),i===-1||i>s))||a!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(a=e.indexOf(")",t),a>t&&(i=e.indexOf("\\",t),i===-1||i>a))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(a=e.indexOf(")",r),a>r&&(i=e.indexOf("\\",r),i===-1||i>a))))return!0;if(e[t]==="\\"){var o=e[t+1];t+=2;var c=ni[o];if(c){var f=e.indexOf(c,t);f!==-1&&(t=f+1)}if(e[t]==="!")return!0}else t++}return!1},Zc=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=ni[r];if(n){var s=e.indexOf(n,t);s!==-1&&(t=s+1)}if(e[t]==="!")return!0}else t++}return!1};si.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Kc(t))return!0;var n=Yc;return r&&r.strict===!1&&(n=Zc),n(t)}});var oi=_((ph,ai)=>{"use strict";var Qc=ii(),Xc=require("path").posix.dirname,Jc=require("os").platform()==="win32",Nr="/",eu=/\\/g,tu=/[\{\[].*[\}\]]$/,ru=/(^|[^\\])([\{\[]|\([^\)]+$)/,nu=/\\([\!\*\?\|\[\]\(\)\{\}])/g;ai.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Jc&&t.indexOf(Nr)<0&&(t=t.replace(eu,Nr)),tu.test(t)&&(t+=Nr),t+="a";do t=Xc(t);while(Qc(t)||ru.test(t));return t.replace(nu,"$1")}});var Wt=_(_e=>{"use strict";_e.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;_e.find=(e,t)=>e.nodes.find(r=>r.type===t);_e.exceedsLimit=(e,t,r=1,n)=>n===!1||!_e.isInteger(e)||!_e.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;_e.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};_e.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;_e.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;_e.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;_e.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);_e.flatten=(...e)=>{let t=[],r=n=>{for(let s=0;s<n.length;s++){let a=n[s];if(Array.isArray(a)){r(a);continue}a!==void 0&&t.push(a)}return t};return r(e),t}});var qt=_((mh,ui)=>{"use strict";var ci=Wt();ui.exports=(e,t={})=>{let r=(n,s={})=>{let a=t.escapeInvalid&&ci.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,o="";if(n.value)return(a||i)&&ci.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)o+=r(c);return o};return r(e)}});var fi=_((yh,li)=>{"use strict";li.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Si=_((bh,_i)=>{"use strict";var di=fi(),Ke=(e,t,r)=>{if(di(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(di(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),a=String(n.shorthand),i=String(n.capture),o=String(n.wrap),c=e+":"+t+"="+s+a+i+o;if(Ke.cache.hasOwnProperty(c))return Ke.cache[c].result;let f=Math.min(e,t),u=Math.max(e,t);if(Math.abs(f-u)===1){let m=e+"|"+t;return n.capture?`(${m})`:n.wrap===!1?m:`(?:${m})`}let p=bi(e)||bi(t),l={min:e,max:t,a:f,b:u},E=[],y=[];if(p&&(l.isPadded=p,l.maxLen=String(l.max).length),f<0){let m=u<0?Math.abs(u):1;y=hi(m,Math.abs(f),l,n),f=l.a=0}return u>=0&&(E=hi(f,u,l,n)),l.negatives=y,l.positives=E,l.result=su(y,E,n),n.capture===!0?l.result=`(${l.result})`:n.wrap!==!1&&E.length+y.length>1&&(l.result=`(?:${l.result})`),Ke.cache[c]=l,l.result};function su(e,t,r){let n=Ur(e,t,"-",!1,r)||[],s=Ur(t,e,"",!1,r)||[],a=Ur(e,t,"-?",!0,r)||[];return n.concat(a).concat(s).join("|")}function iu(e,t){let r=1,n=1,s=gi(e,r),a=new Set([t]);for(;e<=s&&s<=t;)a.add(s),r+=1,s=gi(e,r);for(s=mi(t+1,n)-1;e<s&&s<=t;)a.add(s),n+=1,s=mi(t+1,n)-1;return a=[...a],a.sort(cu),a}function au(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=ou(e,t),s=n.length,a="",i=0;for(let o=0;o<s;o++){let[c,f]=n[o];c===f?a+=c:c!=="0"||f!=="9"?a+=uu(c,f,r):i++}return i&&(a+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[i],digits:s}}function hi(e,t,r,n){let s=iu(e,t),a=[],i=e,o;for(let c=0;c<s.length;c++){let f=s[c],u=au(String(i),String(f),n),p="";if(!r.isPadded&&o&&o.pattern===u.pattern){o.count.length>1&&o.count.pop(),o.count.push(u.count[0]),o.string=o.pattern+yi(o.count),i=f+1;continue}r.isPadded&&(p=lu(f,r,n)),u.string=p+u.pattern+yi(u.count),a.push(u),i=f+1,o=u}return a}function Ur(e,t,r,n,s){let a=[];for(let i of e){let{string:o}=i;!n&&!pi(t,"string",o)&&a.push(r+o),n&&pi(t,"string",o)&&a.push(r+o)}return a}function ou(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function cu(e,t){return e>t?1:t>e?-1:0}function pi(e,t,r){return e.some(n=>n[t]===r)}function gi(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function mi(e,t){return e-e%Math.pow(10,t)}function yi(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function uu(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function bi(e){return/^-?(0+)\d/.test(e)}function lu(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}Ke.cache={};Ke.clearCache=()=>Ke.cache={};_i.exports=Ke});var Br=_((_h,ki)=>{"use strict";var fu=require("util"),$i=Si(),wi=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),du=e=>t=>e===!0?Number(t):String(t),Fr=e=>typeof e=="number"||typeof e=="string"&&e!=="",wt=e=>Number.isInteger(+e),Hr=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},hu=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,pu=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},jt=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},gu=(e,t,r)=>{e.negatives.sort((o,c)=>o<c?-1:o>c?1:0),e.positives.sort((o,c)=>o<c?-1:o>c?1:0);let n=t.capture?"":"?:",s="",a="",i;return e.positives.length&&(s=e.positives.map(o=>jt(String(o),r)).join("|")),e.negatives.length&&(a=`-(${n}${e.negatives.map(o=>jt(String(o),r)).join("|")})`),s&&a?i=`${s}|${a}`:i=s||a,t.wrap?`(${n}${i})`:i},Ei=(e,t,r,n)=>{if(r)return $i(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===t)return s;let a=String.fromCharCode(t);return`[${s}-${a}]`},Ai=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return $i(e,t,r)},vi=(...e)=>new RangeError("Invalid range arguments: "+fu.inspect(...e)),xi=(e,t,r)=>{if(r.strictRanges===!0)throw vi([e,t]);return[]},mu=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},yu=(e,t,r=1,n={})=>{let s=Number(e),a=Number(t);if(!Number.isInteger(s)||!Number.isInteger(a)){if(n.strictRanges===!0)throw vi([e,t]);return[]}s===0&&(s=0),a===0&&(a=0);let i=s>a,o=String(e),c=String(t),f=String(r);r=Math.max(Math.abs(r),1);let u=Hr(o)||Hr(c)||Hr(f),p=u?Math.max(o.length,c.length,f.length):0,l=u===!1&&hu(e,t,n)===!1,E=n.transform||du(l);if(n.toRegex&&r===1)return Ei(jt(e,p),jt(t,p),!0,n);let y={negatives:[],positives:[]},m=q=>y[q<0?"negatives":"positives"].push(Math.abs(q)),w=[],R=0;for(;i?s>=a:s<=a;)n.toRegex===!0&&r>1?m(s):w.push(pu(E(s,R),p,l)),s=i?s-r:s+r,R++;return n.toRegex===!0?r>1?gu(y,n,p):Ai(w,null,{wrap:!1,...n}):w},bu=(e,t,r=1,n={})=>{if(!wt(e)&&e.length>1||!wt(t)&&t.length>1)return xi(e,t,n);let s=n.transform||(l=>String.fromCharCode(l)),a=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),o=a>i,c=Math.min(a,i),f=Math.max(a,i);if(n.toRegex&&r===1)return Ei(c,f,!1,n);let u=[],p=0;for(;o?a>=i:a<=i;)u.push(s(a,p)),a=o?a-r:a+r,p++;return n.toRegex===!0?Ai(u,null,{wrap:!1,options:n}):u},Vt=(e,t,r,n={})=>{if(t==null&&Fr(e))return[e];if(!Fr(e)||!Fr(t))return xi(e,t,n);if(typeof r=="function")return Vt(e,t,1,{transform:r});if(wi(r))return Vt(e,t,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,wt(r)?wt(e)&&wt(t)?yu(e,t,r,s):bu(e,t,Math.max(Math.abs(r),1),s):r!=null&&!wi(r)?mu(r,s):Vt(e,t,1,r)};ki.exports=Vt});var Ci=_((Sh,Pi)=>{"use strict";var _u=Br(),Ri=Wt(),Su=(e,t={})=>{let r=(n,s={})=>{let a=Ri.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,o=a===!0||i===!0,c=t.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0)return c+n.value;if(n.isClose===!0)return console.log("node.isClose",c,n.value),c+n.value;if(n.type==="open")return o?c+n.value:"(";if(n.type==="close")return o?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":o?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let u=Ri.reduce(n.nodes),p=_u(...u,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return u.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let u of n.nodes)f+=r(u,n);return f};return r(e)};Pi.exports=Su});var Ii=_((wh,Oi)=>{"use strict";var wu=Br(),Ti=qt(),ot=Wt(),Ye=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?ot.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let a of s)n.push(Ye(a,t,r));else for(let a of t)r===!0&&typeof a=="string"&&(a=`{${a}}`),n.push(Array.isArray(a)?Ye(s,a,r):s+a);return ot.flatten(n)},$u=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,a={})=>{s.queue=[];let i=a,o=a.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,o=i.queue;if(s.invalid||s.dollar){o.push(Ye(o.pop(),Ti(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){o.push(Ye(o.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let p=ot.reduce(s.nodes);if(ot.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=wu(...p,t);l.length===0&&(l=Ti(s,t)),o.push(Ye(o.pop(),l)),s.nodes=[];return}let c=ot.encloseBrace(s),f=s.queue,u=s;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,f=u.queue;for(let p=0;p<s.nodes.length;p++){let l=s.nodes[p];if(l.type==="comma"&&s.type==="brace"){p===1&&f.push(""),f.push("");continue}if(l.type==="close"){o.push(Ye(o.pop(),f,c));continue}if(l.value&&l.type!=="open"){f.push(Ye(f.pop(),l.value));continue}l.nodes&&n(l,s)}return f};return ot.flatten(n(e))};Oi.exports=$u});var Di=_(($h,Li)=>{"use strict";Li.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Hi=_((Eh,Fi)=>{"use strict";var Eu=qt(),{MAX_LENGTH:Mi,CHAR_BACKSLASH:Wr,CHAR_BACKTICK:Au,CHAR_COMMA:vu,CHAR_DOT:xu,CHAR_LEFT_PARENTHESES:ku,CHAR_RIGHT_PARENTHESES:Ru,CHAR_LEFT_CURLY_BRACE:Pu,CHAR_RIGHT_CURLY_BRACE:Cu,CHAR_LEFT_SQUARE_BRACKET:Ni,CHAR_RIGHT_SQUARE_BRACKET:Ui,CHAR_DOUBLE_QUOTE:Tu,CHAR_SINGLE_QUOTE:Ou,CHAR_NO_BREAK_SPACE:Iu,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Lu}=Di(),Du=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Mi,r.maxLength):Mi;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},a=[s],i=s,o=s,c=0,f=e.length,u=0,p=0,l,E=()=>e[u++],y=m=>{if(m.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&m.type==="text"){o.value+=m.value;return}return i.nodes.push(m),m.parent=i,m.prev=o,o=m,m};for(y({type:"bos"});u<f;)if(i=a[a.length-1],l=E(),!(l===Lu||l===Iu)){if(l===Wr){y({type:"text",value:(t.keepEscaping?l:"")+E()});continue}if(l===Ui){y({type:"text",value:"\\"+l});continue}if(l===Ni){c++;let m;for(;u<f&&(m=E());){if(l+=m,m===Ni){c++;continue}if(m===Wr){l+=E();continue}if(m===Ui&&(c--,c===0))break}y({type:"text",value:l});continue}if(l===ku){i=y({type:"paren",nodes:[]}),a.push(i),y({type:"text",value:l});continue}if(l===Ru){if(i.type!=="paren"){y({type:"text",value:l});continue}i=a.pop(),y({type:"text",value:l}),i=a[a.length-1];continue}if(l===Tu||l===Ou||l===Au){let m=l,w;for(t.keepQuotes!==!0&&(l="");u<f&&(w=E());){if(w===Wr){l+=w+E();continue}if(w===m){t.keepQuotes===!0&&(l+=w);break}l+=w}y({type:"text",value:l});continue}if(l===Pu){p++;let w={type:"brace",open:!0,close:!1,dollar:o.value&&o.value.slice(-1)==="$"||i.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};i=y(w),a.push(i),y({type:"open",value:l});continue}if(l===Cu){if(i.type!=="brace"){y({type:"text",value:l});continue}let m="close";i=a.pop(),i.close=!0,y({type:m,value:l}),p--,i=a[a.length-1];continue}if(l===vu&&p>0){if(i.ranges>0){i.ranges=0;let m=i.nodes.shift();i.nodes=[m,{type:"text",value:Eu(i)}]}y({type:"comma",value:l}),i.commas++;continue}if(l===xu&&p>0&&i.commas===0){let m=i.nodes;if(p===0||m.length===0){y({type:"text",value:l});continue}if(o.type==="dot"){if(i.range=[],o.value+=l,o.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,o.type="text";continue}i.ranges++,i.args=[];continue}if(o.type==="range"){m.pop();let w=m[m.length-1];w.value+=o.value+l,o=w,i.ranges--;continue}y({type:"dot",value:l});continue}y({type:"text",value:l})}do if(i=a.pop(),i.type!=="root"){i.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let m=a[a.length-1],w=m.nodes.indexOf(i);m.nodes.splice(w,1,...i.nodes)}while(a.length>0);return y({type:"eos"}),s};Fi.exports=Du});var qi=_((Ah,Wi)=>{"use strict";var Bi=qt(),Mu=Ci(),Nu=Ii(),Uu=Hi(),he=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=he.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(he.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};he.parse=(e,t={})=>Uu(e,t);he.stringify=(e,t={})=>Bi(typeof e=="string"?he.parse(e,t):e,t);he.compile=(e,t={})=>(typeof e=="string"&&(e=he.parse(e,t)),Mu(e,t));he.expand=(e,t={})=>{typeof e=="string"&&(e=he.parse(e,t));let r=Nu(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};he.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?he.compile(e,t):he.expand(e,t);Wi.exports=he});var $t=_((vh,Ki)=>{"use strict";var Fu=require("path"),ke="\\\\/",Vi=`[^${ke}]`,Le="\\.",Hu="\\+",Bu="\\?",Gt="\\/",Wu="(?=.)",ji="[^/]",qr=`(?:${Gt}|$)`,Gi=`(?:^|${Gt})`,Vr=`${Le}{1,2}${qr}`,qu=`(?!${Le})`,Vu=`(?!${Gi}${Vr})`,ju=`(?!${Le}{0,1}${qr})`,Gu=`(?!${Vr})`,zu=`[^.${Gt}]`,Ku=`${ji}*?`,zi={DOT_LITERAL:Le,PLUS_LITERAL:Hu,QMARK_LITERAL:Bu,SLASH_LITERAL:Gt,ONE_CHAR:Wu,QMARK:ji,END_ANCHOR:qr,DOTS_SLASH:Vr,NO_DOT:qu,NO_DOTS:Vu,NO_DOT_SLASH:ju,NO_DOTS_SLASH:Gu,QMARK_NO_DOT:zu,STAR:Ku,START_ANCHOR:Gi},Yu={...zi,SLASH_LITERAL:`[${ke}]`,QMARK:Vi,STAR:`${Vi}*?`,DOTS_SLASH:`${Le}{1,2}(?:[${ke}]|$)`,NO_DOT:`(?!${Le})`,NO_DOTS:`(?!(?:^|[${ke}])${Le}{1,2}(?:[${ke}]|$))`,NO_DOT_SLASH:`(?!${Le}{0,1}(?:[${ke}]|$))`,NO_DOTS_SLASH:`(?!${Le}{1,2}(?:[${ke}]|$))`,QMARK_NO_DOT:`[^.${ke}]`,START_ANCHOR:`(?:^|[${ke}])`,END_ANCHOR:`(?:[${ke}]|$)`},Zu={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ki.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Zu,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Fu.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Yu:zi}}});var Et=_(oe=>{"use strict";var Qu=require("path"),Xu=process.platform==="win32",{REGEX_BACKSLASH:Ju,REGEX_REMOVE_BACKSLASH:el,REGEX_SPECIAL_CHARS:tl,REGEX_SPECIAL_CHARS_GLOBAL:rl}=$t();oe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);oe.hasRegexChars=e=>tl.test(e);oe.isRegexChar=e=>e.length===1&&oe.hasRegexChars(e);oe.escapeRegex=e=>e.replace(rl,"\\$1");oe.toPosixSlashes=e=>e.replace(Ju,"/");oe.removeBackslashes=e=>e.replace(el,t=>t==="\\"?"":t);oe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};oe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Xu===!0||Qu.sep==="\\";oe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?oe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};oe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};oe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",a=`${n}(?:${e})${s}`;return t.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var ra=_((kh,ta)=>{"use strict";var Yi=Et(),{CHAR_ASTERISK:jr,CHAR_AT:nl,CHAR_BACKWARD_SLASH:At,CHAR_COMMA:sl,CHAR_DOT:Gr,CHAR_EXCLAMATION_MARK:zr,CHAR_FORWARD_SLASH:ea,CHAR_LEFT_CURLY_BRACE:Kr,CHAR_LEFT_PARENTHESES:Yr,CHAR_LEFT_SQUARE_BRACKET:il,CHAR_PLUS:al,CHAR_QUESTION_MARK:Zi,CHAR_RIGHT_CURLY_BRACE:ol,CHAR_RIGHT_PARENTHESES:Qi,CHAR_RIGHT_SQUARE_BRACKET:cl}=$t(),Xi=e=>e===ea||e===At,Ji=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},ul=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,a=[],i=[],o=[],c=e,f=-1,u=0,p=0,l=!1,E=!1,y=!1,m=!1,w=!1,R=!1,q=!1,k=!1,C=!1,v=!1,N=0,x,$,D={value:"",depth:0,isGlob:!1},j=()=>f>=n,g=()=>c.charCodeAt(f+1),P=()=>(x=$,c.charCodeAt(++f));for(;f<n;){$=P();let Y;if($===At){q=D.backslashes=!0,$=P(),$===Kr&&(R=!0);continue}if(R===!0||$===Kr){for(N++;j()!==!0&&($=P());){if($===At){q=D.backslashes=!0,P();continue}if($===Kr){N++;continue}if(R!==!0&&$===Gr&&($=P())===Gr){if(l=D.isBrace=!0,y=D.isGlob=!0,v=!0,s===!0)continue;break}if(R!==!0&&$===sl){if(l=D.isBrace=!0,y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===ol&&(N--,N===0)){R=!1,l=D.isBrace=!0,v=!0;break}}if(s===!0)continue;break}if($===ea){if(a.push(f),i.push(D),D={value:"",depth:0,isGlob:!1},v===!0)continue;if(x===Gr&&f===u+1){u+=2;continue}p=f+1;continue}if(r.noext!==!0&&($===al||$===nl||$===jr||$===Zi||$===zr)===!0&&g()===Yr){if(y=D.isGlob=!0,m=D.isExtglob=!0,v=!0,$===zr&&f===u&&(C=!0),s===!0){for(;j()!==!0&&($=P());){if($===At){q=D.backslashes=!0,$=P();continue}if($===Qi){y=D.isGlob=!0,v=!0;break}}continue}break}if($===jr){if(x===jr&&(w=D.isGlobstar=!0),y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===Zi){if(y=D.isGlob=!0,v=!0,s===!0)continue;break}if($===il){for(;j()!==!0&&(Y=P());){if(Y===At){q=D.backslashes=!0,P();continue}if(Y===cl){E=D.isBracket=!0,y=D.isGlob=!0,v=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&$===zr&&f===u){k=D.negated=!0,u++;continue}if(r.noparen!==!0&&$===Yr){if(y=D.isGlob=!0,s===!0){for(;j()!==!0&&($=P());){if($===Yr){q=D.backslashes=!0,$=P();continue}if($===Qi){v=!0;break}}continue}break}if(y===!0){if(v=!0,s===!0)continue;break}}r.noext===!0&&(m=!1,y=!1);let U=c,J="",d="";u>0&&(J=c.slice(0,u),c=c.slice(u),p-=u),U&&y===!0&&p>0?(U=c.slice(0,p),d=c.slice(p)):y===!0?(U="",d=c):U=c,U&&U!==""&&U!=="/"&&U!==c&&Xi(U.charCodeAt(U.length-1))&&(U=U.slice(0,-1)),r.unescape===!0&&(d&&(d=Yi.removeBackslashes(d)),U&&q===!0&&(U=Yi.removeBackslashes(U)));let h={prefix:J,input:e,start:u,base:U,glob:d,isBrace:l,isBracket:E,isGlob:y,isExtglob:m,isGlobstar:w,negated:k,negatedExtglob:C};if(r.tokens===!0&&(h.maxDepth=0,Xi($)||i.push(D),h.tokens=i),r.parts===!0||r.tokens===!0){let Y;for(let I=0;I<a.length;I++){let ve=Y?Y+1:u,xe=a[I],le=e.slice(ve,xe);r.tokens&&(I===0&&u!==0?(i[I].isPrefix=!0,i[I].value=J):i[I].value=le,Ji(i[I]),h.maxDepth+=i[I].depth),(I!==0||le!=="")&&o.push(le),Y=xe}if(Y&&Y+1<e.length){let I=e.slice(Y+1);o.push(I),r.tokens&&(i[i.length-1].value=I,Ji(i[i.length-1]),h.maxDepth+=i[i.length-1].depth)}h.slashes=a,h.parts=o}return h};ta.exports=ul});var ia=_((Rh,sa)=>{"use strict";var zt=$t(),pe=Et(),{MAX_LENGTH:Kt,POSIX_REGEX_SOURCE:ll,REGEX_NON_SPECIAL_CHARS:fl,REGEX_SPECIAL_CHARS_BACKREF:dl,REPLACEMENTS:na}=zt,hl=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>pe.escapeRegex(s)).join("..")}return r},ct=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Zr=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=na[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Kt,r.maxLength):Kt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},i=[a],o=r.capture?"":"?:",c=pe.isWindows(t),f=zt.globChars(c),u=zt.extglobChars(f),{DOT_LITERAL:p,PLUS_LITERAL:l,SLASH_LITERAL:E,ONE_CHAR:y,DOTS_SLASH:m,NO_DOT:w,NO_DOT_SLASH:R,NO_DOTS_SLASH:q,QMARK:k,QMARK_NO_DOT:C,STAR:v,START_ANCHOR:N}=f,x=S=>`(${o}(?:(?!${N}${S.dot?m:p}).)*?)`,$=r.dot?"":w,D=r.dot?k:C,j=r.bash===!0?x(r):v;r.capture&&(j=`(${j})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let g={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=pe.removePrefix(e,g),s=e.length;let P=[],U=[],J=[],d=a,h,Y=()=>g.index===s-1,I=g.peek=(S=1)=>e[g.index+S],ve=g.advance=()=>e[++g.index]||"",xe=()=>e.slice(g.index+1),le=(S="",B=0)=>{g.consumed+=S,g.index+=B},kt=S=>{g.output+=S.output!=null?S.output:S.value,le(S.value)},ic=()=>{let S=1;for(;I()==="!"&&(I(2)!=="("||I(3)==="?");)ve(),g.start++,S++;return S%2===0?!1:(g.negated=!0,g.start++,!0)},Rt=S=>{g[S]++,J.push(S)},Ge=S=>{g[S]--,J.pop()},L=S=>{if(d.type==="globstar"){let B=g.braces>0&&(S.type==="comma"||S.type==="brace"),b=S.extglob===!0||P.length&&(S.type==="pipe"||S.type==="paren");S.type!=="slash"&&S.type!=="paren"&&!B&&!b&&(g.output=g.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=j,g.output+=d.output)}if(P.length&&S.type!=="paren"&&(P[P.length-1].inner+=S.value),(S.value||S.output)&&kt(S),d&&d.type==="text"&&S.type==="text"){d.value+=S.value,d.output=(d.output||"")+S.value;return}S.prev=d,i.push(S),d=S},Pt=(S,B)=>{let b={...u[B],conditions:1,inner:""};b.prev=d,b.parens=g.parens,b.output=g.output;let T=(r.capture?"(":"")+b.open;Rt("parens"),L({type:S,value:B,output:g.output?"":y}),L({type:"paren",extglob:!0,value:ve(),output:T}),P.push(b)},ac=S=>{let B=S.close+(r.capture?")":""),b;if(S.type==="negate"){let T=j;if(S.inner&&S.inner.length>1&&S.inner.includes("/")&&(T=x(r)),(T!==j||Y()||/^\)+$/.test(xe()))&&(B=S.close=`)$))${T}`),S.inner.includes("*")&&(b=xe())&&/^\.[^\\/.]+$/.test(b)){let V=Zr(b,{...t,fastpaths:!1}).output;B=S.close=`)${V})${T})`}S.prev.type==="bos"&&(g.negatedExtglob=!0)}L({type:"paren",extglob:!0,value:h,output:B}),Ge("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let S=!1,B=e.replace(dl,(b,T,V,se,Z,Er)=>se==="\\"?(S=!0,b):se==="?"?T?T+se+(Z?k.repeat(Z.length):""):Er===0?D+(Z?k.repeat(Z.length):""):k.repeat(V.length):se==="."?p.repeat(V.length):se==="*"?T?T+se+(Z?j:""):j:T?b:`\\${b}`);return S===!0&&(r.unescape===!0?B=B.replace(/\\/g,""):B=B.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),B===e&&r.contains===!0?(g.output=e,g):(g.output=pe.wrapOutput(B,g,t),g)}for(;!Y();){if(h=ve(),h==="\0")continue;if(h==="\\"){let b=I();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){h+="\\",L({type:"text",value:h});continue}let T=/^\\+/.exec(xe()),V=0;if(T&&T[0].length>2&&(V=T[0].length,g.index+=V,V%2!==0&&(h+="\\")),r.unescape===!0?h=ve():h+=ve(),g.brackets===0){L({type:"text",value:h});continue}}if(g.brackets>0&&(h!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&h===":"){let b=d.value.slice(1);if(b.includes("[")&&(d.posix=!0,b.includes(":"))){let T=d.value.lastIndexOf("["),V=d.value.slice(0,T),se=d.value.slice(T+2),Z=ll[se];if(Z){d.value=V+Z,g.backtrack=!0,ve(),!a.output&&i.indexOf(d)===1&&(a.output=y);continue}}}(h==="["&&I()!==":"||h==="-"&&I()==="]")&&(h=`\\${h}`),h==="]"&&(d.value==="["||d.value==="[^")&&(h=`\\${h}`),r.posix===!0&&h==="!"&&d.value==="["&&(h="^"),d.value+=h,kt({value:h});continue}if(g.quotes===1&&h!=='"'){h=pe.escapeRegex(h),d.value+=h,kt({value:h});continue}if(h==='"'){g.quotes=g.quotes===1?0:1,r.keepQuotes===!0&&L({type:"text",value:h});continue}if(h==="("){Rt("parens"),L({type:"paren",value:h});continue}if(h===")"){if(g.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ct("opening","("));let b=P[P.length-1];if(b&&g.parens===b.parens+1){ac(P.pop());continue}L({type:"paren",value:h,output:g.parens?")":"\\)"}),Ge("parens");continue}if(h==="["){if(r.nobracket===!0||!xe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ct("closing","]"));h=`\\${h}`}else Rt("brackets");L({type:"bracket",value:h});continue}if(h==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){L({type:"text",value:h,output:`\\${h}`});continue}if(g.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ct("opening","["));L({type:"text",value:h,output:`\\${h}`});continue}Ge("brackets");let b=d.value.slice(1);if(d.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(h=`/${h}`),d.value+=h,kt({value:h}),r.literalBrackets===!1||pe.hasRegexChars(b))continue;let T=pe.escapeRegex(d.value);if(g.output=g.output.slice(0,-d.value.length),r.literalBrackets===!0){g.output+=T,d.value=T;continue}d.value=`(${o}${T}|${d.value})`,g.output+=d.value;continue}if(h==="{"&&r.nobrace!==!0){Rt("braces");let b={type:"brace",value:h,output:"(",outputIndex:g.output.length,tokensIndex:g.tokens.length};U.push(b),L(b);continue}if(h==="}"){let b=U[U.length-1];if(r.nobrace===!0||!b){L({type:"text",value:h,output:h});continue}let T=")";if(b.dots===!0){let V=i.slice(),se=[];for(let Z=V.length-1;Z>=0&&(i.pop(),V[Z].type!=="brace");Z--)V[Z].type!=="dots"&&se.unshift(V[Z].value);T=hl(se,r),g.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let V=g.output.slice(0,b.outputIndex),se=g.tokens.slice(b.tokensIndex);b.value=b.output="\\{",h=T="\\}",g.output=V;for(let Z of se)g.output+=Z.output||Z.value}L({type:"brace",value:h,output:T}),Ge("braces"),U.pop();continue}if(h==="|"){P.length>0&&P[P.length-1].conditions++,L({type:"text",value:h});continue}if(h===","){let b=h,T=U[U.length-1];T&&J[J.length-1]==="braces"&&(T.comma=!0,b="|"),L({type:"comma",value:h,output:b});continue}if(h==="/"){if(d.type==="dot"&&g.index===g.start+1){g.start=g.index+1,g.consumed="",g.output="",i.pop(),d=a;continue}L({type:"slash",value:h,output:E});continue}if(h==="."){if(g.braces>0&&d.type==="dot"){d.value==="."&&(d.output=p);let b=U[U.length-1];d.type="dots",d.output+=h,d.value+=h,b.dots=!0;continue}if(g.braces+g.parens===0&&d.type!=="bos"&&d.type!=="slash"){L({type:"text",value:h,output:p});continue}L({type:"dot",value:h,output:p});continue}if(h==="?"){if(!(d&&d.value==="(")&&r.noextglob!==!0&&I()==="("&&I(2)!=="?"){Pt("qmark",h);continue}if(d&&d.type==="paren"){let T=I(),V=h;if(T==="<"&&!pe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(T)||T==="<"&&!/<([!=]|\w+>)/.test(xe()))&&(V=`\\${h}`),L({type:"text",value:h,output:V});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){L({type:"qmark",value:h,output:C});continue}L({type:"qmark",value:h,output:k});continue}if(h==="!"){if(r.noextglob!==!0&&I()==="("&&(I(2)!=="?"||!/[!=<:]/.test(I(3)))){Pt("negate",h);continue}if(r.nonegate!==!0&&g.index===0){ic();continue}}if(h==="+"){if(r.noextglob!==!0&&I()==="("&&I(2)!=="?"){Pt("plus",h);continue}if(d&&d.value==="("||r.regex===!1){L({type:"plus",value:h,output:l});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||g.parens>0){L({type:"plus",value:h});continue}L({type:"plus",value:l});continue}if(h==="@"){if(r.noextglob!==!0&&I()==="("&&I(2)!=="?"){L({type:"at",extglob:!0,value:h,output:""});continue}L({type:"text",value:h});continue}if(h!=="*"){(h==="$"||h==="^")&&(h=`\\${h}`);let b=fl.exec(xe());b&&(h+=b[0],g.index+=b[0].length),L({type:"text",value:h});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=h,d.output=j,g.backtrack=!0,g.globstar=!0,le(h);continue}let S=xe();if(r.noextglob!==!0&&/^\([^?]/.test(S)){Pt("star",h);continue}if(d.type==="star"){if(r.noglobstar===!0){le(h);continue}let b=d.prev,T=b.prev,V=b.type==="slash"||b.type==="bos",se=T&&(T.type==="star"||T.type==="globstar");if(r.bash===!0&&(!V||S[0]&&S[0]!=="/")){L({type:"star",value:h,output:""});continue}let Z=g.braces>0&&(b.type==="comma"||b.type==="brace"),Er=P.length&&(b.type==="pipe"||b.type==="paren");if(!V&&b.type!=="paren"&&!Z&&!Er){L({type:"star",value:h,output:""});continue}for(;S.slice(0,3)==="/**";){let Ct=e[g.index+4];if(Ct&&Ct!=="/")break;S=S.slice(3),le("/**",3)}if(b.type==="bos"&&Y()){d.type="globstar",d.value+=h,d.output=x(r),g.output=d.output,g.globstar=!0,le(h);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!se&&Y()){g.output=g.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=x(r)+(r.strictSlashes?")":"|$)"),d.value+=h,g.globstar=!0,g.output+=b.output+d.output,le(h);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&S[0]==="/"){let Ct=S[1]!==void 0?"|$":"";g.output=g.output.slice(0,-(b.output+d.output).length),b.output=`(?:${b.output}`,d.type="globstar",d.output=`${x(r)}${E}|${E}${Ct})`,d.value+=h,g.output+=b.output+d.output,g.globstar=!0,le(h+ve()),L({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&S[0]==="/"){d.type="globstar",d.value+=h,d.output=`(?:^|${E}|${x(r)}${E})`,g.output=d.output,g.globstar=!0,le(h+ve()),L({type:"slash",value:"/",output:""});continue}g.output=g.output.slice(0,-d.output.length),d.type="globstar",d.output=x(r),d.value+=h,g.output+=d.output,g.globstar=!0,le(h);continue}let B={type:"star",value:h,output:j};if(r.bash===!0){B.output=".*?",(d.type==="bos"||d.type==="slash")&&(B.output=$+B.output),L(B);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){B.output=h,L(B);continue}(g.index===g.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(g.output+=R,d.output+=R):r.dot===!0?(g.output+=q,d.output+=q):(g.output+=$,d.output+=$),I()!=="*"&&(g.output+=y,d.output+=y)),L(B)}for(;g.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing","]"));g.output=pe.escapeLast(g.output,"["),Ge("brackets")}for(;g.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing",")"));g.output=pe.escapeLast(g.output,"("),Ge("parens")}for(;g.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ct("closing","}"));g.output=pe.escapeLast(g.output,"{"),Ge("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&L({type:"maybe_slash",value:"",output:`${E}?`}),g.backtrack===!0){g.output="";for(let S of g.tokens)g.output+=S.output!=null?S.output:S.value,S.suffix&&(g.output+=S.suffix)}return g};Zr.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Kt,r.maxLength):Kt,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=na[e]||e;let a=pe.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:o,ONE_CHAR:c,DOTS_SLASH:f,NO_DOT:u,NO_DOTS:p,NO_DOTS_SLASH:l,STAR:E,START_ANCHOR:y}=zt.globChars(a),m=r.dot?p:u,w=r.dot?l:u,R=r.capture?"":"?:",q={negated:!1,prefix:""},k=r.bash===!0?".*?":E;r.capture&&(k=`(${k})`);let C=$=>$.noglobstar===!0?k:`(${R}(?:(?!${y}${$.dot?f:i}).)*?)`,v=$=>{switch($){case"*":return`${m}${c}${k}`;case".*":return`${i}${c}${k}`;case"*.*":return`${m}${k}${i}${c}${k}`;case"*/*":return`${m}${k}${o}${c}${w}${k}`;case"**":return m+C(r);case"**/*":return`(?:${m}${C(r)}${o})?${w}${c}${k}`;case"**/*.*":return`(?:${m}${C(r)}${o})?${w}${k}${i}${c}${k}`;case"**/.*":return`(?:${m}${C(r)}${o})?${i}${c}${k}`;default:{let D=/^(.*?)\.(\w+)$/.exec($);if(!D)return;let j=v(D[1]);return j?j+i+D[2]:void 0}}},N=pe.removePrefix(e,q),x=v(N);return x&&r.strictSlashes!==!0&&(x+=`${o}?`),x};sa.exports=Zr});var oa=_((Ph,aa)=>{"use strict";var pl=require("path"),gl=ra(),Qr=ia(),Xr=Et(),ml=$t(),yl=e=>e&&typeof e=="object"&&!Array.isArray(e),G=(e,t,r=!1)=>{if(Array.isArray(e)){let u=e.map(l=>G(l,t,r));return l=>{for(let E of u){let y=E(l);if(y)return y}return!1}}let n=yl(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},a=Xr.isWindows(t),i=n?G.compileRe(e,t):G.makeRe(e,t,!1,!0),o=i.state;delete i.state;let c=()=>!1;if(s.ignore){let u={...t,ignore:null,onMatch:null,onResult:null};c=G(s.ignore,u,r)}let f=(u,p=!1)=>{let{isMatch:l,match:E,output:y}=G.test(u,i,t,{glob:e,posix:a}),m={glob:e,state:o,regex:i,posix:a,input:u,output:y,match:E,isMatch:l};return typeof s.onResult=="function"&&s.onResult(m),l===!1?(m.isMatch=!1,p?m:!1):c(u)?(typeof s.onIgnore=="function"&&s.onIgnore(m),m.isMatch=!1,p?m:!1):(typeof s.onMatch=="function"&&s.onMatch(m),p?m:!0)};return r&&(f.state=o),f};G.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let a=r||{},i=a.format||(s?Xr.toPosixSlashes:null),o=e===n,c=o&&i?i(e):e;return o===!1&&(c=i?i(e):e,o=c===n),(o===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?o=G.matchBase(e,t,r,s):o=t.exec(c)),{isMatch:!!o,match:o,output:c}};G.matchBase=(e,t,r,n=Xr.isWindows(r))=>(t instanceof RegExp?t:G.makeRe(t,r)).test(pl.basename(e));G.isMatch=(e,t,r)=>G(t,r)(e);G.parse=(e,t)=>Array.isArray(e)?e.map(r=>G.parse(r,t)):Qr(e,{...t,fastpaths:!1});G.scan=(e,t)=>gl(e,t);G.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},a=s.contains?"":"^",i=s.contains?"":"$",o=`${a}(?:${e.output})${i}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);let c=G.toRegex(o,t);return n===!0&&(c.state=e),c};G.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=Qr.fastpaths(e,t)),s.output||(s=Qr(e,t)),G.compileRe(s,t,r,n)};G.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};G.constants=ml;aa.exports=G});var ua=_((Ch,ca)=>{"use strict";ca.exports=oa()});var ga=_((Th,pa)=>{"use strict";var fa=require("util"),da=qi(),Re=ua(),Jr=Et(),la=e=>e===""||e==="./",ha=e=>{let t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},W=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,a=new Set,i=0,o=u=>{a.add(u.output),r&&r.onResult&&r.onResult(u)};for(let u=0;u<t.length;u++){let p=Re(String(t[u]),{...r,onResult:o},!0),l=p.state.negated||p.state.negatedExtglob;l&&i++;for(let E of e){let y=p(E,!0);(l?!y.isMatch:y.isMatch)&&(l?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let f=(i===t.length?[...a]:[...s]).filter(u=>!n.has(u));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(u=>u.replace(/\\/g,"")):t}return f};W.match=W;W.matcher=(e,t)=>Re(e,t);W.isMatch=(e,t,r)=>Re(t,r)(e);W.any=W.isMatch;W.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],a=o=>{r.onResult&&r.onResult(o),s.push(o.output)},i=new Set(W(e,t,{...r,onResult:a}));for(let o of s)i.has(o)||n.add(o);return[...n]};W.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fa.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>W.contains(e,n,r));if(typeof t=="string"){if(la(e)||la(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return W.isMatch(e,t,{...r,contains:!0})};W.matchKeys=(e,t,r)=>{if(!Jr.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=W(Object.keys(e),t,r),s={};for(let a of n)s[a]=e[a];return s};W.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let a=Re(String(s),r);if(n.some(i=>a(i)))return!0}return!1};W.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let a=Re(String(s),r);if(!n.every(i=>a(i)))return!1}return!0};W.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${fa.inspect(e)}"`);return[].concat(t).every(n=>Re(n,r)(e))};W.capture=(e,t,r)=>{let n=Jr.isWindows(r),a=Re.makeRe(String(e),{...r,capture:!0}).exec(n?Jr.toPosixSlashes(t):t);if(a)return a.slice(1).map(i=>i===void 0?"":i)};W.makeRe=(...e)=>Re.makeRe(...e);W.scan=(...e)=>Re.scan(...e);W.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of da(String(n),t))r.push(Re.parse(s,t));return r};W.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!ha(e)?[e]:da(e,t)};W.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return W.braces(e,{...t,expand:!0})};W.hasBraces=ha;pa.exports=W});var va=_(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.isAbsolute=A.partitionAbsoluteAndRelative=A.removeDuplicateSlashes=A.matchAny=A.convertPatternsToRe=A.makeRe=A.getPatternParts=A.expandBraceExpansion=A.expandPatternsWithBraceExpansion=A.isAffectDepthOfReadingPattern=A.endsWithSlashGlobStar=A.hasGlobStar=A.getBaseDirectory=A.isPatternRelatedToParentDirectory=A.getPatternsOutsideCurrentDirectory=A.getPatternsInsideCurrentDirectory=A.getPositivePatterns=A.getNegativePatterns=A.isPositivePattern=A.isNegativePattern=A.convertToNegativePattern=A.convertToPositivePattern=A.isDynamicPattern=A.isStaticPattern=void 0;var ma=require("path"),bl=oi(),en=ga(),ya="**",_l="\\",Sl=/[*?]|^!/,wl=/\[[^[]*]/,$l=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,El=/[!*+?@]\([^(]*\)/,Al=/,|\.\./,vl=/(?!^)\/{2,}/g;function ba(e,t={}){return!_a(e,t)}A.isStaticPattern=ba;function _a(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(_l)||Sl.test(e)||wl.test(e)||$l.test(e)||t.extglob!==!1&&El.test(e)||t.braceExpansion!==!1&&xl(e))}A.isDynamicPattern=_a;function xl(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return Al.test(n)}function kl(e){return Yt(e)?e.slice(1):e}A.convertToPositivePattern=kl;function Rl(e){return"!"+e}A.convertToNegativePattern=Rl;function Yt(e){return e.startsWith("!")&&e[1]!=="("}A.isNegativePattern=Yt;function Sa(e){return!Yt(e)}A.isPositivePattern=Sa;function Pl(e){return e.filter(Yt)}A.getNegativePatterns=Pl;function Cl(e){return e.filter(Sa)}A.getPositivePatterns=Cl;function Tl(e){return e.filter(t=>!tn(t))}A.getPatternsInsideCurrentDirectory=Tl;function Ol(e){return e.filter(tn)}A.getPatternsOutsideCurrentDirectory=Ol;function tn(e){return e.startsWith("..")||e.startsWith("./..")}A.isPatternRelatedToParentDirectory=tn;function Il(e){return bl(e,{flipBackslashes:!1})}A.getBaseDirectory=Il;function Ll(e){return e.includes(ya)}A.hasGlobStar=Ll;function wa(e){return e.endsWith("/"+ya)}A.endsWithSlashGlobStar=wa;function Dl(e){let t=ma.basename(e);return wa(e)||ba(t)}A.isAffectDepthOfReadingPattern=Dl;function Ml(e){return e.reduce((t,r)=>t.concat($a(r)),[])}A.expandPatternsWithBraceExpansion=Ml;function $a(e){let t=en.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort((r,n)=>r.length-n.length),t.filter(r=>r!=="")}A.expandBraceExpansion=$a;function Nl(e,t){let{parts:r}=en.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}A.getPatternParts=Nl;function Ea(e,t){return en.makeRe(e,t)}A.makeRe=Ea;function Ul(e,t){return e.map(r=>Ea(r,t))}A.convertPatternsToRe=Ul;function Fl(e,t){return t.some(r=>r.test(e))}A.matchAny=Fl;function Hl(e){return e.replace(vl,"/")}A.removeDuplicateSlashes=Hl;function Bl(e){let t=[],r=[];for(let n of e)Aa(n)?t.push(n):r.push(n);return[t,r]}A.partitionAbsoluteAndRelative=Bl;function Aa(e){return ma.isAbsolute(e)}A.isAbsolute=Aa});var Pa=_((Ih,Ra)=>{"use strict";var Wl=require("stream"),xa=Wl.PassThrough,ql=Array.prototype.slice;Ra.exports=Vl;function Vl(){let e=[],t=ql.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let s=n.end!==!1,a=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=xa(n);function o(){for(let u=0,p=arguments.length;u<p;u++)e.push(ka(arguments[u],n));return c(),this}function c(){if(r)return;r=!0;let u=e.shift();if(!u){process.nextTick(f);return}Array.isArray(u)||(u=[u]);let p=u.length+1;function l(){--p>0||(r=!1,c())}function E(y){function m(){y.removeListener("merge2UnpipeEnd",m),y.removeListener("end",m),a&&y.removeListener("error",w),l()}function w(R){i.emit("error",R)}if(y._readableState.endEmitted)return l();y.on("merge2UnpipeEnd",m),y.on("end",m),a&&y.on("error",w),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<u.length;y++)E(u[y]);l()}function f(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=o,i.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),t.length&&o.apply(null,t),i}function ka(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=ka(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(xa(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var Ta=_(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.merge=void 0;var jl=Pa();function Gl(e){let t=jl(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>Ca(e)),t.once("end",()=>Ca(e)),t}Zt.merge=Gl;function Ca(e){e.forEach(t=>t.emit("close"))}});var Oa=_(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.isEmpty=ut.isString=void 0;function zl(e){return typeof e=="string"}ut.isString=zl;function Kl(e){return e===""}ut.isEmpty=Kl});var De=_(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.string=ee.stream=ee.pattern=ee.path=ee.fs=ee.errno=ee.array=void 0;var Yl=Ks();ee.array=Yl;var Zl=Ys();ee.errno=Zl;var Ql=Zs();ee.fs=Ql;var Xl=ei();ee.path=Xl;var Jl=va();ee.pattern=Jl;var ef=Ta();ee.stream=ef;var tf=Oa();ee.string=tf});var Ma=_(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.convertPatternGroupToTask=te.convertPatternGroupsToTasks=te.groupPatternsByBaseDirectory=te.getNegativePatternsAsPositive=te.getPositivePatterns=te.convertPatternsToTasks=te.generate=void 0;var $e=De();function rf(e,t){let r=Ia(e,t),n=Ia(t.ignore,t),s=La(r),a=Da(r,n),i=s.filter(u=>$e.pattern.isStaticPattern(u,t)),o=s.filter(u=>$e.pattern.isDynamicPattern(u,t)),c=rn(i,a,!1),f=rn(o,a,!0);return c.concat(f)}te.generate=rf;function Ia(e,t){let r=e;return t.braceExpansion&&(r=$e.pattern.expandPatternsWithBraceExpansion(r)),t.baseNameMatch&&(r=r.map(n=>n.includes("/")?n:`**/${n}`)),r.map(n=>$e.pattern.removeDuplicateSlashes(n))}function rn(e,t,r){let n=[],s=$e.pattern.getPatternsOutsideCurrentDirectory(e),a=$e.pattern.getPatternsInsideCurrentDirectory(e),i=nn(s),o=nn(a);return n.push(...sn(i,t,r)),"."in o?n.push(an(".",a,t,r)):n.push(...sn(o,t,r)),n}te.convertPatternsToTasks=rn;function La(e){return $e.pattern.getPositivePatterns(e)}te.getPositivePatterns=La;function Da(e,t){return $e.pattern.getNegativePatterns(e).concat(t).map($e.pattern.convertToPositivePattern)}te.getNegativePatternsAsPositive=Da;function nn(e){let t={};return e.reduce((r,n)=>{let s=$e.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},t)}te.groupPatternsByBaseDirectory=nn;function sn(e,t,r){return Object.keys(e).map(n=>an(n,e[n],t,r))}te.convertPatternGroupsToTasks=sn;function an(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map($e.pattern.convertToNegativePattern))}}te.convertPatternGroupToTask=an});var Ua=_(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.read=void 0;function nf(e,t,r){t.fs.lstat(e,(n,s)=>{if(n!==null){Na(r,n);return}if(!s.isSymbolicLink()||!t.followSymbolicLink){on(r,s);return}t.fs.stat(e,(a,i)=>{if(a!==null){if(t.throwErrorOnBrokenSymbolicLink){Na(r,a);return}on(r,s);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),on(r,i)})})}Qt.read=nf;function Na(e,t){e(t)}function on(e,t){e(null,t)}});var Fa=_(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.read=void 0;function sf(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Xt.read=sf});var Ha=_(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createFileSystemAdapter=Ue.FILE_SYSTEM_ADAPTER=void 0;var Jt=require("fs");Ue.FILE_SYSTEM_ADAPTER={lstat:Jt.lstat,stat:Jt.stat,lstatSync:Jt.lstatSync,statSync:Jt.statSync};function af(e){return e===void 0?Ue.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ue.FILE_SYSTEM_ADAPTER),e)}Ue.createFileSystemAdapter=af});var Ba=_(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var of=Ha(),cn=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=of.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};un.default=cn});var Ze=_(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.statSync=Fe.stat=Fe.Settings=void 0;var Wa=Ua(),cf=Fa(),ln=Ba();Fe.Settings=ln.default;function uf(e,t,r){if(typeof t=="function"){Wa.read(e,fn(),t);return}Wa.read(e,fn(t),r)}Fe.stat=uf;function lf(e,t){let r=fn(t);return cf.read(e,r)}Fe.statSync=lf;function fn(e={}){return e instanceof ln.default?e:new ln.default(e)}});var ja=_((qh,Va)=>{var qa;Va.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(qa||(qa=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var za=_((Vh,Ga)=>{Ga.exports=df;var ff=ja();function df(e,t){let r,n,s,a=!0;Array.isArray(e)?(r=[],n=e.length):(s=Object.keys(e),r={},n=s.length);function i(c){function f(){t&&t(c,r),t=null}a?ff(f):f()}function o(c,f,u){r[c]=u,(--n===0||f)&&i(f)}n?s?s.forEach(function(c){e[c](function(f,u){o(c,f,u)})}):e.forEach(function(c,f){c(function(u,p){o(f,u,p)})}):i(null),a=!1}});var dn=_(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var er=process.versions.node.split(".");if(er[0]===void 0||er[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Ka=Number.parseInt(er[0],10),hf=Number.parseInt(er[1],10),Ya=10,pf=10,gf=Ka>Ya,mf=Ka===Ya&&hf>=pf;tr.IS_SUPPORT_READDIR_WITH_FILE_TYPES=gf||mf});var Za=_(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.createDirentFromStats=void 0;var hn=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function yf(e,t){return new hn(e,t)}rr.createDirentFromStats=yf});var pn=_(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.fs=void 0;var bf=Za();nr.fs=bf});var gn=_(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.joinPathSegments=void 0;function _f(e,t,r){return e.endsWith(r)?e+t:e+r+t}sr.joinPathSegments=_f});var ro=_(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.readdir=He.readdirWithFileTypes=He.read=void 0;var Sf=Ze(),Qa=za(),wf=dn(),Xa=pn(),Ja=gn();function $f(e,t,r){if(!t.stats&&wf.IS_SUPPORT_READDIR_WITH_FILE_TYPES){eo(e,t,r);return}to(e,t,r)}He.read=$f;function eo(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,s)=>{if(n!==null){ir(r,n);return}let a=s.map(o=>({dirent:o,name:o.name,path:Ja.joinPathSegments(e,o.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){mn(r,a);return}let i=a.map(o=>Ef(o,t));Qa(i,(o,c)=>{if(o!==null){ir(r,o);return}mn(r,c)})})}He.readdirWithFileTypes=eo;function Ef(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,s)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Xa.fs.createDirentFromStats(e.name,s),r(null,e)})}}function to(e,t,r){t.fs.readdir(e,(n,s)=>{if(n!==null){ir(r,n);return}let a=s.map(i=>{let o=Ja.joinPathSegments(e,i,t.pathSegmentSeparator);return c=>{Sf.stat(o,t.fsStatSettings,(f,u)=>{if(f!==null){c(f);return}let p={name:i,path:o,dirent:Xa.fs.createDirentFromStats(i,u)};t.stats&&(p.stats=u),c(null,p)})}});Qa(a,(i,o)=>{if(i!==null){ir(r,i);return}mn(r,o)})})}He.readdir=to;function ir(e,t){e(t)}function mn(e,t){e(null,t)}});var oo=_(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.readdir=Be.readdirWithFileTypes=Be.read=void 0;var Af=Ze(),vf=dn(),no=pn(),so=gn();function xf(e,t){return!t.stats&&vf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?io(e,t):ao(e,t)}Be.read=xf;function io(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:so.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let a=t.fs.statSync(s.path);s.dirent=no.fs.createDirentFromStats(s.name,a)}catch(a){if(t.throwErrorOnBrokenSymbolicLink)throw a}return s})}Be.readdirWithFileTypes=io;function ao(e,t){return t.fs.readdirSync(e).map(n=>{let s=so.joinPathSegments(e,n,t.pathSegmentSeparator),a=Af.statSync(s,t.fsStatSettings),i={name:n,path:s,dirent:no.fs.createDirentFromStats(n,a)};return t.stats&&(i.stats=a),i})}Be.readdir=ao});var co=_(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.createFileSystemAdapter=We.FILE_SYSTEM_ADAPTER=void 0;var lt=require("fs");We.FILE_SYSTEM_ADAPTER={lstat:lt.lstat,stat:lt.stat,lstatSync:lt.lstatSync,statSync:lt.statSync,readdir:lt.readdir,readdirSync:lt.readdirSync};function kf(e){return e===void 0?We.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},We.FILE_SYSTEM_ADAPTER),e)}We.createFileSystemAdapter=kf});var uo=_(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var Rf=require("path"),Pf=Ze(),Cf=co(),yn=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Cf.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Rf.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Pf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};bn.default=yn});var ar=_(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.Settings=qe.scandirSync=qe.scandir=void 0;var lo=ro(),Tf=oo(),_n=uo();qe.Settings=_n.default;function Of(e,t,r){if(typeof t=="function"){lo.read(e,Sn(),t);return}lo.read(e,Sn(t),r)}qe.scandir=Of;function If(e,t){let r=Sn(t);return Tf.read(e,r)}qe.scandirSync=If;function Sn(e={}){return e instanceof _n.default?e:new _n.default(e)}});var ho=_((ep,fo)=>{"use strict";function Lf(e){var t=new e,r=t;function n(){var a=t;return a.next?t=a.next:(t=new e,r=t),a.next=null,a}function s(a){r.next=a,r=a}return{get:n,release:s}}fo.exports=Lf});var go=_((tp,wn)=>{"use strict";var Df=ho();function po(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=Df(Mf),s=null,a=null,i=0,o=null,c={push:m,drain:Se,saturated:Se,pause:u,paused:!1,get concurrency(){return r},set concurrency(v){if(!(v>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=v,!c.paused)for(;s&&i<r;)i++,R()},running:f,resume:E,idle:y,length:p,getQueue:l,unshift:w,empty:Se,kill:q,killAndDrain:k,error:C};return c;function f(){return i}function u(){c.paused=!0}function p(){for(var v=s,N=0;v;)v=v.next,N++;return N}function l(){for(var v=s,N=[];v;)N.push(v.value),v=v.next;return N}function E(){if(c.paused){if(c.paused=!1,s===null){i++,R();return}for(;s&&i<r;)i++,R()}}function y(){return i===0&&c.length()===0}function m(v,N){var x=n.get();x.context=e,x.release=R,x.value=v,x.callback=N||Se,x.errorHandler=o,i>=r||c.paused?a?(a.next=x,a=x):(s=x,a=x,c.saturated()):(i++,t.call(e,x.value,x.worked))}function w(v,N){var x=n.get();x.context=e,x.release=R,x.value=v,x.callback=N||Se,x.errorHandler=o,i>=r||c.paused?s?(x.next=s,s=x):(s=x,a=x,c.saturated()):(i++,t.call(e,x.value,x.worked))}function R(v){v&&n.release(v);var N=s;N&&i<=r?c.paused?i--:(a===s&&(a=null),s=N.next,N.next=null,t.call(e,N.value,N.worked),a===null&&c.empty()):--i===0&&c.drain()}function q(){s=null,a=null,c.drain=Se}function k(){s=null,a=null,c.drain(),c.drain=Se}function C(v){o=v}}function Se(){}function Mf(){this.value=null,this.callback=Se,this.next=null,this.release=Se,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,a=e.errorHandler,i=e.value;e.value=null,e.callback=Se,e.errorHandler&&a(r,i),s.call(e.context,r,n),e.release(e)}}function Nf(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(u,p){t.call(this,u).then(function(l){p(null,l)},p)}var s=po(e,n,r),a=s.push,i=s.unshift;return s.push=o,s.unshift=c,s.drained=f,s;function o(u){var p=new Promise(function(l,E){a(u,function(y,m){if(y){E(y);return}l(m)})});return p.catch(Se),p}function c(u){var p=new Promise(function(l,E){i(u,function(y,m){if(y){E(y);return}l(m)})});return p.catch(Se),p}function f(){var u=new Promise(function(p){process.nextTick(function(){if(s.idle())p();else{var l=s.drain;s.drain=function(){typeof l=="function"&&l(),p(),s.drain=l}}})});return u}}wn.exports=po;wn.exports.promise=Nf});var or=_(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.joinPathSegments=Pe.replacePathSegmentSeparator=Pe.isAppliedFilter=Pe.isFatalError=void 0;function Uf(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Pe.isFatalError=Uf;function Ff(e,t){return e===null||e(t)}Pe.isAppliedFilter=Ff;function Hf(e,t){return e.split(/[/\\]/).join(t)}Pe.replacePathSegmentSeparator=Hf;function Bf(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Pe.joinPathSegments=Bf});var An=_(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Wf=or(),$n=class{constructor(t,r){this._root=t,this._settings=r,this._root=Wf.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};En.default=$n});var kn=_(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var qf=require("events"),Vf=ar(),jf=go(),cr=or(),Gf=An(),vn=class extends Gf.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=Vf.scandir,this._emitter=new qf.EventEmitter,this._queue=jf(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let a of s)this._handleEntry(a,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!cr.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=cr.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),cr.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&cr.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};xn.default=vn});var mo=_(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var zf=kn(),Rn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new zf.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{Kf(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Yf(t,this._storage)}),this._reader.read()}};Pn.default=Rn;function Kf(e,t){e(t)}function Yf(e,t){e(null,t)}});var yo=_(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Zf=require("stream"),Qf=kn(),Cn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Qf.default(this._root,this._settings),this._stream=new Zf.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Tn.default=Cn});var bo=_(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var Xf=ar(),ur=or(),Jf=An(),On=class extends Jf.default{constructor(){super(...arguments),this._scandir=Xf.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(t){if(ur.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=ur.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ur.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&ur.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};In.default=On});var _o=_(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var ed=bo(),Ln=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new ed.default(this._root,this._settings)}read(){return this._reader.read()}};Dn.default=Ln});var So=_(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var td=require("path"),rd=ar(),Mn=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,td.sep),this.fsScandirSettings=new rd.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Nn.default=Mn});var fr=_(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Settings=Ce.walkStream=Ce.walkSync=Ce.walk=void 0;var wo=mo(),nd=yo(),sd=_o(),Un=So();Ce.Settings=Un.default;function id(e,t,r){if(typeof t=="function"){new wo.default(e,lr()).read(t);return}new wo.default(e,lr(t)).read(r)}Ce.walk=id;function ad(e,t){let r=lr(t);return new sd.default(e,r).read()}Ce.walkSync=ad;function od(e,t){let r=lr(t);return new nd.default(e,r).read()}Ce.walkStream=od;function lr(e={}){return e instanceof Un.default?e:new Un.default(e)}});var dr=_(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var cd=require("path"),ud=Ze(),$o=De(),Fn=class{constructor(t){this._settings=t,this._fsStatSettings=new ud.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return cd.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:$o.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!$o.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Hn.default=Fn});var qn=_(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});var ld=require("stream"),fd=Ze(),dd=fr(),hd=dr(),Bn=class extends hd.default{constructor(){super(...arguments),this._walkStream=dd.walkStream,this._stat=fd.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),s=new ld.PassThrough({objectMode:!0});s._write=(a,i,o)=>this._getEntry(n[a],t[a],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),a===n.length-1&&s.end(),o()}).catch(o);for(let a=0;a<n.length;a++)s.write(a);return s}_getEntry(t,r,n){return this._getStat(t).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(s,a)=>s===null?r(a):n(s))})}};Wn.default=Bn});var Eo=_(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var pd=fr(),gd=dr(),md=qn(),Vn=class extends gd.default{constructor(){super(...arguments),this._walkAsync=pd.walk,this._readerStream=new md.default(this._settings)}dynamic(t,r){return new Promise((n,s)=>{this._walkAsync(t,r,(a,i)=>{a===null?n(i):s(a)})})}async static(t,r){let n=[],s=this._readerStream.static(t,r);return new Promise((a,i)=>{s.once("error",i),s.on("data",o=>n.push(o)),s.once("end",()=>a(n))})}};jn.default=Vn});var Ao=_(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var vt=De(),Gn=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(let t of this._patterns){let r=this._getPatternSegments(t),n=this._splitSegmentsIntoSections(r);this._storage.push({complete:n.length<=1,pattern:t,segments:r,sections:n})}}_getPatternSegments(t){return vt.pattern.getPatternParts(t,this._micromatchOptions).map(n=>vt.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:vt.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return vt.array.splitWhen(t,r=>r.dynamic&&vt.pattern.hasGlobStar(r.pattern))}};zn.default=Gn});var vo=_(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var yd=Ao(),Kn=class extends yd.default{match(t){let r=t.split("/"),n=r.length,s=this._storage.filter(a=>!a.complete||a.segments.length>n);for(let a of s){let i=a.sections[0];if(!a.complete&&n>i.length||r.every((c,f)=>{let u=a.segments[f];return!!(u.dynamic&&u.patternRe.test(c)||!u.dynamic&&u.pattern===c)}))return!0}return!1}};Yn.default=Kn});var xo=_(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var hr=De(),bd=vo(),Zn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let s=this._getMatcher(r),a=this._getNegativePatternsRe(n);return i=>this._filter(t,i,s,a)}_getMatcher(t){return new bd.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(hr.pattern.isAffectDepthOfReadingPattern);return hr.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,s){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let a=hr.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(a,n)?!1:this._isSkippedByNegativePatterns(a,s)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let s=t.split("/").length;return n-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!hr.pattern.matchAny(t,r)}};Qn.default=Zn});var ko=_(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Ve=De(),Xn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let[n,s]=Ve.pattern.partitionAbsoluteAndRelative(r),a={positive:{all:Ve.pattern.convertPatternsToRe(t,this._micromatchOptions)},negative:{absolute:Ve.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:Ve.pattern.convertPatternsToRe(s,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return i=>this._filter(i,a)}_filter(t,r){let n=Ve.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;let s=this._isMatchToPatternsSet(n,r,t.dirent.isDirectory());return this._settings.unique&&s&&this._createIndexRecord(n),s}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isMatchToPatternsSet(t,r,n){return!(!this._isMatchToPatterns(t,r.positive.all,n)||this._isMatchToPatterns(t,r.negative.relative,n)||this._isMatchToAbsoluteNegative(t,r.negative.absolute,n))}_isMatchToAbsoluteNegative(t,r,n){if(r.length===0)return!1;let s=Ve.path.makeAbsolute(this._settings.cwd,t);return this._isMatchToPatterns(s,r,n)}_isMatchToPatterns(t,r,n){if(r.length===0)return!1;let s=Ve.pattern.matchAny(t,r);return!s&&n?Ve.pattern.matchAny(t+"/",r):s}};Jn.default=Xn});var Ro=_(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var _d=De(),es=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return _d.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};ts.default=es});var Co=_(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});var Po=De(),rs=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Po.path.makeAbsolute(this._settings.cwd,r),r=Po.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};ns.default=rs});var pr=_(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var Sd=require("path"),wd=xo(),$d=ko(),Ed=Ro(),Ad=Co(),ss=class{constructor(t){this._settings=t,this.errorFilter=new Ed.default(this._settings),this.entryFilter=new $d.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new wd.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Ad.default(this._settings)}_getRootDirectory(t){return Sd.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};is.default=ss});var To=_(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});var vd=Eo(),xd=pr(),as=class extends xd.default{constructor(){super(...arguments),this._reader=new vd.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(a=>n.transform(a))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};os.default=as});var Oo=_(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});var kd=require("stream"),Rd=qn(),Pd=pr(),cs=class extends Pd.default{constructor(){super(...arguments),this._reader=new Rd.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),s=this.api(r,t,n),a=new kd.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>a.emit("error",i)).on("data",i=>a.emit("data",n.transform(i))).once("end",()=>a.emit("end")),a.once("close",()=>s.destroy()),a}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};us.default=cs});var Io=_(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Cd=Ze(),Td=fr(),Od=dr(),ls=class extends Od.default{constructor(){super(...arguments),this._walkSync=Td.walkSync,this._statSync=Cd.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let s of t){let a=this._getFullEntryPath(s),i=this._getEntry(a,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(t,r,n){try{let s=this._getStat(t);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};fs.default=ls});var Lo=_(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Id=Io(),Ld=pr(),ds=class extends Ld.default{constructor(){super(...arguments),this._reader=new Id.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};hs.default=ds});var Do=_(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var ft=require("fs"),Dd=require("os"),Md=Math.max(Dd.cpus().length,1);dt.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:ft.lstat,lstatSync:ft.lstatSync,stat:ft.stat,statSync:ft.statSync,readdir:ft.readdir,readdirSync:ft.readdirSync};var ps=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Md),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},dt.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};dt.default=ps});var Uo=_((xp,No)=>{"use strict";var Mo=Ma(),Nd=To(),Ud=Oo(),Fd=Lo(),gs=Do(),we=De();async function ms(e,t){Ee(e);let r=ys(e,Nd.default,t),n=await Promise.all(r);return we.array.flatten(n)}(function(e){e.glob=e,e.globSync=t,e.globStream=r,e.async=e;function t(f,u){Ee(f);let p=ys(f,Fd.default,u);return we.array.flatten(p)}e.sync=t;function r(f,u){Ee(f);let p=ys(f,Ud.default,u);return we.stream.merge(p)}e.stream=r;function n(f,u){Ee(f);let p=[].concat(f),l=new gs.default(u);return Mo.generate(p,l)}e.generateTasks=n;function s(f,u){Ee(f);let p=new gs.default(u);return we.pattern.isDynamicPattern(f,p)}e.isDynamicPattern=s;function a(f){return Ee(f),we.path.escape(f)}e.escapePath=a;function i(f){return Ee(f),we.path.convertPathToPattern(f)}e.convertPathToPattern=i;let o;(function(f){function u(l){return Ee(l),we.path.escapePosixPath(l)}f.escapePath=u;function p(l){return Ee(l),we.path.convertPosixPathToPattern(l)}f.convertPathToPattern=p})(o=e.posix||(e.posix={}));let c;(function(f){function u(l){return Ee(l),we.path.escapeWindowsPath(l)}f.escapePath=u;function p(l){return Ee(l),we.path.convertWindowsPathToPattern(l)}f.convertPathToPattern=p})(c=e.win32||(e.win32={}))})(ms||(ms={}));function ys(e,t,r){let n=[].concat(e),s=new gs.default(r),a=Mo.generate(n,s),i=new t(s);return a.map(i.read,i)}function Ee(e){if(![].concat(e).every(n=>we.string.isString(n)&&!we.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}No.exports=ms});var Jd={};dc(Jd,{default:()=>sc});module.exports=hc(Jd);var nc=require("@raycast/api");var Q=require("@raycast/api");var M=Ne(require("react")),H=require("@raycast/api");var As=Object.prototype.hasOwnProperty;function Ot(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Ot(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(As.call(e,r)&&++n&&!As.call(t,r)||!(r in t)||!Ot(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var ze=Ne(require("node:fs")),Lt=Ne(require("node:path")),Os=Ne(require("node:crypto")),Is=Ne(require("node:child_process")),Ls=require("node:buffer"),rt=Ne(require("node:stream")),Ds=require("node:util");var Ms=require("react/jsx-runtime");var Ar=globalThis;function pc(e){let t=(0,M.useRef)(e),r=(0,M.useRef)(0);return Ot(e,t.current)||(t.current=e,r.current+=1),(0,M.useMemo)(()=>t.current,[r.current])}function fe(e){let t=(0,M.useRef)(e);return t.current=e,t}function gc(e,t){let r=e instanceof Error?e.message:String(e);return(0,H.showToast)({style:H.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??vs(e),secondaryAction:t?.primaryAction?vs(e):void 0})}var vs=e=>{let t=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,ze.readFileSync)((0,Lt.join)(H.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(t=!1)}catch{}let s=H.environment.isDevelopment||t,a=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?H.Clipboard.copy(a):(0,H.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${a}
\`\`\`
`)}`)}}};function mc(e,t,r){let n=(0,M.useRef)(0),[s,a]=(0,M.useState)({isLoading:!0}),i=fe(e),o=fe(r?.abortable),c=fe(t||[]),f=fe(r?.onError),u=fe(r?.onData),p=fe(r?.onWillExecute),l=fe(r?.failureToastOptions),E=fe(s.data),y=(0,M.useRef)(null),m=(0,M.useRef)({page:0}),w=(0,M.useRef)(!1),R=(0,M.useRef)(!0),q=(0,M.useRef)(50),k=(0,M.useCallback)(()=>(o.current&&(o.current.current?.abort(),o.current.current=new AbortController),++n.current),[o]),C=(0,M.useCallback)((...g)=>{let P=k();p.current?.(g),a(d=>({...d,isLoading:!0}));let U=yc(i.current)(...g);function J(d){return d.name=="AbortError"||P===n.current&&(f.current?f.current(d):H.environment.launchType!==H.LaunchType.Background&&gc(d,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(h){h.hide(),y.current?.(...c.current||[])}},...l.current}),a({error:d,isLoading:!1})),d}return typeof U=="function"?(w.current=!0,U(m.current).then(({data:d,hasMore:h,cursor:Y})=>(P===n.current&&(m.current&&(m.current.cursor=Y,m.current.lastItem=d?.[d.length-1]),u.current&&u.current(d,m.current),h&&(q.current=d.length),R.current=h,a(I=>m.current.page===0?{data:d,isLoading:!1}:{data:(I.data||[])?.concat(d),isLoading:!1})),d),d=>(R.current=!1,J(d)))):(w.current=!1,U.then(d=>(P===n.current&&(u.current&&u.current(d),a({data:d,isLoading:!1})),d),J))},[u,f,c,i,a,y,p,m,l,k]);y.current=C;let v=(0,M.useCallback)(()=>{m.current={page:0};let g=c.current||[];return C(...g)},[C,c]),N=(0,M.useCallback)(async(g,P)=>{let U;try{if(P?.optimisticUpdate){k(),typeof P?.rollbackOnError!="function"&&P?.rollbackOnError!==!1&&(U=structuredClone(E.current?.value));let J=P.optimisticUpdate;a(d=>({...d,data:J(d.data)}))}return await g}catch(J){if(typeof P?.rollbackOnError=="function"){let d=P.rollbackOnError;a(h=>({...h,data:d(h.data)}))}else P?.optimisticUpdate&&P?.rollbackOnError!==!1&&a(d=>({...d,data:U}));throw J}finally{P?.shouldRevalidateAfter!==!1&&(H.environment.launchType===H.LaunchType.Background||H.environment.commandMode==="menu-bar"?await v():v())}},[v,E,a,k]),x=(0,M.useCallback)(()=>{m.current.page+=1;let g=c.current||[];C(...g)},[m,c,C]);(0,M.useEffect)(()=>{m.current={page:0},r?.execute!==!1?C(...t||[]):k()},[pc([t,r?.execute,C]),o,m]),(0,M.useEffect)(()=>()=>{k()},[k]);let $=r?.execute!==!1?s.isLoading:!1,D={...s,isLoading:$},j=w.current?{pageSize:q.current,hasMore:R.current,onLoadMore:x}:void 0;return{...D,revalidate:v,mutate:N,pagination:j}}function yc(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function xs(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function bc(e){return e instanceof URLSearchParams?e.toString():e}function Ns(e,t=[]){function r(n){return"update"in e?e.update(n,"utf8"):e.write(n)}return{dispatch:function(n){n=bc(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,a=Object.prototype.toString.call(n),i=s.exec(a)?.[1]??"unknown:["+a+"]";i=i.toLowerCase();let o=null;if((o=t.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+o+"]");return}else t.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let c=Object.keys(n);c=c.sort(),xs(n)||c.splice(0,0,"prototype","__proto__","constructor"),r("object:"+c.length+":");let f=this;return c.forEach(function(u){f.dispatch(u),r(":"),f.dispatch(n[u]),r(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let a=this;if(r("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(c){a.dispatch(c)});return}let i=[],o=n.map(function(c){let f=_c(),u=t.slice();return Ns(f,u).dispatch(c),i=i.concat(u.slice(t.length)),f.read().toString()});t=t.concat(i),o.sort(),this._array(o,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),xs(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){r("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function _c(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Sc(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toISOString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function wc(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function ks(e){let t=Os.default.createHash("sha1");return Ns(t).dispatch(e),t.digest("hex")}var $c=Symbol("cache without namespace"),Rs=new Map;function bt(e,t,r){let n=r?.cacheNamespace||$c,s=Rs.get(n)||Rs.set(n,new H.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let a=fe(e),i=fe(t),o=(0,M.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(a.current)}catch(p){console.error("Could not get Cache data:",p);return}}),c=(0,M.useMemo)(()=>{if(typeof o<"u"){if(o==="undefined")return;try{return JSON.parse(o,wc)}catch(p){return console.warn("The cached data is corrupted",p),i.current}}else return i.current},[o,i]),f=fe(c),u=(0,M.useCallback)(p=>{let l=typeof p=="function"?p(f.current):p;if(typeof l>"u")s.set(a.current,"undefined");else{let E=JSON.stringify(l,Sc);s.set(a.current,E)}return l},[s,a,f]);return[c,u]}var tt=Symbol();function Ec(e,t,r){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:a,...i}=r||{},o=(0,M.useRef)(null),[c,f]=bt(ks(t||[])+a,tt,{cacheNamespace:ks(e)}),u=(0,M.useRef)(c!==tt?c:n),p=(0,M.useRef)(void 0),{mutate:l,revalidate:E,...y}=mc(e,t||[],{...i,onData(k,C){p.current=C,i.onData&&i.onData(k,C),!(C&&C.page>0)&&(o.current="promise",u.current=k,f(k))}}),m,w=y.pagination;p.current&&p.current.page>0&&y.data?m=y.data:o.current==="promise"?m=u.current:s&&c!==tt?(m=c,w&&(w.hasMore=!0,w.pageSize=c.length)):s&&c===tt?m=u.current:c!==tt?(m=c,w&&(w.hasMore=!0,w.pageSize=c.length)):m=n;let R=fe(m),q=(0,M.useCallback)(async(k,C)=>{let v;try{if(C?.optimisticUpdate){typeof C?.rollbackOnError!="function"&&C?.rollbackOnError!==!1&&(v=structuredClone(R.current));let N=C.optimisticUpdate(R.current);o.current="cache",u.current=N,f(N)}return await l(k,{shouldRevalidateAfter:C?.shouldRevalidateAfter})}catch(N){if(typeof C?.rollbackOnError=="function"){let x=C.rollbackOnError(R.current);o.current="cache",u.current=x,f(x)}else C?.optimisticUpdate&&C?.rollbackOnError!==!1&&(o.current="cache",u.current=v,f(v));throw N}},[f,l,R,u,o]);return(0,M.useEffect)(()=>{c!==tt&&(o.current="cache",u.current=c)},[c]),{data:m,isLoading:y.isLoading,error:y.error,mutate:p.current&&p.current.page>0?l:q,pagination:w,revalidate:E}}var It=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",vr=Symbol.for("signal-exit emitter"),kr=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ar[vr])return Ar[vr];Object.defineProperty(Ar,vr,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],s=n.indexOf(r);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let s=!1;for(let a of this.listeners[t])s=a(r,n)===!0||s;return t==="exit"&&(s=this.emit("afterExit",r,n)||s),s}},Rr=class{onExit(){return()=>{}}load(){}unload(){}},Pr=class{#o;#t;#e;#i;#a;#s;#n;#r;constructor(t){this.#o=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new kr,this.#s={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=t,this.#s={};for(let r of this.#r)this.#s[r]=()=>{let n=this.#e.listeners(r),{count:s}=this.#t,a=t;if(typeof a.__signal_exit_emitter__=="object"&&typeof a.__signal_exit_emitter__.count=="number"&&(s+=a.__signal_exit_emitter__.count),n.length===s){this.unload();let i=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#o:r;i||t.kill(t.pid,o)}};this.#a=t.reallyExit,this.#i=t.emit}onExit(t,r){if(!It(this.#e))return()=>{};this.#n===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#t.on(n,t),()=>{this.#t.removeListener(n,t),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let t of this.#r)try{let r=this.#s[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#u(t,...r),this.#e.reallyExit=t=>this.#c(t)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(t=>{let r=this.#s[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#i,this.#e.reallyExit=this.#a,this.#t.count-=1)}#c(t){return It(this.#e)?(this.#e.exitCode=t||0,this.#t.emit("exit",this.#e.exitCode,null),this.#a.call(this.#e,this.#e.exitCode)):0}#u(t,...r){let n=this.#i;if(t==="exit"&&It(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=n.call(this.#e,t,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,t,...r)}},xr=null,Ac=(e,t)=>(xr||(xr=It(process)?new Pr(process):new Rr),xr.onExit(e,t));function vc(e,{timeout:t}={}){let r=new Promise((o,c)=>{e.on("exit",(f,u)=>{o({exitCode:f,signal:u,timedOut:!1})}),e.on("error",f=>{c(f)}),e.stdin&&e.stdin.on("error",f=>{c(f)})}),n=Ac(()=>{e.kill()});if(t===0||t===void 0)return r.finally(()=>n());let s,a=new Promise((o,c)=>{s=setTimeout(()=>{e.kill("SIGTERM"),c(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},t)}),i=r.finally(()=>{clearTimeout(s)});return Promise.race([a,i]).finally(()=>n())}var Cr=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function xc(e){let{encoding:t}=e,r=t==="buffer",n=new rt.default.PassThrough({objectMode:!1});t&&t!=="buffer"&&n.setEncoding(t);let s=0,a=[];return n.on("data",i=>{a.push(i),s+=i.length}),n.getBufferedValue=()=>r?Buffer.concat(a,s):a.join(""),n.getBufferedLength=()=>s,n}async function Ps(e,t){let r=xc(t);return await new Promise((n,s)=>{let a=i=>{i&&r.getBufferedLength()<=Ls.constants.MAX_LENGTH&&(i.bufferedData=r.getBufferedValue()),s(i)};(async()=>{try{await(0,Ds.promisify)(rt.default.pipeline)(e,r),n()}catch(i){a(i)}})(),r.on("data",()=>{r.getBufferedLength()>8e7&&a(new Cr)})}),r.getBufferedValue()}async function Cs(e,t){e.destroy();try{return await t}catch(r){return r.bufferedData}}async function kc({stdout:e,stderr:t},{encoding:r},n){let s=Ps(e,{encoding:r}),a=Ps(t,{encoding:r});try{return await Promise.all([n,s,a])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},Cs(e,s),Cs(t,a)])}}function Rc(e){let t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function Ts(e,t){return e.stripFinalNewline?Rc(t):t}function Pc({timedOut:e,timeout:t,signal:r,exitCode:n}){return e?`timed out after ${t} milliseconds`:r!=null?`was killed with ${r}`:n!=null?`failed with exit code ${n}`:"failed"}function Cc({stdout:e,stderr:t,error:r,signal:n,exitCode:s,command:a,timedOut:i,options:o,parentError:c}){let u=`Command ${Pc({timedOut:i,timeout:o?.timeout,signal:n,exitCode:s})}: ${a}`,p=r?`${u}
${r.message}`:u,l=[p,t,e].filter(Boolean).join(`
`);return r?r.originalMessage=r.message:r=c,r.message=l,r.shortMessage=p,r.command=a,r.exitCode=s,r.signal=n,r.stdout=e,r.stderr=t,"bufferedData"in r&&delete r.bufferedData,r}function Tc({stdout:e,stderr:t,error:r,exitCode:n,signal:s,timedOut:a,command:i,options:o,parentError:c}){if(r||n!==0||s!==null)throw Cc({error:r,exitCode:n,signal:s,stdout:e,stderr:t,command:i,timedOut:a,options:o,parentError:c});return e}var Oc=/ +/g;function Ic(e,t){if(t)return[e,...t];let r=[];for(let n of e.trim().split(Oc)){let s=r[r.length-1];s&&s.endsWith("\\")?r[r.length-1]=`${s.slice(0,-1)} ${n}`:r.push(n)}return r}function Dt(e,t,r){let{parseOutput:n,input:s,onData:a,onWillExecute:i,initialData:o,execute:c,keepPreviousData:f,onError:u,failureToastOptions:p,...l}=Array.isArray(t)?r||{}:t||{},E={initialData:o,execute:c,keepPreviousData:f,onError:u,onData:a,onWillExecute:i,failureToastOptions:p},y=(0,M.useRef)(null),m=fe(n||Tc),w=(0,M.useCallback)(async(R,q,k,C)=>{let[v,...N]=Ic(R,q),x=[v,...N].join(" "),$={stripFinalNewline:!0,...k,timeout:k?.timeout||1e4,signal:y.current?.signal,encoding:k?.encoding===null?"buffer":k?.encoding||"utf8",env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin",...process.env,...k?.env}},D=Is.default.spawn(v,N,$),j=vc(D,$);C&&D.stdin.end(C);let[{error:g,exitCode:P,signal:U,timedOut:J},d,h]=await kc(D,$,j),Y=Ts($,d),I=Ts($,h);return m.current({stdout:Y,stderr:I,error:g,exitCode:P,signal:U,timedOut:J,command:x,options:$,parentError:new Error})},[m]);return Ec(w,[e,Array.isArray(t)?t:[],l,s],{...E,abortable:y})}var qo=Ne(require("crypto"));var it=require("@raycast/api");var F=require("@raycast/api");var _t=require("node:child_process"),Or=require("node:fs"),Mt=(0,F.getPreferenceValues)(),ae=class extends Error{title;constructor(t,r){r||(r=t),super(r),this.title=t}},Oe=class extends ae{},nt=class extends ae{},Tr=class extends ae{},Nt=class extends ae{},ie=()=>{let e=[Mt.cliPath,"/usr/local/bin/op","/opt/homebrew/bin/op"].filter(Boolean).find(t=>t?(0,Or.existsSync)(t):!1);if(!e)throw new Oe("1Password CLI is not found. Please set the path in the extension preferences.");return e},st=[Mt.zshPath,"/bin/zsh"].find(e=>(0,Or.existsSync)(e)),Us=new RegExp(/\[\w+\]\s+\d{4}\/\d{2}\/\d{2}\s+\d{2}:\d{2}:\d{2}\s+(.*)$/m);function Fs(e){let t=["open-in-1password","open-in-browser","copy-username","copy-password","copy-one-time-password","paste-username","paste-password","paste-one-time-password","share-item","switch-account"],r=[...new Set([Mt.primaryAction,Mt.secondaryAction,...t])];switch(e.category){case"LOGIN":return r;case"PASSWORD":return r.filter(n=>n!=="copy-username"&&n!=="paste-username");default:return["open-in-1password"]}}function Hs(e){if(e.category==="LOGIN")return e.urls?.find(t=>t.primary)?.href}function Bs(e){let t=ie();if(t)return(0,_t.execFileSync)(t,e,{maxBuffer:4194304}).toString();throw Error("1Password CLI is not found!")}var de=e=>{throw e.includes("no such host")?new nt("No connection to 1Password.","Verify Your Internet Connection."):e.includes("could not get item")||e.includes("isn't an item")?new Tr("Item not found on 1Password.","Check it on your 1Password app."):e.includes("ENOENT")||e.includes("file")||e.includes("enoent")?new Oe("1Password CLI not found."):e.includes("does not have a field")?new ae(`Item does not contain the field ${e.split("does not have a field ")[1].trim()}.`):new ae(e)},Ws=()=>!!st,St=e=>(0,_t.execSync)(`${ie()} signin ${e||""}`,{shell:st}),qs=()=>{try{return(0,_t.execSync)(`${ie()} whoami`),!0}catch{return!1}},Vs=(e,t)=>Dt(ie(),[...e,"--format=json"],{onError:async r=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:r.message})},parseOutput:({error:r,exitCode:n,stderr:s,stdout:a})=>(r&&de(r.message),s&&de(s),n!=0&&de(a),t?t(JSON.parse(a)):JSON.parse(a))}),js=({account:e,execute:t=!0,flags:r=[]})=>Dt(ie(),["--account",e,"items","list","--long","--format=json",...r],{execute:t,onError:async n=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:n.message})},parseOutput:({error:n,exitCode:s,stderr:a,stdout:i})=>(n&&de(n.message),a&&de(a),s!=0&&de(i),JSON.parse(i).sort((c,f)=>c.favorite&&!f.favorite?-1:!c.favorite&&f.favorite?1:c.title.localeCompare(f.title)))});var Gs=()=>Vs(["item","template","list"],e=>e.sort((t,r)=>t.name.localeCompare(r.name))),zs=()=>Vs(["whoami"]),Ut=(e=!0)=>Dt(ie(),["account","list","--format=json"],{execute:e,onError:async t=>{await(0,F.showToast)({style:F.Toast.Style.Failure,title:t.message})},parseOutput:({error:t,exitCode:r,stderr:n,stdout:s})=>(t&&de(t.message),n&&de(n),r!=0&&de(s),JSON.parse(s))});function Ft(e){switch(e){case"API_CREDENTIAL":return F.Icon.Code;case"BANK_ACCOUNT":case"CUSTOM":return F.Icon.Wallet;case"CREDIT_CARD":return F.Icon.CreditCard;case"CRYPTO_WALLET":return F.Icon.Crypto;case"DATABASE":return F.Icon.HardDrive;case"DOCUMENT":return F.Icon.Document;case"DRIVER_LICENSE":return F.Icon.Car;case"EMAIL_ACCOUNT":return F.Icon.Envelope;case"IDENTITY":return F.Icon.Person;case"LOGIN":return F.Icon.Fingerprint;case"MEDICAL_RECORD":return F.Icon.Heartbeat;case"MEMBERSHIP":return F.Icon.StarCircle;case"OUTDOOR_LICENSE":return F.Icon.Tree;case"PASSPORT":return F.Icon.Globe;case"PASSWORD":return F.Icon.Key;case"REWARD_PROGRAM":return F.Icon.Gift;case"SECURE_NOTE":return F.Icon.Lock;case"SERVER":case"SSH_KEY":return F.Icon.Terminal;case"SOCIAL_SECURITY_NUMBER":return F.Icon.Shield;case"SOFTWARE_LICENSE":return F.Icon.CodeBlock;case"WIRELESS_ROUTER":return F.Icon.Wifi;default:return F.Icon.Key}}function Ir(e){return e&&e[0].toUpperCase()+e.slice(1).toLowerCase()}async function Ie(){let e=await(0,it.showToast)({style:it.Toast.Style.Animated,title:"Clearing cache..."});try{Bs(["signout","--all"]),e.style=it.Toast.Style.Success,e.title="Cleared cache"}catch(t){e.style=it.Toast.Style.Failure,e.title="Failed to clear cache",t instanceof Error&&(e.message=t.message)}}var ce=require("@raycast/api"),Fo=Ne(Uo()),Ho=require("node:fs"),Bo=require("node:os"),bs=new ce.Cache,_s="@items";function gr(e){switch(e){case"001":return ce.Icon.Fingerprint;case"002":return ce.Icon.CreditCard;case"003":return ce.Icon.Document;case"004":return ce.Icon.Person;case"005":return ce.Icon.Key;case"006":return ce.Icon.Paperclip;case"100":return ce.Icon.CodeBlock;case"102":return ce.Icon.HardDrive;case"103":return ce.Icon.Car;case"112":return ce.Icon.Code;default:return ce.Icon.Lock}}function mr(){if(bs.has(_s)){let t=bs.get(_s);return JSON.parse(t)}let e=`${(0,Bo.homedir)()}/Library/Containers/com.agilebits.onepassword7/Data/Library/Caches/Metadata/1Password`;try{let r=(0,Fo.sync)(`${e}/**/*.onepassword-item-metadata`,{deep:2,onlyFiles:!1}).map(n=>JSON.parse((0,Ho.readFileSync)(n,"utf-8").toString())).sort((n,s)=>n.itemTitle.localeCompare(s.itemTitle)).reduce((n,s)=>{let{categorySingularName:a,categoryUUID:i}=s;return n[a]=n[a]??{id:i,items:[],name:a},n[a].items.push(s),n},{});return bs.set(_s,JSON.stringify(r)),r}catch(t){console.error(t)}}var Qe=require("@raycast/api");var ht=require("react/jsx-runtime"),yr="null";function Wo({onCategoryChange:e}){let t=mr(),r=t&&Object.keys(t).sort((n,s)=>n.localeCompare(s));return(0,ht.jsx)(Qe.List.Dropdown,{defaultValue:"null",onChange:e,storeValue:!0,tooltip:"Select Category",children:(0,ht.jsxs)(Qe.List.Dropdown.Section,{title:"Item Categories",children:[(0,ht.jsx)(Qe.List.Dropdown.Item,{icon:Qe.Icon.AppWindowGrid3x3,title:"All Categories",value:yr},"000"),(r||[]).map((n,s)=>(0,ht.jsx)(Qe.List.Dropdown.Item,{icon:gr(n.replaceAll(" ","_").toUpperCase()),title:n,value:n},s))]})})}var ge=require("react/jsx-runtime");function Vo(){let[e,t]=bt("selected_category",yr),r=mr(),n=r&&e===yr?Object.values(r).sort((a,i)=>a.name.localeCompare(i.name)):r&&[r[e]];return(0,ge.jsx)(Q.List,{searchBarAccessory:(0,ge.jsx)(Wo,{onCategoryChange:a=>{e!==a&&t(a)}}),children:n?.length?n.map(a=>(0,ge.jsx)(Q.List.Section,{id:a.id,title:a.name,children:a.items.map(i=>(0,ge.jsx)(Q.List.Item,{accessories:[{text:i.vaultName}],actions:(0,ge.jsxs)(Q.ActionPanel,{children:[i.categoryUUID==="001"&&i.websiteURLs?.length&&(0,ge.jsx)(Q.Action.Open,{application:"com.agilebits.onepassword7",icon:Q.Icon.Globe,target:`onepassword7://open_and_fill/${i.vaultUUID}/${i.uuid}/${qo.default.createHash("sha256").update(i.websiteURLs[0]).digest("hex")}`,title:"Open in Browser"}),(0,ge.jsx)(Q.Action.Open,{application:"com.agilebits.onepassword7",target:`onepassword7://view/${i.vaultUUID}/${i.uuid}`,title:"Open in 1Password"}),(0,ge.jsx)(Q.Action.Open,{application:"com.agilebits.onepassword7",shortcut:{key:"e",modifiers:["cmd"]},target:`onepassword7://edit/${i.vaultUUID}/${i.uuid}`,title:"Edit in 1Password"}),(0,ge.jsx)(Q.ActionPanel.Section,{children:(0,ge.jsx)(Q.Action,{icon:Q.Icon.Trash,onAction:()=>Ie(),title:"Reset Cache"})})]}),icon:{tooltip:i.categorySingularName,value:{source:gr(i.categorySingularName.replaceAll(" ","_").toUpperCase()),tintColor:Q.Color.Blue}},id:i.uuid,keywords:i.accountName?[i.accountName]:[],subtitle:i.accountName,title:i.itemTitle},i.uuid))},a.id)):(0,ge.jsx)(Q.List.EmptyView,{description:"Any items you have added in 1Password app will be listed here.",title:"No items found"})})}var O=require("@raycast/api"),Te=require("react");var me=require("@raycast/api");var Xe=require("react/jsx-runtime");function pt(){let e=ie(),t=`
${e?"":"# 1Password CLI Tool Not Configured or Installed Properly"}
${e?"":"# Zsh Shell Not Configured or Installed Properly"}

${e?"":`
-  Ensure that the 1Password CLI is installed on your system. You can download it from [official 1Password CLI website](https://developer.1password.com/docs/cli/get-started).
-  Check if the path to the 1Password CLI is correctly added to your system's environment variables.
-  Run \`op --version\` to verify that the 1Password CLI is correctly installed.
`}


${st?"":"\n-  Make sure that Zsh is installed by running `zsh --version` in your terminal.\n-  Review your `.zshrc` file for any incorrect configurations that might be causing issues.\n-  Review your extension preferences for the Zsh shell path.\n"}

### Need More Help?
If you continue to experience problems after following these steps, please reach out by opening an issue in our [Github](https://github.com/raycast/extensions/issues/new/choose)

We're here to help ensure a smooth setup process!

---`;return(0,Xe.jsx)(me.Detail,{actions:(0,Xe.jsxs)(me.ActionPanel,{children:[(0,Xe.jsx)(me.Action,{icon:me.Icon.Gear,onAction:me.openExtensionPreferences,title:"Open Extension Preferences"}),(0,Xe.jsx)(me.Action.Open,{target:"onepassword://settings",title:"Open 1Password Settings"}),(0,Xe.jsx)(me.Action,{icon:me.Icon.Trash,onAction:()=>Ie(),title:"Reset Cache"})]}),markdown:t})}var re=require("@raycast/api"),Ss=require("node:path");var Je=require("react/jsx-runtime"),Hd=(0,Ss.join)(re.environment.assetsPath,"binary-instruction.png"),Bd=(0,Ss.join)(re.environment.assetsPath,"1password-settings.png"),Wd=`
# You will need the following to run the extension

## \u2705 1Password CLI

### This extension utilizes the 1Password CLI tool. You can setup the tool by following their [official document](https://developer.1password.com/docs/cli/get-started/).

### In case there's an issue with the tool, check the following.
![Terminal Instruction](${Hd})

## \u2705 Enable Command-Line Interface (CLI)

### To turn on the app integration and set up 1Password to authenticate with biometrics:
![1Password Settings](${Bd})

1. Open [1Password](onepassword://settings).
2. Select the account or collection at the top of the sidebar and choose Preferences > Security.
3. Check [Touch ID](https://support.1password.com/touch-id-mac/).
4. Select Developer in the sidebar.
5. Check "Connect with 1Password CLI".

You can also unlock 1Password CLI with your [Apple Watch](https://support.1password.com/apple-watch-mac/).
`;function br(){return(0,Je.jsx)(re.Detail,{actions:(0,Je.jsxs)(re.ActionPanel,{children:[(0,Je.jsx)(re.Action,{icon:re.Icon.Gear,onAction:re.openExtensionPreferences,title:"Open Extension Preferences"}),(0,Je.jsx)(re.Action.Open,{target:"onepassword://settings",title:"Open 1Password Settings"}),(0,Je.jsx)(re.Action,{icon:re.Icon.Trash,onAction:()=>Ie(),title:"Reset Cache"})]}),markdown:Wd})}var ye=require("react/jsx-runtime"),qd=(0,Te.createContext)(void 0),jo=({children:e})=>{try{ie()}catch{return(0,ye.jsx)(br,{})}let[t,r]=(0,Te.useState)(qs()),[n]=(0,Te.useState)(!Ws()),[s,a]=(0,Te.useState)(!0),[i,o]=(0,Te.useState)(""),{data:c,error:f,isLoading:u}=Ut(!s),p=O.environment.raycastVersion.includes("alpha")?"raycastinternal://":"raycast://",l=async y=>{let m=await(0,O.showToast)({style:O.Toast.Style.Animated,title:"Signing in..."});try{St(`--account ${y.account}`),r(!0),a(!0),m.style=O.Toast.Style.Success,m.title="Signed in"}catch(w){m.style=O.Toast.Style.Failure,m.title="Failed to sign in",w instanceof Error&&(m.message=w.message,m.primaryAction={onAction:async R=>{await O.Clipboard.copy(w.message),R.hide()},title:"Copy logs"})}},E=async()=>{await(0,O.closeMainWindow)({popToRootType:O.PopToRootType.Suspended});let y=await(0,O.showToast)({style:O.Toast.Style.Animated,title:"Authenticating..."});try{if(!st)throw new Nt("Zsh Binary Path Missing!");if(!ie())throw new Oe("1Password CLI is missing! Please install it before use.");St(),r(!0),a(!0),y.style=O.Toast.Style.Success,y.title="Authenticated!";return}catch(m){if(!(m instanceof Error)){y.style=O.Toast.Style.Failure,y.title="Error Authenticating.",y.message=String(m);return}let w=m.message.match(Us);if(w&&w[1]?o(w[1]):o(m.message),m.message.includes("multiple accounts found"))return a(!1);y.style=O.Toast.Style.Failure,y.title="Error Authenticating."}finally{await(0,O.open)(p)}};return(0,Te.useEffect)(()=>{!t&&!n&&E()},[t,n]),s?n?(0,ye.jsx)(pt,{}):t?(0,ye.jsx)(qd.Provider,{value:{isAuthenticated:t},children:e}):(0,ye.jsx)(O.List,{children:(0,ye.jsx)(O.List.EmptyView,{actions:(0,ye.jsx)(O.ActionPanel,{children:(0,ye.jsx)(O.Action,{icon:O.Icon.Repeat,onAction:()=>E(),title:"Reload"},"reload-view")}),description:i||"Please authenticate using the requested method to proceed.",icon:O.Icon.Key,title:"Authentication Required"})}):(0,ye.jsx)(O.Form,{actions:(0,ye.jsx)(O.ActionPanel,{children:(0,ye.jsx)(O.Action.SubmitForm,{icon:O.Icon.Key,onSubmit:l,title:"Sign in"})}),isLoading:u,children:(0,ye.jsx)(O.Form.Dropdown,{autoFocus:!0,id:"account",title:"Account",children:(c&&!f?c:[]).map(y=>(0,ye.jsx)(O.Form.Dropdown.Item,{title:`${y.url} - ${y.email}`,value:y.account_uuid},y.account_uuid))})})};var be=require("@raycast/api");var wr=require("react");var gt=require("@raycast/api");var mt=require("react/jsx-runtime"),xt="null";function Go({onCategoryChange:e}){let{data:t,error:r,isLoading:n}=Gs();return r?(0,mt.jsx)(pt,{}):(0,mt.jsxs)(gt.List.Dropdown,{defaultValue:xt,isLoading:n,onChange:e,storeValue:!0,tooltip:"Select Category",children:[(0,mt.jsx)(gt.List.Dropdown.Item,{icon:gt.Icon.AppWindowGrid3x3,title:"All Categories",value:xt},"000"),(t||[]).map(s=>(0,mt.jsx)(gt.List.Dropdown.Item,{icon:Ft(s.name.replaceAll(" ","_").toUpperCase()),title:s.name,value:s.name},s.uuid))]})}var Me=require("@raycast/api");var K=require("@raycast/api"),ws=require("node:child_process");var zo=require("@raycast/api"),_r=require("react");function Ko(e=!1){let[t,r]=(0,_r.useState)({});return(0,_r.useEffect)(()=>{if(!e)return;(async()=>{try{let s=await(0,zo.getFrontmostApplication)();r({icon:s.path?{fileIcon:s.path}:void 0,name:s.name})}catch{r({})}})()},[e]),t}var Yo=require("react/jsx-runtime");function et({attribute:e,field:t="password",id:r,isPasteAction:n,shortcut:s,vault_id:a}){let i=ie(),o=Ko(!!n);return(0,Yo.jsx)(K.Action,{icon:n?o.icon??K.Icon.Text:K.Icon.Clipboard,onAction:async()=>{let c=await(0,K.showToast)({style:K.Toast.Style.Animated,title:n?`Pasting ${t}${o.name?` to ${o.name}`:""}...`:`Copying ${t}...`});try{let f;if(e==="otp")f=(0,ws.execFileSync)(i,["item","get",r,"--otp"]);else{let p=e?`?attribute=${e}`:"",l=`op://${a}/${r}/${t}${p}`;f=(0,ws.execFileSync)(i,["read",l])}let u=f.toString().trim();n?(await K.Clipboard.paste(u),c.style=K.Toast.Style.Success,c.title=`Pasted ${t}${o.name?` to ${o.name}`:""}`,await(0,K.showHUD)(`Pasted ${t}${o.name?` to ${o.name}`:""}`)):(await K.Clipboard.copy(u,{concealed:!0}),c.style=K.Toast.Style.Success,c.title="Copied to clipboard",await(0,K.showHUD)(`Copied ${t} to clipboard`))}catch(f){if(c.style=K.Toast.Style.Failure,c.title=`Failed to ${n?"paste":"copy"}`,f instanceof Error||f instanceof ae)try{de(f.message)}catch(u){u instanceof ae?(u.title!=u.message&&(c.message=u.message),c.title=u.title,c.primaryAction={onAction:async p=>{await K.Clipboard.copy(u.message),p.hide()},title:"Copy logs"}):u instanceof Error&&(c.title=u.message,c.primaryAction={onAction:async p=>{await K.Clipboard.copy(u.message),p.hide()},title:"Copy logs"})}}},shortcut:s,title:n?`Paste ${Ir(t)}${o.name?` to ${o.name}`:""}`:`Copy ${Ir(t)}`})}var ne=require("@raycast/api"),Zo=require("node:child_process");var Xo=require("react/jsx-runtime");function Qo({id:e,shortcut:t,title:r}){return(0,Xo.jsx)(ne.Action,{icon:ne.Icon.Link,onAction:async()=>{let n=await(0,ne.showToast)({style:ne.Toast.Style.Animated,title:`Sharing ${r}...`});try{let s=(0,Zo.execFileSync)(ie(),["item","share",e]);await ne.Clipboard.copy(s.toString().trim(),{concealed:!0}),n.style=ne.Toast.Style.Success,n.title="Copied to clipboard",await(0,ne.showHUD)("Copied sharing link to clipboard")}catch(s){if(n.style=ne.Toast.Style.Failure,n.title="Failed to copy",s instanceof Error||s instanceof ae)try{de(s.message)}catch(a){a instanceof ae?(a.title!=a.message&&(n.message=a.message),n.title=a.title,n.primaryAction={onAction:async i=>{await ne.Clipboard.copy(a.message),i.hide()},title:"Copy logs"}):a instanceof Error&&(n.title=a.message,n.primaryAction={onAction:async i=>{await ne.Clipboard.copy(a.message),i.hide()},title:"Copy logs"})}}},shortcut:t,title:"Share Item"})}var yt=require("@raycast/api");var X=require("@raycast/api"),Jo=require("react");var je=require("react/jsx-runtime");function ec({reset:e=!1}){let[t,r]=(0,Jo.useState)(!1),{data:n,error:s,isLoading:a}=Ut();return s?(0,je.jsx)(br,{}):!e||t?(0,je.jsx)(Sr,{}):(0,je.jsx)(X.Form,{actions:(0,je.jsx)(X.ActionPanel,{children:(0,je.jsx)(X.Action.SubmitForm,{icon:X.Icon.Key,onSubmit:async i=>{let o=await(0,X.showToast)({style:X.Toast.Style.Animated,title:"Signing in..."});try{St(`--account ${i.account}`),r(!0),o.style=X.Toast.Style.Success,o.title="Signed in"}catch(c){o.style=X.Toast.Style.Failure,o.title="Failed to sign in",c instanceof Error&&(o.message=c.message,o.primaryAction={onAction:async f=>{await X.Clipboard.copy(c.message),f.hide()},title:"Copy logs"})}},title:"Sign in"})}),isLoading:a,children:(0,je.jsx)(X.Form.Dropdown,{autoFocus:!0,id:"account",title:"Account",children:(n||[]).map(i=>(0,je.jsx)(X.Form.Dropdown.Item,{title:`${i.url} - ${i.email}`,value:i.account_uuid},i.account_uuid))})})}var $s=require("react/jsx-runtime");function tc(){let{push:e}=(0,yt.useNavigation)();return(0,$s.jsx)(yt.Action,{icon:yt.Icon.Switch,onAction:()=>e((0,$s.jsx)(ec,{reset:!0})),title:"Switch Account"},"switch-account")}var ue=require("react/jsx-runtime");function rc({account:e,actions:t,item:r}){return(0,ue.jsxs)(Me.ActionPanel,{children:[t.map(n=>{switch(n){case"copy-one-time-password":return Vd(r);case"copy-password":return jd(r);case"copy-username":return zd(r);case"open-in-1password":return Kd(e,r);case"open-in-browser":return Yd(r);case"paste-one-time-password":return Zd(r);case"paste-password":return Qd(r);case"paste-username":return Xd(r);case"share-item":return Gd(r)}}),(0,ue.jsxs)(Me.ActionPanel.Section,{children:[tc(),(0,ue.jsx)(Me.Action,{icon:Me.Icon.Trash,onAction:()=>Ie(),title:"Reset Cache"})]})]})}function Vd(e){return(0,ue.jsx)(et,{attribute:"otp",field:"one-time password",id:e.id,shortcut:{key:"c",modifiers:["cmd","ctrl"]},vault_id:e.vault.id},"copy-one-time-password")}function jd(e){return(0,ue.jsx)(et,{field:"password",id:e.id,shortcut:{key:"c",modifiers:["cmd","opt"]},vault_id:e.vault.id},"copy-password")}function Gd(e){return(0,ue.jsx)(Qo,{id:e.id,shortcut:{key:"s",modifiers:["cmd","shift"]},title:e.title},"share-item")}function zd(e){return(0,ue.jsx)(et,{field:"username",id:e.id,shortcut:{key:"c",modifiers:["cmd","shift"]},vault_id:e.vault.id},"copy-username")}function Kd(e,t){return e?(0,ue.jsx)(Me.Action.Open,{application:"com.1password.1password",shortcut:{key:"o",modifiers:["cmd","shift"]},target:`onepassword://view-item/?a=${e.account_uuid}&v=${t.vault.id}&i=${t.id}`,title:"Open in 1Password"},"open-in-1password"):null}function Yd(e){let t=Hs(e);return t?(0,ue.jsx)(Me.Action.OpenInBrowser,{shortcut:{key:"return",modifiers:["opt"]},title:"Open in Browser",url:t},"open-in-browser"):null}function Zd(e){return(0,ue.jsx)(et,{attribute:"otp",field:"one-time password",id:e.id,isPasteAction:!0,shortcut:{key:"v",modifiers:["cmd","ctrl"]},vault_id:e.vault.id},"paste-one-time-password")}function Qd(e){return(0,ue.jsx)(et,{field:"password",id:e.id,isPasteAction:!0,shortcut:{key:"v",modifiers:["cmd","opt"]},vault_id:e.vault.id},"paste-password")}function Xd(e){return(0,ue.jsx)(et,{field:"username",id:e.id,isPasteAction:!0,shortcut:{key:"v",modifiers:["cmd","shift"]},vault_id:e.vault.id},"paste-username")}var Ae=require("react/jsx-runtime");function Sr({flags:e}){let[t,r]=bt("selected_category",xt),[n,s]=(0,wr.useState)([]),{data:a,error:i,isLoading:o}=zs(),{data:c,error:f,isLoading:u}=js({account:a?.account_uuid??"",execute:!i&&!o,flags:e});(0,wr.useMemo)(()=>{if(c){if(t===xt)return s(c);s(c?.filter(l=>l.category===t.replaceAll(" ","_").toUpperCase()))}},[c,t]);let p=l=>{t!==l&&r(l)};return f instanceof Oe||i instanceof Oe?(0,Ae.jsx)(pt,{}):f instanceof nt||i instanceof nt?(0,Ae.jsx)(be.List,{children:(0,Ae.jsx)(be.List.EmptyView,{description:f?.message||i?.message,icon:be.Icon.WifiDisabled,title:f?.title||i?.title})}):(0,Ae.jsxs)(be.List,{isLoading:u||o,searchBarAccessory:(0,Ae.jsx)(Go,{onCategoryChange:p}),children:[(0,Ae.jsx)(be.List.EmptyView,{description:"Any items you have added in 1Password app will be listed here.",icon:"1password-noview.png",title:"No items found"}),(0,Ae.jsx)(be.List.Section,{subtitle:`${n?.length}`,title:"Items",children:n?.length?n.map(l=>(0,Ae.jsx)(be.List.Item,{accessories:[l?.favorite?{icon:{source:be.Icon.Stars,tintColor:be.Color.Yellow},tooltip:"Favorite item"}:{},{text:l.vault?.name}],actions:(0,Ae.jsx)(rc,{account:a,actions:Fs(l),item:l}),icon:{tooltip:l.category,value:{source:Ft(l.category),tintColor:be.Color.Blue}},id:l.id,keywords:l.additional_information?[l.additional_information]:[],subtitle:l.additional_information,title:l.title},l.id)):null})]})}var $r=require("react/jsx-runtime");function sc(){return(0,nc.getPreferenceValues)().version=="v8"?(0,$r.jsx)(jo,{children:(0,$r.jsx)(Sr,{})}):(0,$r.jsx)(Vo,{})}
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
