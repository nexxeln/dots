{
  "version": 3,
  "sources": ["../node_modules/temp-dir/index.js", "../node_modules/array-union/index.js", "../node_modules/merge2/index.js", "../node_modules/fast-glob/out/utils/array.js", "../node_modules/fast-glob/out/utils/errno.js", "../node_modules/fast-glob/out/utils/fs.js", "../node_modules/fast-glob/out/utils/path.js", "../node_modules/is-extglob/index.js", "../node_modules/is-glob/index.js", "../node_modules/fast-glob/node_modules/glob-parent/index.js", "../node_modules/braces/lib/utils.js", "../node_modules/braces/lib/stringify.js", "../node_modules/is-number/index.js", "../node_modules/to-regex-range/index.js", "../node_modules/fill-range/index.js", "../node_modules/braces/lib/compile.js", "../node_modules/braces/lib/expand.js", "../node_modules/braces/lib/constants.js", "../node_modules/braces/lib/parse.js", "../node_modules/braces/index.js", "../node_modules/picomatch/lib/constants.js", "../node_modules/picomatch/lib/utils.js", "../node_modules/picomatch/lib/scan.js", "../node_modules/picomatch/lib/parse.js", "../node_modules/picomatch/lib/picomatch.js", "../node_modules/picomatch/index.js", "../node_modules/micromatch/index.js", "../node_modules/fast-glob/out/utils/pattern.js", "../node_modules/fast-glob/out/utils/stream.js", "../node_modules/fast-glob/out/utils/string.js", "../node_modules/fast-glob/out/utils/index.js", "../node_modules/fast-glob/out/managers/tasks.js", "../node_modules/@nodelib/fs.stat/out/providers/async.js", "../node_modules/@nodelib/fs.stat/out/providers/sync.js", "../node_modules/@nodelib/fs.stat/out/adapters/fs.js", "../node_modules/@nodelib/fs.stat/out/settings.js", "../node_modules/@nodelib/fs.stat/out/index.js", "../node_modules/queue-microtask/index.js", "../node_modules/run-parallel/index.js", "../node_modules/@nodelib/fs.scandir/out/constants.js", "../node_modules/@nodelib/fs.scandir/out/utils/fs.js", "../node_modules/@nodelib/fs.scandir/out/utils/index.js", "../node_modules/@nodelib/fs.scandir/out/providers/common.js", "../node_modules/@nodelib/fs.scandir/out/providers/async.js", "../node_modules/@nodelib/fs.scandir/out/providers/sync.js", "../node_modules/@nodelib/fs.scandir/out/adapters/fs.js", "../node_modules/@nodelib/fs.scandir/out/settings.js", "../node_modules/@nodelib/fs.scandir/out/index.js", "../node_modules/reusify/reusify.js", "../node_modules/fastq/queue.js", "../node_modules/@nodelib/fs.walk/out/readers/common.js", "../node_modules/@nodelib/fs.walk/out/readers/reader.js", "../node_modules/@nodelib/fs.walk/out/readers/async.js", "../node_modules/@nodelib/fs.walk/out/providers/async.js", "../node_modules/@nodelib/fs.walk/out/providers/stream.js", "../node_modules/@nodelib/fs.walk/out/readers/sync.js", "../node_modules/@nodelib/fs.walk/out/providers/sync.js", "../node_modules/@nodelib/fs.walk/out/settings.js", "../node_modules/@nodelib/fs.walk/out/index.js", "../node_modules/fast-glob/out/readers/reader.js", "../node_modules/fast-glob/out/readers/stream.js", "../node_modules/fast-glob/out/readers/async.js", "../node_modules/fast-glob/out/providers/matchers/matcher.js", "../node_modules/fast-glob/out/providers/matchers/partial.js", "../node_modules/fast-glob/out/providers/filters/deep.js", "../node_modules/fast-glob/out/providers/filters/entry.js", "../node_modules/fast-glob/out/providers/filters/error.js", "../node_modules/fast-glob/out/providers/transformers/entry.js", "../node_modules/fast-glob/out/providers/provider.js", "../node_modules/fast-glob/out/providers/async.js", "../node_modules/fast-glob/out/providers/stream.js", "../node_modules/fast-glob/out/readers/sync.js", "../node_modules/fast-glob/out/providers/sync.js", "../node_modules/fast-glob/out/settings.js", "../node_modules/fast-glob/out/index.js", "../node_modules/path-type/index.js", "../node_modules/dir-glob/index.js", "../node_modules/ignore/index.js", "../node_modules/slash/index.js", "../node_modules/globby/gitignore.js", "../node_modules/globby/stream-utils.js", "../node_modules/globby/index.js", "../node_modules/graceful-fs/polyfills.js", "../node_modules/graceful-fs/legacy-streams.js", "../node_modules/graceful-fs/clone.js", "../node_modules/graceful-fs/graceful-fs.js", "../node_modules/is-path-cwd/index.js", "../node_modules/is-path-inside/index.js", "../node_modules/fs.realpath/old.js", "../node_modules/fs.realpath/index.js", "../node_modules/concat-map/index.js", "../node_modules/balanced-match/index.js", "../node_modules/glob/node_modules/brace-expansion/index.js", "../node_modules/glob/node_modules/minimatch/minimatch.js", "../node_modules/inherits/inherits_browser.js", "../node_modules/inherits/inherits.js", "../node_modules/path-is-absolute/index.js", "../node_modules/glob/common.js", "../node_modules/glob/sync.js", "../node_modules/wrappy/wrappy.js", "../node_modules/once/once.js", "../node_modules/inflight/inflight.js", "../node_modules/glob/glob.js", "../node_modules/rimraf/rimraf.js", "../node_modules/indent-string/index.js", "../node_modules/aggregate-error/node_modules/clean-stack/index.js", "../node_modules/aggregate-error/index.js", "../node_modules/p-map/index.js", "../node_modules/del/index.js", "../src/search.tsx", "../node_modules/dequal/lite/index.mjs", "../node_modules/@raycast/utils/dist/src/index.ts", "../node_modules/@raycast/utils/dist/src/usePromise.ts", "../node_modules/@raycast/utils/dist/src/useDeepMemo.ts", "../node_modules/@raycast/utils/dist/src/useLatest.ts", "../node_modules/@raycast/utils/dist/src/showFailureToast.ts", "../node_modules/@raycast/utils/dist/src/useCachedState.ts", "../node_modules/@raycast/utils/dist/src/helpers.ts", "../node_modules/@raycast/utils/dist/src/vendors/type-hasher.ts", "../node_modules/@raycast/utils/dist/src/useCachedPromise.ts", "../node_modules/@raycast/utils/dist/src/useFetch.ts", "../node_modules/@raycast/utils/dist/src/fetch-utils.ts", "../node_modules/@raycast/utils/dist/src/useExec.ts", "../node_modules/@raycast/utils/dist/src/exec-utils.ts", "../node_modules/@raycast/utils/dist/src/vendors/signal-exit.ts", "../node_modules/@raycast/utils/dist/src/useStreamJSON.ts", "../node_modules/@raycast/utils/dist/src/vendors/stream-chain.ts", "../node_modules/@raycast/utils/dist/src/vendors/stream-json.ts", "../node_modules/@raycast/utils/dist/src/useSQL.tsx", "../node_modules/@raycast/utils/dist/src/sql-utils.ts", "../node_modules/@raycast/utils/dist/src/useForm.tsx", "../node_modules/@raycast/utils/dist/src/useAI.ts", "../node_modules/@raycast/utils/dist/src/useFrecencySorting.ts", "../node_modules/@raycast/utils/dist/src/useLocalStorage.ts", "../node_modules/@raycast/utils/dist/src/icon/index.ts", "../node_modules/@raycast/utils/dist/src/icon/avatar.ts", "../node_modules/@raycast/utils/dist/src/icon/color.ts", "../node_modules/@raycast/utils/dist/src/icon/favicon.ts", "../node_modules/@raycast/utils/dist/src/icon/progress.ts", "../node_modules/@raycast/utils/dist/src/oauth/index.ts", "../node_modules/@raycast/utils/dist/src/oauth/OAuthService.ts", "../node_modules/@raycast/utils/dist/src/oauth/providers.ts", "../node_modules/@raycast/utils/dist/src/oauth/withAccessToken.tsx", "../node_modules/@raycast/utils/dist/src/createDeeplink.ts", "../node_modules/@raycast/utils/dist/src/executeSQL.ts", "../node_modules/@raycast/utils/dist/src/run-applescript.ts", "../node_modules/@raycast/utils/dist/src/run-powershell-script.ts", "../node_modules/@raycast/utils/dist/src/cache.ts", "../src/preferences.ts", "../node_modules/date-fns/toDate.mjs", "../node_modules/date-fns/constructFrom.mjs", "../node_modules/date-fns/constants.mjs", "../node_modules/date-fns/_lib/defaultOptions.mjs", "../node_modules/date-fns/startOfWeek.mjs", "../node_modules/date-fns/startOfISOWeek.mjs", "../node_modules/date-fns/getISOWeekYear.mjs", "../node_modules/date-fns/startOfDay.mjs", "../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs", "../node_modules/date-fns/differenceInCalendarDays.mjs", "../node_modules/date-fns/startOfISOWeekYear.mjs", "../node_modules/date-fns/isDate.mjs", "../node_modules/date-fns/isValid.mjs", "../node_modules/date-fns/startOfYear.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs", "../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs", "../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/localize.mjs", "../node_modules/date-fns/locale/_lib/buildMatchFn.mjs", "../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/match.mjs", "../node_modules/date-fns/locale/en-US.mjs", "../node_modules/date-fns/getDayOfYear.mjs", "../node_modules/date-fns/getISOWeek.mjs", "../node_modules/date-fns/getWeekYear.mjs", "../node_modules/date-fns/startOfWeekYear.mjs", "../node_modules/date-fns/getWeek.mjs", "../node_modules/date-fns/_lib/addLeadingZeros.mjs", "../node_modules/date-fns/_lib/format/lightFormatters.mjs", "../node_modules/date-fns/_lib/format/formatters.mjs", "../node_modules/date-fns/_lib/format/longFormatters.mjs", "../node_modules/date-fns/_lib/protectedTokens.mjs", "../node_modules/date-fns/format.mjs", "../node_modules/date-fns/formatRelative.mjs", "../node_modules/date-fns/fromUnixTime.mjs", "../src/models/gif.ts", "../src/models/giphy.ts", "../src/models/tenor.ts", "../src/models/finergifs.ts", "../src/lib/dedupe.ts", "../src/hooks/useSearchAPI.ts", "../src/lib/localGifs.ts", "../src/hooks/useLocalGifs.ts", "../src/components/GifGridItem.tsx", "../src/components/GifActions.tsx", "../src/components/GifDetails.tsx", "../src/lib/getServiceFromUrl.ts", "../src/lib/formatFileSize.ts", "../src/lib/copyFileToClipboard.ts", "../node_modules/tempy/index.js", "../node_modules/crypto-random-string/index.js", "../node_modules/unique-string/index.js", "../node_modules/is-stream/index.js", "../src/lib/cachedGifs.ts", "../src/lib/stripQParams.ts", "../src/lib/downloadFile.ts", "../src/components/GifGridSection.tsx"],
  "sourcesContent": ["'use strict';\nconst fs = require('fs');\nconst os = require('os');\n\nconst tempDirectorySymbol = Symbol.for('__RESOLVED_TEMP_DIRECTORY__');\n\nif (!global[tempDirectorySymbol]) {\n\tObject.defineProperty(global, tempDirectorySymbol, {\n\t\tvalue: fs.realpathSync(os.tmpdir())\n\t});\n}\n\nmodule.exports = global[tempDirectorySymbol];\n", "'use strict';\n\nmodule.exports = (...arguments_) => {\n\treturn [...new Set([].concat(...arguments_))];\n};\n", "'use strict'\n/*\n * merge2\n * https://github.com/teambition/merge2\n *\n * Copyright (c) 2014-2020 Teambition\n * Licensed under the MIT license.\n */\nconst Stream = require('stream')\nconst PassThrough = Stream.PassThrough\nconst slice = Array.prototype.slice\n\nmodule.exports = merge2\n\nfunction merge2 () {\n  const streamsQueue = []\n  const args = slice.call(arguments)\n  let merging = false\n  let options = args[args.length - 1]\n\n  if (options && !Array.isArray(options) && options.pipe == null) {\n    args.pop()\n  } else {\n    options = {}\n  }\n\n  const doEnd = options.end !== false\n  const doPipeError = options.pipeError === true\n  if (options.objectMode == null) {\n    options.objectMode = true\n  }\n  if (options.highWaterMark == null) {\n    options.highWaterMark = 64 * 1024\n  }\n  const mergedStream = PassThrough(options)\n\n  function addStream () {\n    for (let i = 0, len = arguments.length; i < len; i++) {\n      streamsQueue.push(pauseStreams(arguments[i], options))\n    }\n    mergeStream()\n    return this\n  }\n\n  function mergeStream () {\n    if (merging) {\n      return\n    }\n    merging = true\n\n    let streams = streamsQueue.shift()\n    if (!streams) {\n      process.nextTick(endStream)\n      return\n    }\n    if (!Array.isArray(streams)) {\n      streams = [streams]\n    }\n\n    let pipesCount = streams.length + 1\n\n    function next () {\n      if (--pipesCount > 0) {\n        return\n      }\n      merging = false\n      mergeStream()\n    }\n\n    function pipe (stream) {\n      function onend () {\n        stream.removeListener('merge2UnpipeEnd', onend)\n        stream.removeListener('end', onend)\n        if (doPipeError) {\n          stream.removeListener('error', onerror)\n        }\n        next()\n      }\n      function onerror (err) {\n        mergedStream.emit('error', err)\n      }\n      // skip ended stream\n      if (stream._readableState.endEmitted) {\n        return next()\n      }\n\n      stream.on('merge2UnpipeEnd', onend)\n      stream.on('end', onend)\n\n      if (doPipeError) {\n        stream.on('error', onerror)\n      }\n\n      stream.pipe(mergedStream, { end: false })\n      // compatible for old stream\n      stream.resume()\n    }\n\n    for (let i = 0; i < streams.length; i++) {\n      pipe(streams[i])\n    }\n\n    next()\n  }\n\n  function endStream () {\n    merging = false\n    // emit 'queueDrain' when all streams merged.\n    mergedStream.emit('queueDrain')\n    if (doEnd) {\n      mergedStream.end()\n    }\n  }\n\n  mergedStream.setMaxListeners(0)\n  mergedStream.add = addStream\n  mergedStream.on('unpipe', function (stream) {\n    stream.emit('merge2UnpipeEnd')\n  })\n\n  if (args.length) {\n    addStream.apply(null, args)\n  }\n  return mergedStream\n}\n\n// check and pause streams for pipe.\nfunction pauseStreams (streams, options) {\n  if (!Array.isArray(streams)) {\n    // Backwards-compat with old-style streams\n    if (!streams._readableState && streams.pipe) {\n      streams = streams.pipe(PassThrough(options))\n    }\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\n      throw new Error('Only readable stream can be merged.')\n    }\n    streams.pause()\n  } else {\n    for (let i = 0, len = streams.length; i < len; i++) {\n      streams[i] = pauseStreams(streams[i], options)\n    }\n  }\n  return streams\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitWhen = exports.flatten = void 0;\nfunction flatten(items) {\n    return items.reduce((collection, item) => [].concat(collection, item), []);\n}\nexports.flatten = flatten;\nfunction splitWhen(items, predicate) {\n    const result = [[]];\n    let groupIndex = 0;\n    for (const item of items) {\n        if (predicate(item)) {\n            groupIndex++;\n            result[groupIndex] = [];\n        }\n        else {\n            result[groupIndex].push(item);\n        }\n    }\n    return result;\n}\nexports.splitWhen = splitWhen;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEnoentCodeError = void 0;\nfunction isEnoentCodeError(error) {\n    return error.code === 'ENOENT';\n}\nexports.isEnoentCodeError = isEnoentCodeError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDirentFromStats = void 0;\nclass DirentFromStats {\n    constructor(name, stats) {\n        this.name = name;\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\n        this.isDirectory = stats.isDirectory.bind(stats);\n        this.isFIFO = stats.isFIFO.bind(stats);\n        this.isFile = stats.isFile.bind(stats);\n        this.isSocket = stats.isSocket.bind(stats);\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\n    }\n}\nfunction createDirentFromStats(name, stats) {\n    return new DirentFromStats(name, stats);\n}\nexports.createDirentFromStats = createDirentFromStats;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertPosixPathToPattern = exports.convertWindowsPathToPattern = exports.convertPathToPattern = exports.escapePosixPath = exports.escapeWindowsPath = exports.escape = exports.removeLeadingDotSegment = exports.makeAbsolute = exports.unixify = void 0;\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst IS_WINDOWS_PLATFORM = os.platform() === 'win32';\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\n/**\n * All non-escaped special characters.\n * Posix: ()*?[]{|}, !+@ before (, ! at the beginning, \\\\ before non-special characters.\n * Windows: (){}[], !+@ before (, ! at the beginning.\n */\nconst POSIX_UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\()|\\\\(?![!()*+?@[\\]{|}]))/g;\nconst WINDOWS_UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()[\\]{}]|^!|[!+@](?=\\())/g;\n/**\n * The device path (\\\\.\\ or \\\\?\\).\n * https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats#dos-device-paths\n */\nconst DOS_DEVICE_PATH_RE = /^\\\\\\\\([.?])/;\n/**\n * All backslashes except those escaping special characters.\n * Windows: !()+@{}\n * https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file#naming-conventions\n */\nconst WINDOWS_BACKSLASHES_RE = /\\\\(?![!()+@[\\]{}])/g;\n/**\n * Designed to work only with simple paths: `dir\\\\file`.\n */\nfunction unixify(filepath) {\n    return filepath.replace(/\\\\/g, '/');\n}\nexports.unixify = unixify;\nfunction makeAbsolute(cwd, filepath) {\n    return path.resolve(cwd, filepath);\n}\nexports.makeAbsolute = makeAbsolute;\nfunction removeLeadingDotSegment(entry) {\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n    if (entry.charAt(0) === '.') {\n        const secondCharactery = entry.charAt(1);\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\n        }\n    }\n    return entry;\n}\nexports.removeLeadingDotSegment = removeLeadingDotSegment;\nexports.escape = IS_WINDOWS_PLATFORM ? escapeWindowsPath : escapePosixPath;\nfunction escapeWindowsPath(pattern) {\n    return pattern.replace(WINDOWS_UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\n}\nexports.escapeWindowsPath = escapeWindowsPath;\nfunction escapePosixPath(pattern) {\n    return pattern.replace(POSIX_UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\n}\nexports.escapePosixPath = escapePosixPath;\nexports.convertPathToPattern = IS_WINDOWS_PLATFORM ? convertWindowsPathToPattern : convertPosixPathToPattern;\nfunction convertWindowsPathToPattern(filepath) {\n    return escapeWindowsPath(filepath)\n        .replace(DOS_DEVICE_PATH_RE, '//$1')\n        .replace(WINDOWS_BACKSLASHES_RE, '/');\n}\nexports.convertWindowsPathToPattern = convertWindowsPathToPattern;\nfunction convertPosixPathToPattern(filepath) {\n    return escapePosixPath(filepath);\n}\nexports.convertPosixPathToPattern = convertPosixPathToPattern;\n", "/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n", "/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  var pipeIndex = -2;\n  var closeSquareIndex = -2;\n  var closeCurlyIndex = -2;\n  var closeParenIndex = -2;\n  var backSlashIndex = -2;\n  while (index < str.length) {\n    if (str[index] === '*') {\n      return true;\n    }\n\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\n      return true;\n    }\n\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\n      if (closeSquareIndex < index) {\n        closeSquareIndex = str.indexOf(']', index);\n      }\n      if (closeSquareIndex > index) {\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\n      closeCurlyIndex = str.indexOf('}', index);\n      if (closeCurlyIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\n      closeParenIndex = str.indexOf(')', index);\n      if (closeParenIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\n      if (pipeIndex < index) {\n        pipeIndex = str.indexOf('|', index);\n      }\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\n        closeParenIndex = str.indexOf(')', pipeIndex);\n        if (closeParenIndex > pipeIndex) {\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nvar relaxedCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  while (index < str.length) {\n    if (/[*?{}()[\\]]/.test(str[index])) {\n      return true;\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var check = strictCheck;\n\n  // optionally relax check\n  if (options && options.strict === false) {\n    check = relaxedCheck;\n  }\n\n  return check(str);\n};\n", "'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n", "'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  const node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      const ele = arr[i];\n\n      if (Array.isArray(ele)) {\n        flat(ele);\n        continue;\n      }\n\n      if (ele !== undefined) {\n        result.push(ele);\n      }\n    }\n    return result;\n  };\n\n  flat(args);\n  return result;\n};\n", "'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  const stringify = (node, parent = {}) => {\n    const invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    const invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (const child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n", "/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n", "/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n", "/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options, maxLen) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.map(v => toMaxLen(String(v), maxLen)).join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.map(v => toMaxLen(String(v), maxLen)).join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options, maxLen)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  const walk = (node, parent = {}) => {\n    const invalidBlock = utils.isInvalidBrace(parent);\n    const invalidNode = node.invalid === true && options.escapeInvalid === true;\n    const invalid = invalidBlock === true || invalidNode === true;\n    const prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n\n    if (node.isClose === true) {\n      console.log('node.isClose', prefix, node.value);\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? prefix + node.value : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? prefix + node.value : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : invalid ? node.value : '|';\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      const args = utils.reduce(node.nodes);\n      const range = fill(...args, { ...options, wrap: false, toRegex: true, strictZeros: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (const child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  const result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (const item of queue) {\n    if (Array.isArray(item)) {\n      for (const value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : item + ele);\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  const rangeLimit = options.rangeLimit === undefined ? 1000 : options.rangeLimit;\n\n  const walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      const args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    const enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      const child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n", "'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 10000,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n", "'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  const opts = options || {};\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  const ast = { type: 'root', input, nodes: [] };\n  const stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  const length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      const open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      const dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      const brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      const type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        const open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      const siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        const before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      const parent = stack[stack.length - 1];\n      const index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (const pattern of input) {\n      const result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n  return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n", "'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n", "'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n", "'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n", "'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n", "'use strict';\n\nmodule.exports = require('./lib/picomatch');\n", "'use strict';\n\nconst util = require('util');\nconst braces = require('braces');\nconst picomatch = require('picomatch');\nconst utils = require('picomatch/lib/utils');\n\nconst isEmptyString = v => v === '' || v === './';\nconst hasBraces = v => {\n  const index = v.indexOf('{');\n  return index > -1 && v.indexOf('}', index) > -1;\n};\n\n/**\n * Returns an array of strings that match one or more glob patterns.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm(list, patterns[, options]);\n *\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\n * //=> [ 'a.js' ]\n * ```\n * @param {String|Array<string>} `list` List of strings to match.\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options)\n * @return {Array} Returns an array of matches\n * @summary false\n * @api public\n */\n\nconst micromatch = (list, patterns, options) => {\n  patterns = [].concat(patterns);\n  list = [].concat(list);\n\n  let omit = new Set();\n  let keep = new Set();\n  let items = new Set();\n  let negatives = 0;\n\n  let onResult = state => {\n    items.add(state.output);\n    if (options && options.onResult) {\n      options.onResult(state);\n    }\n  };\n\n  for (let i = 0; i < patterns.length; i++) {\n    let isMatch = picomatch(String(patterns[i]), { ...options, onResult }, true);\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\n    if (negated) negatives++;\n\n    for (let item of list) {\n      let matched = isMatch(item, true);\n\n      let match = negated ? !matched.isMatch : matched.isMatch;\n      if (!match) continue;\n\n      if (negated) {\n        omit.add(matched.output);\n      } else {\n        omit.delete(matched.output);\n        keep.add(matched.output);\n      }\n    }\n  }\n\n  let result = negatives === patterns.length ? [...items] : [...keep];\n  let matches = result.filter(item => !omit.has(item));\n\n  if (options && matches.length === 0) {\n    if (options.failglob === true) {\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\n    }\n\n    if (options.nonull === true || options.nullglob === true) {\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\n    }\n  }\n\n  return matches;\n};\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.match = micromatch;\n\n/**\n * Returns a matcher function from the given glob `pattern` and `options`.\n * The returned function takes a string to match as its only argument and returns\n * true if the string is a match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matcher(pattern[, options]);\n *\n * const isMatch = mm.matcher('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @param {String} `pattern` Glob pattern\n * @param {Object} `options`\n * @return {Function} Returns a matcher function.\n * @api public\n */\n\nmicromatch.matcher = (pattern, options) => picomatch(pattern, options);\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.isMatch(string, patterns[, options]);\n *\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `[options]` See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.any = micromatch.isMatch;\n\n/**\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.not(list, patterns[, options]);\n *\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\n * //=> ['b.b', 'c.c']\n * ```\n * @param {Array} `list` Array of strings to match.\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\n * @api public\n */\n\nmicromatch.not = (list, patterns, options = {}) => {\n  patterns = [].concat(patterns).map(String);\n  let result = new Set();\n  let items = [];\n\n  let onResult = state => {\n    if (options.onResult) options.onResult(state);\n    items.push(state.output);\n  };\n\n  let matches = new Set(micromatch(list, patterns, { ...options, onResult }));\n\n  for (let item of items) {\n    if (!matches.has(item)) {\n      result.add(item);\n    }\n  }\n  return [...result];\n};\n\n/**\n * Returns true if the given `string` contains the given pattern. Similar\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\n *\n * ```js\n * var mm = require('micromatch');\n * // mm.contains(string, pattern[, options]);\n *\n * console.log(mm.contains('aa/bb/cc', '*b'));\n * //=> true\n * console.log(mm.contains('aa/bb/cc', '*d'));\n * //=> false\n * ```\n * @param {String} `str` The string to match.\n * @param {String|Array} `patterns` Glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\n * @api public\n */\n\nmicromatch.contains = (str, pattern, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  if (Array.isArray(pattern)) {\n    return pattern.some(p => micromatch.contains(str, p, options));\n  }\n\n  if (typeof pattern === 'string') {\n    if (isEmptyString(str) || isEmptyString(pattern)) {\n      return false;\n    }\n\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\n      return true;\n    }\n  }\n\n  return micromatch.isMatch(str, pattern, { ...options, contains: true });\n};\n\n/**\n * Filter the keys of the given object with the given `glob` pattern\n * and `options`. Does not attempt to match nested keys. If you need this feature,\n * use [glob-object][] instead.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matchKeys(object, patterns[, options]);\n *\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\n * console.log(mm.matchKeys(obj, '*b'));\n * //=> { ab: 'b' }\n * ```\n * @param {Object} `object` The object with keys to filter.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Object} Returns an object with only keys that match the given patterns.\n * @api public\n */\n\nmicromatch.matchKeys = (obj, patterns, options) => {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('Expected the first argument to be an object');\n  }\n  let keys = micromatch(Object.keys(obj), patterns, options);\n  let res = {};\n  for (let key of keys) res[key] = obj[key];\n  return res;\n};\n\n/**\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.some(list, patterns[, options]);\n *\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // true\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\n * @api public\n */\n\nmicromatch.some = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (items.some(item => isMatch(item))) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Returns true if every string in the given `list` matches\n * any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.every(list, patterns[, options]);\n *\n * console.log(mm.every('foo.js', ['foo.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // false\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\n * @api public\n */\n\nmicromatch.every = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (!items.every(item => isMatch(item))) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Returns true if **all** of the given `patterns` match\n * the specified string.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.all(string, patterns[, options]);\n *\n * console.log(mm.all('foo.js', ['foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\n * // false\n *\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\n * // true\n * ```\n * @param {String|Array} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.all = (str, patterns, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  return [].concat(patterns).every(p => picomatch(p, options)(str));\n};\n\n/**\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.capture(pattern, string[, options]);\n *\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\n * //=> ['foo']\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\n * //=> null\n * ```\n * @param {String} `glob` Glob pattern to use for matching.\n * @param {String} `input` String to match\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\n * @api public\n */\n\nmicromatch.capture = (glob, input, options) => {\n  let posix = utils.isWindows(options);\n  let regex = picomatch.makeRe(String(glob), { ...options, capture: true });\n  let match = regex.exec(posix ? utils.toPosixSlashes(input) : input);\n\n  if (match) {\n    return match.slice(1).map(v => v === void 0 ? '' : v);\n  }\n};\n\n/**\n * Create a regular expression from the given glob `pattern`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.makeRe(pattern[, options]);\n *\n * console.log(mm.makeRe('*.js'));\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\n * ```\n * @param {String} `pattern` A glob pattern to convert to regex.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\nmicromatch.makeRe = (...args) => picomatch.makeRe(...args);\n\n/**\n * Scan a glob pattern to separate the pattern into segments. Used\n * by the [split](#split) method.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.scan(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\nmicromatch.scan = (...args) => picomatch.scan(...args);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.parse(pattern[, options]);\n * ```\n * @param {String} `glob`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\n * @api public\n */\n\nmicromatch.parse = (patterns, options) => {\n  let res = [];\n  for (let pattern of [].concat(patterns || [])) {\n    for (let str of braces(String(pattern), options)) {\n      res.push(picomatch.parse(str, options));\n    }\n  }\n  return res;\n};\n\n/**\n * Process the given brace `pattern`.\n *\n * ```js\n * const { braces } = require('micromatch');\n * console.log(braces('foo/{a,b,c}/bar'));\n * //=> [ 'foo/(a|b|c)/bar' ]\n *\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\n * ```\n * @param {String} `pattern` String with brace pattern to process.\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\n * @return {Array}\n * @api public\n */\n\nmicromatch.braces = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  if ((options && options.nobrace === true) || !hasBraces(pattern)) {\n    return [pattern];\n  }\n  return braces(pattern, options);\n};\n\n/**\n * Expand braces\n */\n\nmicromatch.braceExpand = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  return micromatch.braces(pattern, { ...options, expand: true });\n};\n\n/**\n * Expose micromatch\n */\n\n// exposed for tests\nmicromatch.hasBraces = hasBraces;\nmodule.exports = micromatch;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAbsolute = exports.partitionAbsoluteAndRelative = exports.removeDuplicateSlashes = exports.matchAny = exports.convertPatternsToRe = exports.makeRe = exports.getPatternParts = exports.expandBraceExpansion = exports.expandPatternsWithBraceExpansion = exports.isAffectDepthOfReadingPattern = exports.endsWithSlashGlobStar = exports.hasGlobStar = exports.getBaseDirectory = exports.isPatternRelatedToParentDirectory = exports.getPatternsOutsideCurrentDirectory = exports.getPatternsInsideCurrentDirectory = exports.getPositivePatterns = exports.getNegativePatterns = exports.isPositivePattern = exports.isNegativePattern = exports.convertToNegativePattern = exports.convertToPositivePattern = exports.isDynamicPattern = exports.isStaticPattern = void 0;\nconst path = require(\"path\");\nconst globParent = require(\"glob-parent\");\nconst micromatch = require(\"micromatch\");\nconst GLOBSTAR = '**';\nconst ESCAPE_SYMBOL = '\\\\';\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[[^[]*]/;\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/;\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\([^(]*\\)/;\nconst BRACE_EXPANSION_SEPARATORS_RE = /,|\\.\\./;\n/**\n * Matches a sequence of two or more consecutive slashes, excluding the first two slashes at the beginning of the string.\n * The latter is due to the presence of the device path at the beginning of the UNC path.\n */\nconst DOUBLE_SLASH_RE = /(?!^)\\/{2,}/g;\nfunction isStaticPattern(pattern, options = {}) {\n    return !isDynamicPattern(pattern, options);\n}\nexports.isStaticPattern = isStaticPattern;\nfunction isDynamicPattern(pattern, options = {}) {\n    /**\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\n     * An empty string cannot be a dynamic pattern.\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\n     */\n    if (pattern === '') {\n        return false;\n    }\n    /**\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\n     * filepath directly (without read directory).\n     */\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\n        return true;\n    }\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\n        return true;\n    }\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\n        return true;\n    }\n    if (options.braceExpansion !== false && hasBraceExpansion(pattern)) {\n        return true;\n    }\n    return false;\n}\nexports.isDynamicPattern = isDynamicPattern;\nfunction hasBraceExpansion(pattern) {\n    const openingBraceIndex = pattern.indexOf('{');\n    if (openingBraceIndex === -1) {\n        return false;\n    }\n    const closingBraceIndex = pattern.indexOf('}', openingBraceIndex + 1);\n    if (closingBraceIndex === -1) {\n        return false;\n    }\n    const braceContent = pattern.slice(openingBraceIndex, closingBraceIndex);\n    return BRACE_EXPANSION_SEPARATORS_RE.test(braceContent);\n}\nfunction convertToPositivePattern(pattern) {\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\n}\nexports.convertToPositivePattern = convertToPositivePattern;\nfunction convertToNegativePattern(pattern) {\n    return '!' + pattern;\n}\nexports.convertToNegativePattern = convertToNegativePattern;\nfunction isNegativePattern(pattern) {\n    return pattern.startsWith('!') && pattern[1] !== '(';\n}\nexports.isNegativePattern = isNegativePattern;\nfunction isPositivePattern(pattern) {\n    return !isNegativePattern(pattern);\n}\nexports.isPositivePattern = isPositivePattern;\nfunction getNegativePatterns(patterns) {\n    return patterns.filter(isNegativePattern);\n}\nexports.getNegativePatterns = getNegativePatterns;\nfunction getPositivePatterns(patterns) {\n    return patterns.filter(isPositivePattern);\n}\nexports.getPositivePatterns = getPositivePatterns;\n/**\n * Returns patterns that can be applied inside the current directory.\n *\n * @example\n * // ['./*', '*', 'a/*']\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\n */\nfunction getPatternsInsideCurrentDirectory(patterns) {\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\n}\nexports.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\n/**\n * Returns patterns to be expanded relative to (outside) the current directory.\n *\n * @example\n * // ['../*', './../*']\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\n */\nfunction getPatternsOutsideCurrentDirectory(patterns) {\n    return patterns.filter(isPatternRelatedToParentDirectory);\n}\nexports.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\nfunction isPatternRelatedToParentDirectory(pattern) {\n    return pattern.startsWith('..') || pattern.startsWith('./..');\n}\nexports.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\nfunction getBaseDirectory(pattern) {\n    return globParent(pattern, { flipBackslashes: false });\n}\nexports.getBaseDirectory = getBaseDirectory;\nfunction hasGlobStar(pattern) {\n    return pattern.includes(GLOBSTAR);\n}\nexports.hasGlobStar = hasGlobStar;\nfunction endsWithSlashGlobStar(pattern) {\n    return pattern.endsWith('/' + GLOBSTAR);\n}\nexports.endsWithSlashGlobStar = endsWithSlashGlobStar;\nfunction isAffectDepthOfReadingPattern(pattern) {\n    const basename = path.basename(pattern);\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\n}\nexports.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\nfunction expandPatternsWithBraceExpansion(patterns) {\n    return patterns.reduce((collection, pattern) => {\n        return collection.concat(expandBraceExpansion(pattern));\n    }, []);\n}\nexports.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\nfunction expandBraceExpansion(pattern) {\n    const patterns = micromatch.braces(pattern, { expand: true, nodupes: true, keepEscaping: true });\n    /**\n     * Sort the patterns by length so that the same depth patterns are processed side by side.\n     * `a/{b,}/{c,}/*` \u2013 `['a///*', 'a/b//*', 'a//c/*', 'a/b/c/*']`\n     */\n    patterns.sort((a, b) => a.length - b.length);\n    /**\n     * Micromatch can return an empty string in the case of patterns like `{a,}`.\n     */\n    return patterns.filter((pattern) => pattern !== '');\n}\nexports.expandBraceExpansion = expandBraceExpansion;\nfunction getPatternParts(pattern, options) {\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\n    /**\n     * The scan method returns an empty array in some cases.\n     * See micromatch/picomatch#58 for more details.\n     */\n    if (parts.length === 0) {\n        parts = [pattern];\n    }\n    /**\n     * The scan method does not return an empty part for the pattern with a forward slash.\n     * This is another part of micromatch/picomatch#58.\n     */\n    if (parts[0].startsWith('/')) {\n        parts[0] = parts[0].slice(1);\n        parts.unshift('');\n    }\n    return parts;\n}\nexports.getPatternParts = getPatternParts;\nfunction makeRe(pattern, options) {\n    return micromatch.makeRe(pattern, options);\n}\nexports.makeRe = makeRe;\nfunction convertPatternsToRe(patterns, options) {\n    return patterns.map((pattern) => makeRe(pattern, options));\n}\nexports.convertPatternsToRe = convertPatternsToRe;\nfunction matchAny(entry, patternsRe) {\n    return patternsRe.some((patternRe) => patternRe.test(entry));\n}\nexports.matchAny = matchAny;\n/**\n * This package only works with forward slashes as a path separator.\n * Because of this, we cannot use the standard `path.normalize` method, because on Windows platform it will use of backslashes.\n */\nfunction removeDuplicateSlashes(pattern) {\n    return pattern.replace(DOUBLE_SLASH_RE, '/');\n}\nexports.removeDuplicateSlashes = removeDuplicateSlashes;\nfunction partitionAbsoluteAndRelative(patterns) {\n    const absolute = [];\n    const relative = [];\n    for (const pattern of patterns) {\n        if (isAbsolute(pattern)) {\n            absolute.push(pattern);\n        }\n        else {\n            relative.push(pattern);\n        }\n    }\n    return [absolute, relative];\n}\nexports.partitionAbsoluteAndRelative = partitionAbsoluteAndRelative;\nfunction isAbsolute(pattern) {\n    return path.isAbsolute(pattern);\n}\nexports.isAbsolute = isAbsolute;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge = void 0;\nconst merge2 = require(\"merge2\");\nfunction merge(streams) {\n    const mergedStream = merge2(streams);\n    streams.forEach((stream) => {\n        stream.once('error', (error) => mergedStream.emit('error', error));\n    });\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\n    return mergedStream;\n}\nexports.merge = merge;\nfunction propagateCloseEventToSources(streams) {\n    streams.forEach((stream) => stream.emit('close'));\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmpty = exports.isString = void 0;\nfunction isString(input) {\n    return typeof input === 'string';\n}\nexports.isString = isString;\nfunction isEmpty(input) {\n    return input === '';\n}\nexports.isEmpty = isEmpty;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.stream = exports.pattern = exports.path = exports.fs = exports.errno = exports.array = void 0;\nconst array = require(\"./array\");\nexports.array = array;\nconst errno = require(\"./errno\");\nexports.errno = errno;\nconst fs = require(\"./fs\");\nexports.fs = fs;\nconst path = require(\"./path\");\nexports.path = path;\nconst pattern = require(\"./pattern\");\nexports.pattern = pattern;\nconst stream = require(\"./stream\");\nexports.stream = stream;\nconst string = require(\"./string\");\nexports.string = string;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\nconst utils = require(\"../utils\");\nfunction generate(input, settings) {\n    const patterns = processPatterns(input, settings);\n    const ignore = processPatterns(settings.ignore, settings);\n    const positivePatterns = getPositivePatterns(patterns);\n    const negativePatterns = getNegativePatternsAsPositive(patterns, ignore);\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\n    return staticTasks.concat(dynamicTasks);\n}\nexports.generate = generate;\nfunction processPatterns(input, settings) {\n    let patterns = input;\n    /**\n     * The original pattern like `{,*,**,a/*}` can lead to problems checking the depth when matching entry\n     * and some problems with the micromatch package (see fast-glob issues: #365, #394).\n     *\n     * To solve this problem, we expand all patterns containing brace expansion. This can lead to a slight slowdown\n     * in matching in the case of a large set of patterns after expansion.\n     */\n    if (settings.braceExpansion) {\n        patterns = utils.pattern.expandPatternsWithBraceExpansion(patterns);\n    }\n    /**\n     * If the `baseNameMatch` option is enabled, we must add globstar to patterns, so that they can be used\n     * at any nesting level.\n     *\n     * We do this here, because otherwise we have to complicate the filtering logic. For example, we need to change\n     * the pattern in the filter before creating a regular expression. There is no need to change the patterns\n     * in the application. Only on the input.\n     */\n    if (settings.baseNameMatch) {\n        patterns = patterns.map((pattern) => pattern.includes('/') ? pattern : `**/${pattern}`);\n    }\n    /**\n     * This method also removes duplicate slashes that may have been in the pattern or formed as a result of expansion.\n     */\n    return patterns.map((pattern) => utils.pattern.removeDuplicateSlashes(pattern));\n}\n/**\n * Returns tasks grouped by basic pattern directories.\n *\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\n * This is necessary because directory traversal starts at the base directory and goes deeper.\n */\nfunction convertPatternsToTasks(positive, negative, dynamic) {\n    const tasks = [];\n    const patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\n    const patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\n    /*\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\n     */\n    if ('.' in insideCurrentDirectoryGroup) {\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\n    }\n    else {\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\n    }\n    return tasks;\n}\nexports.convertPatternsToTasks = convertPatternsToTasks;\nfunction getPositivePatterns(patterns) {\n    return utils.pattern.getPositivePatterns(patterns);\n}\nexports.getPositivePatterns = getPositivePatterns;\nfunction getNegativePatternsAsPositive(patterns, ignore) {\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\n    return positive;\n}\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\nfunction groupPatternsByBaseDirectory(patterns) {\n    const group = {};\n    return patterns.reduce((collection, pattern) => {\n        const base = utils.pattern.getBaseDirectory(pattern);\n        if (base in collection) {\n            collection[base].push(pattern);\n        }\n        else {\n            collection[base] = [pattern];\n        }\n        return collection;\n    }, group);\n}\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\n    return Object.keys(positive).map((base) => {\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\n    });\n}\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\n    return {\n        dynamic,\n        positive,\n        negative,\n        base,\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\n    };\n}\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings, callback) {\n    settings.fs.lstat(path, (lstatError, lstat) => {\n        if (lstatError !== null) {\n            callFailureCallback(callback, lstatError);\n            return;\n        }\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n            callSuccessCallback(callback, lstat);\n            return;\n        }\n        settings.fs.stat(path, (statError, stat) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    callFailureCallback(callback, statError);\n                    return;\n                }\n                callSuccessCallback(callback, lstat);\n                return;\n            }\n            if (settings.markSymbolicLink) {\n                stat.isSymbolicLink = () => true;\n            }\n            callSuccessCallback(callback, stat);\n        });\n    });\n}\nexports.read = read;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings) {\n    const lstat = settings.fs.lstatSync(path);\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n        return lstat;\n    }\n    try {\n        const stat = settings.fs.statSync(path);\n        if (settings.markSymbolicLink) {\n            stat.isSymbolicLink = () => true;\n        }\n        return stat;\n    }\n    catch (error) {\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\n            return lstat;\n        }\n        throw error;\n    }\n}\nexports.read = read;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statSync = exports.stat = exports.Settings = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction stat(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.stat = stat;\nfunction statSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.statSync = statSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n", "/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallel\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallel (tasks, cb) {\n  let results, pending, keys\n  let isSync = true\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (--pending === 0 || err) {\n      done(err)\n    }\n  }\n\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.forEach(function (key) {\n      tasks[key](function (err, result) { each(key, err, result) })\n    })\n  } else {\n    // array\n    tasks.forEach(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n    })\n  }\n\n  isSync = false\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\nif (NODE_PROCESS_VERSION_PARTS[0] === undefined || NODE_PROCESS_VERSION_PARTS[1] === undefined) {\n    throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);\n}\nconst MAJOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\nconst MINOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\nconst SUPPORTED_MAJOR_VERSION = 10;\nconst SUPPORTED_MINOR_VERSION = 10;\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\n/**\n * IS `true` for Node.js 10.10 and greater.\n */\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDirentFromStats = void 0;\nclass DirentFromStats {\n    constructor(name, stats) {\n        this.name = name;\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\n        this.isDirectory = stats.isDirectory.bind(stats);\n        this.isFIFO = stats.isFIFO.bind(stats);\n        this.isFile = stats.isFile.bind(stats);\n        this.isSocket = stats.isSocket.bind(stats);\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\n    }\n}\nfunction createDirentFromStats(name, stats) {\n    return new DirentFromStats(name, stats);\n}\nexports.createDirentFromStats = createDirentFromStats;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fs = void 0;\nconst fs = require(\"./fs\");\nexports.fs = fs;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = void 0;\nfunction joinPathSegments(a, b, separator) {\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst rpl = require(\"run-parallel\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings, callback) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        readdirWithFileTypes(directory, settings, callback);\n        return;\n    }\n    readdir(directory, settings, callback);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings, callback) {\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const entries = dirents.map((dirent) => ({\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        }));\n        if (!settings.followSymbolicLinks) {\n            callSuccessCallback(callback, entries);\n            return;\n        }\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\n        rpl(tasks, (rplError, rplEntries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, rplEntries);\n        });\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction makeRplTaskEntry(entry, settings) {\n    return (done) => {\n        if (!entry.dirent.isSymbolicLink()) {\n            done(null, entry);\n            return;\n        }\n        settings.fs.stat(entry.path, (statError, stats) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    done(statError);\n                    return;\n                }\n                done(null, entry);\n                return;\n            }\n            entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            done(null, entry);\n        });\n    };\n}\nfunction readdir(directory, settings, callback) {\n    settings.fs.readdir(directory, (readdirError, names) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const tasks = names.map((name) => {\n            const path = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n            return (done) => {\n                fsStat.stat(path, settings.fsStatSettings, (error, stats) => {\n                    if (error !== null) {\n                        done(error);\n                        return;\n                    }\n                    const entry = {\n                        name,\n                        path,\n                        dirent: utils.fs.createDirentFromStats(name, stats)\n                    };\n                    if (settings.stats) {\n                        entry.stats = stats;\n                    }\n                    done(null, entry);\n                });\n            };\n        });\n        rpl(tasks, (rplError, entries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, entries);\n        });\n    });\n}\nexports.readdir = readdir;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        return readdirWithFileTypes(directory, settings);\n    }\n    return readdir(directory, settings);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings) {\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\n    return dirents.map((dirent) => {\n        const entry = {\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        };\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\n            try {\n                const stats = settings.fs.statSync(entry.path);\n                entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            }\n            catch (error) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    throw error;\n                }\n            }\n        }\n        return entry;\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction readdir(directory, settings) {\n    const names = settings.fs.readdirSync(directory);\n    return names.map((name) => {\n        const entryPath = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n        const stats = fsStat.statSync(entryPath, settings.fsStatSettings);\n        const entry = {\n            name,\n            path: entryPath,\n            dirent: utils.fs.createDirentFromStats(name, stats)\n        };\n        if (settings.stats) {\n            entry.stats = stats;\n        }\n        return entry;\n    });\n}\nexports.readdir = readdir;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync,\n    readdir: fs.readdir,\n    readdirSync: fs.readdirSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.stats = this._getValue(this._options.stats, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n        this.fsStatSettings = new fsStat.Settings({\n            followSymbolicLink: this.followSymbolicLinks,\n            fs: this.fs,\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.scandirSync = exports.scandir = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.scandir = scandir;\nfunction scandirSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.scandirSync = scandirSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "'use strict'\n\nfunction reusify (Constructor) {\n  var head = new Constructor()\n  var tail = head\n\n  function get () {\n    var current = head\n\n    if (current.next) {\n      head = current.next\n    } else {\n      head = new Constructor()\n      tail = head\n    }\n\n    current.next = null\n\n    return current\n  }\n\n  function release (obj) {\n    tail.next = obj\n    tail = obj\n  }\n\n  return {\n    get: get,\n    release: release\n  }\n}\n\nmodule.exports = reusify\n", "'use strict'\n\n/* eslint-disable no-var */\n\nvar reusify = require('reusify')\n\nfunction fastqueue (context, worker, _concurrency) {\n  if (typeof context === 'function') {\n    _concurrency = worker\n    worker = context\n    context = null\n  }\n\n  if (!(_concurrency >= 1)) {\n    throw new Error('fastqueue concurrency must be equal to or greater than 1')\n  }\n\n  var cache = reusify(Task)\n  var queueHead = null\n  var queueTail = null\n  var _running = 0\n  var errorHandler = null\n\n  var self = {\n    push: push,\n    drain: noop,\n    saturated: noop,\n    pause: pause,\n    paused: false,\n\n    get concurrency () {\n      return _concurrency\n    },\n    set concurrency (value) {\n      if (!(value >= 1)) {\n        throw new Error('fastqueue concurrency must be equal to or greater than 1')\n      }\n      _concurrency = value\n\n      if (self.paused) return\n      for (; queueHead && _running < _concurrency;) {\n        _running++\n        release()\n      }\n    },\n\n    running: running,\n    resume: resume,\n    idle: idle,\n    length: length,\n    getQueue: getQueue,\n    unshift: unshift,\n    empty: noop,\n    kill: kill,\n    killAndDrain: killAndDrain,\n    error: error\n  }\n\n  return self\n\n  function running () {\n    return _running\n  }\n\n  function pause () {\n    self.paused = true\n  }\n\n  function length () {\n    var current = queueHead\n    var counter = 0\n\n    while (current) {\n      current = current.next\n      counter++\n    }\n\n    return counter\n  }\n\n  function getQueue () {\n    var current = queueHead\n    var tasks = []\n\n    while (current) {\n      tasks.push(current.value)\n      current = current.next\n    }\n\n    return tasks\n  }\n\n  function resume () {\n    if (!self.paused) return\n    self.paused = false\n    if (queueHead === null) {\n      _running++\n      release()\n      return\n    }\n    for (; queueHead && _running < _concurrency;) {\n      _running++\n      release()\n    }\n  }\n\n  function idle () {\n    return _running === 0 && self.length() === 0\n  }\n\n  function push (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n    current.errorHandler = errorHandler\n\n    if (_running >= _concurrency || self.paused) {\n      if (queueTail) {\n        queueTail.next = current\n        queueTail = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function unshift (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n    current.errorHandler = errorHandler\n\n    if (_running >= _concurrency || self.paused) {\n      if (queueHead) {\n        current.next = queueHead\n        queueHead = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function release (holder) {\n    if (holder) {\n      cache.release(holder)\n    }\n    var next = queueHead\n    if (next && _running <= _concurrency) {\n      if (!self.paused) {\n        if (queueTail === queueHead) {\n          queueTail = null\n        }\n        queueHead = next.next\n        next.next = null\n        worker.call(context, next.value, next.worked)\n        if (queueTail === null) {\n          self.empty()\n        }\n      } else {\n        _running--\n      }\n    } else if (--_running === 0) {\n      self.drain()\n    }\n  }\n\n  function kill () {\n    queueHead = null\n    queueTail = null\n    self.drain = noop\n  }\n\n  function killAndDrain () {\n    queueHead = null\n    queueTail = null\n    self.drain()\n    self.drain = noop\n  }\n\n  function error (handler) {\n    errorHandler = handler\n  }\n}\n\nfunction noop () {}\n\nfunction Task () {\n  this.value = null\n  this.callback = noop\n  this.next = null\n  this.release = noop\n  this.context = null\n  this.errorHandler = null\n\n  var self = this\n\n  this.worked = function worked (err, result) {\n    var callback = self.callback\n    var errorHandler = self.errorHandler\n    var val = self.value\n    self.value = null\n    self.callback = noop\n    if (self.errorHandler) {\n      errorHandler(err, val)\n    }\n    callback.call(self.context, err, result)\n    self.release(self)\n  }\n}\n\nfunction queueAsPromised (context, worker, _concurrency) {\n  if (typeof context === 'function') {\n    _concurrency = worker\n    worker = context\n    context = null\n  }\n\n  function asyncWrapper (arg, cb) {\n    worker.call(this, arg)\n      .then(function (res) {\n        cb(null, res)\n      }, cb)\n  }\n\n  var queue = fastqueue(context, asyncWrapper, _concurrency)\n\n  var pushCb = queue.push\n  var unshiftCb = queue.unshift\n\n  queue.push = push\n  queue.unshift = unshift\n  queue.drained = drained\n\n  return queue\n\n  function push (value) {\n    var p = new Promise(function (resolve, reject) {\n      pushCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function unshift (value) {\n    var p = new Promise(function (resolve, reject) {\n      unshiftCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function drained () {\n    var p = new Promise(function (resolve) {\n      process.nextTick(function () {\n        if (queue.idle()) {\n          resolve()\n        } else {\n          var previousDrain = queue.drain\n          queue.drain = function () {\n            if (typeof previousDrain === 'function') previousDrain()\n            resolve()\n            queue.drain = previousDrain\n          }\n        }\n      })\n    })\n\n    return p\n  }\n}\n\nmodule.exports = fastqueue\nmodule.exports.promise = queueAsPromised\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = exports.replacePathSegmentSeparator = exports.isAppliedFilter = exports.isFatalError = void 0;\nfunction isFatalError(settings, error) {\n    if (settings.errorFilter === null) {\n        return true;\n    }\n    return !settings.errorFilter(error);\n}\nexports.isFatalError = isFatalError;\nfunction isAppliedFilter(filter, value) {\n    return filter === null || filter(value);\n}\nexports.isAppliedFilter = isAppliedFilter;\nfunction replacePathSegmentSeparator(filepath, separator) {\n    return filepath.split(/[/\\\\]/).join(separator);\n}\nexports.replacePathSegmentSeparator = replacePathSegmentSeparator;\nfunction joinPathSegments(a, b, separator) {\n    if (a === '') {\n        return b;\n    }\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common = require(\"./common\");\nclass Reader {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._root = common.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\n    }\n}\nexports.default = Reader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst fastq = require(\"fastq\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass AsyncReader extends reader_1.default {\n    constructor(_root, _settings) {\n        super(_root, _settings);\n        this._settings = _settings;\n        this._scandir = fsScandir.scandir;\n        this._emitter = new events_1.EventEmitter();\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        this._queue.drain = () => {\n            if (!this._isFatalError) {\n                this._emitter.emit('end');\n            }\n        };\n    }\n    read() {\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        setImmediate(() => {\n            this._pushToQueue(this._root, this._settings.basePath);\n        });\n        return this._emitter;\n    }\n    get isDestroyed() {\n        return this._isDestroyed;\n    }\n    destroy() {\n        if (this._isDestroyed) {\n            throw new Error('The reader is already destroyed');\n        }\n        this._isDestroyed = true;\n        this._queue.killAndDrain();\n    }\n    onEntry(callback) {\n        this._emitter.on('entry', callback);\n    }\n    onError(callback) {\n        this._emitter.once('error', callback);\n    }\n    onEnd(callback) {\n        this._emitter.once('end', callback);\n    }\n    _pushToQueue(directory, base) {\n        const queueItem = { directory, base };\n        this._queue.push(queueItem, (error) => {\n            if (error !== null) {\n                this._handleError(error);\n            }\n        });\n    }\n    _worker(item, done) {\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\n            if (error !== null) {\n                done(error, undefined);\n                return;\n            }\n            for (const entry of entries) {\n                this._handleEntry(entry, item.base);\n            }\n            done(null, undefined);\n        });\n    }\n    _handleError(error) {\n        if (this._isDestroyed || !common.isFatalError(this._settings, error)) {\n            return;\n        }\n        this._isFatalError = true;\n        this._isDestroyed = true;\n        this._emitter.emit('error', error);\n    }\n    _handleEntry(entry, base) {\n        if (this._isDestroyed || this._isFatalError) {\n            return;\n        }\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._emitEntry(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _emitEntry(entry) {\n        this._emitter.emit('entry', entry);\n    }\n}\nexports.default = AsyncReader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst async_1 = require(\"../readers/async\");\nclass AsyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._storage = [];\n    }\n    read(callback) {\n        this._reader.onError((error) => {\n            callFailureCallback(callback, error);\n        });\n        this._reader.onEntry((entry) => {\n            this._storage.push(entry);\n        });\n        this._reader.onEnd(() => {\n            callSuccessCallback(callback, this._storage);\n        });\n        this._reader.read();\n    }\n}\nexports.default = AsyncProvider;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, entries) {\n    callback(null, entries);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst async_1 = require(\"../readers/async\");\nclass StreamProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._stream = new stream_1.Readable({\n            objectMode: true,\n            read: () => { },\n            destroy: () => {\n                if (!this._reader.isDestroyed) {\n                    this._reader.destroy();\n                }\n            }\n        });\n    }\n    read() {\n        this._reader.onError((error) => {\n            this._stream.emit('error', error);\n        });\n        this._reader.onEntry((entry) => {\n            this._stream.push(entry);\n        });\n        this._reader.onEnd(() => {\n            this._stream.push(null);\n        });\n        this._reader.read();\n        return this._stream;\n    }\n}\nexports.default = StreamProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass SyncReader extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._scandir = fsScandir.scandirSync;\n        this._storage = [];\n        this._queue = new Set();\n    }\n    read() {\n        this._pushToQueue(this._root, this._settings.basePath);\n        this._handleQueue();\n        return this._storage;\n    }\n    _pushToQueue(directory, base) {\n        this._queue.add({ directory, base });\n    }\n    _handleQueue() {\n        for (const item of this._queue.values()) {\n            this._handleDirectory(item.directory, item.base);\n        }\n    }\n    _handleDirectory(directory, base) {\n        try {\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\n            for (const entry of entries) {\n                this._handleEntry(entry, base);\n            }\n        }\n        catch (error) {\n            this._handleError(error);\n        }\n    }\n    _handleError(error) {\n        if (!common.isFatalError(this._settings, error)) {\n            return;\n        }\n        throw error;\n    }\n    _handleEntry(entry, base) {\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._pushToStorage(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _pushToStorage(entry) {\n        this._storage.push(entry);\n    }\n}\nexports.default = SyncReader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sync_1 = require(\"../readers/sync\");\nclass SyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new sync_1.default(this._root, this._settings);\n    }\n    read() {\n        return this._reader.read();\n    }\n}\nexports.default = SyncProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.basePath = this._getValue(this._options.basePath, undefined);\n        this.concurrency = this._getValue(this._options.concurrency, Number.POSITIVE_INFINITY);\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.fsScandirSettings = new fsScandir.Settings({\n            followSymbolicLinks: this._options.followSymbolicLinks,\n            fs: this._options.fs,\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\n            stats: this._options.stats,\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.walkStream = exports.walkSync = exports.walk = void 0;\nconst async_1 = require(\"./providers/async\");\nconst stream_1 = require(\"./providers/stream\");\nconst sync_1 = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction walk(directory, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        new async_1.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\n        return;\n    }\n    new async_1.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\n}\nexports.walk = walk;\nfunction walkSync(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new sync_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkSync = walkSync;\nfunction walkStream(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new stream_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkStream = walkStream;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst utils = require(\"../utils\");\nclass Reader {\n    constructor(_settings) {\n        this._settings = _settings;\n        this._fsStatSettings = new fsStat.Settings({\n            followSymbolicLink: this._settings.followSymbolicLinks,\n            fs: this._settings.fs,\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\n        });\n    }\n    _getFullEntryPath(filepath) {\n        return path.resolve(this._settings.cwd, filepath);\n    }\n    _makeEntry(stats, pattern) {\n        const entry = {\n            name: pattern,\n            path: pattern,\n            dirent: utils.fs.createDirentFromStats(pattern, stats)\n        };\n        if (this._settings.stats) {\n            entry.stats = stats;\n        }\n        return entry;\n    }\n    _isFatalError(error) {\n        return !utils.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\n    }\n}\nexports.default = Reader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nclass ReaderStream extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkStream = fsWalk.walkStream;\n        this._stat = fsStat.stat;\n    }\n    dynamic(root, options) {\n        return this._walkStream(root, options);\n    }\n    static(patterns, options) {\n        const filepaths = patterns.map(this._getFullEntryPath, this);\n        const stream = new stream_1.PassThrough({ objectMode: true });\n        stream._write = (index, _enc, done) => {\n            return this._getEntry(filepaths[index], patterns[index], options)\n                .then((entry) => {\n                if (entry !== null && options.entryFilter(entry)) {\n                    stream.push(entry);\n                }\n                if (index === filepaths.length - 1) {\n                    stream.end();\n                }\n                done();\n            })\n                .catch(done);\n        };\n        for (let i = 0; i < filepaths.length; i++) {\n            stream.write(i);\n        }\n        return stream;\n    }\n    _getEntry(filepath, pattern, options) {\n        return this._getStat(filepath)\n            .then((stats) => this._makeEntry(stats, pattern))\n            .catch((error) => {\n            if (options.errorFilter(error)) {\n                return null;\n            }\n            throw error;\n        });\n    }\n    _getStat(filepath) {\n        return new Promise((resolve, reject) => {\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\n                return error === null ? resolve(stats) : reject(error);\n            });\n        });\n    }\n}\nexports.default = ReaderStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nconst stream_1 = require(\"./stream\");\nclass ReaderAsync extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkAsync = fsWalk.walk;\n        this._readerStream = new stream_1.default(this._settings);\n    }\n    dynamic(root, options) {\n        return new Promise((resolve, reject) => {\n            this._walkAsync(root, options, (error, entries) => {\n                if (error === null) {\n                    resolve(entries);\n                }\n                else {\n                    reject(error);\n                }\n            });\n        });\n    }\n    async static(patterns, options) {\n        const entries = [];\n        const stream = this._readerStream.static(patterns, options);\n        // After #235, replace it with an asynchronous iterator.\n        return new Promise((resolve, reject) => {\n            stream.once('error', reject);\n            stream.on('data', (entry) => entries.push(entry));\n            stream.once('end', () => resolve(entries));\n        });\n    }\n}\nexports.default = ReaderAsync;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass Matcher {\n    constructor(_patterns, _settings, _micromatchOptions) {\n        this._patterns = _patterns;\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n        this._storage = [];\n        this._fillStorage();\n    }\n    _fillStorage() {\n        for (const pattern of this._patterns) {\n            const segments = this._getPatternSegments(pattern);\n            const sections = this._splitSegmentsIntoSections(segments);\n            this._storage.push({\n                complete: sections.length <= 1,\n                pattern,\n                segments,\n                sections\n            });\n        }\n    }\n    _getPatternSegments(pattern) {\n        const parts = utils.pattern.getPatternParts(pattern, this._micromatchOptions);\n        return parts.map((part) => {\n            const dynamic = utils.pattern.isDynamicPattern(part, this._settings);\n            if (!dynamic) {\n                return {\n                    dynamic: false,\n                    pattern: part\n                };\n            }\n            return {\n                dynamic: true,\n                pattern: part,\n                patternRe: utils.pattern.makeRe(part, this._micromatchOptions)\n            };\n        });\n    }\n    _splitSegmentsIntoSections(segments) {\n        return utils.array.splitWhen(segments, (segment) => segment.dynamic && utils.pattern.hasGlobStar(segment.pattern));\n    }\n}\nexports.default = Matcher;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst matcher_1 = require(\"./matcher\");\nclass PartialMatcher extends matcher_1.default {\n    match(filepath) {\n        const parts = filepath.split('/');\n        const levels = parts.length;\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\n        for (const pattern of patterns) {\n            const section = pattern.sections[0];\n            /**\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\n             * but only if the level has reached the end of the first group.\n             *\n             * fixtures/{a,b}/**\n             *  ^ true/false  ^ always true\n            */\n            if (!pattern.complete && levels > section.length) {\n                return true;\n            }\n            const match = parts.every((part, index) => {\n                const segment = pattern.segments[index];\n                if (segment.dynamic && segment.patternRe.test(part)) {\n                    return true;\n                }\n                if (!segment.dynamic && segment.pattern === part) {\n                    return true;\n                }\n                return false;\n            });\n            if (match) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexports.default = PartialMatcher;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nconst partial_1 = require(\"../matchers/partial\");\nclass DeepFilter {\n    constructor(_settings, _micromatchOptions) {\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n    }\n    getFilter(basePath, positive, negative) {\n        const matcher = this._getMatcher(positive);\n        const negativeRe = this._getNegativePatternsRe(negative);\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\n    }\n    _getMatcher(patterns) {\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\n    }\n    _getNegativePatternsRe(patterns) {\n        const affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\n        return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\n    }\n    _filter(basePath, entry, matcher, negativeRe) {\n        if (this._isSkippedByDeep(basePath, entry.path)) {\n            return false;\n        }\n        if (this._isSkippedSymbolicLink(entry)) {\n            return false;\n        }\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\n            return false;\n        }\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\n    }\n    _isSkippedByDeep(basePath, entryPath) {\n        /**\n         * Avoid unnecessary depth calculations when it doesn't matter.\n         */\n        if (this._settings.deep === Infinity) {\n            return false;\n        }\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\n    }\n    _getEntryLevel(basePath, entryPath) {\n        const entryPathDepth = entryPath.split('/').length;\n        if (basePath === '') {\n            return entryPathDepth;\n        }\n        const basePathDepth = basePath.split('/').length;\n        return entryPathDepth - basePathDepth;\n    }\n    _isSkippedSymbolicLink(entry) {\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\n    }\n    _isSkippedByPositivePatterns(entryPath, matcher) {\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\n    }\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\n        return !utils.pattern.matchAny(entryPath, patternsRe);\n    }\n}\nexports.default = DeepFilter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass EntryFilter {\n    constructor(_settings, _micromatchOptions) {\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n        this.index = new Map();\n    }\n    getFilter(positive, negative) {\n        const [absoluteNegative, relativeNegative] = utils.pattern.partitionAbsoluteAndRelative(negative);\n        const patterns = {\n            positive: {\n                all: utils.pattern.convertPatternsToRe(positive, this._micromatchOptions)\n            },\n            negative: {\n                absolute: utils.pattern.convertPatternsToRe(absoluteNegative, Object.assign(Object.assign({}, this._micromatchOptions), { dot: true })),\n                relative: utils.pattern.convertPatternsToRe(relativeNegative, Object.assign(Object.assign({}, this._micromatchOptions), { dot: true }))\n            }\n        };\n        return (entry) => this._filter(entry, patterns);\n    }\n    _filter(entry, patterns) {\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\n        if (this._settings.unique && this._isDuplicateEntry(filepath)) {\n            return false;\n        }\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\n            return false;\n        }\n        const isMatched = this._isMatchToPatternsSet(filepath, patterns, entry.dirent.isDirectory());\n        if (this._settings.unique && isMatched) {\n            this._createIndexRecord(filepath);\n        }\n        return isMatched;\n    }\n    _isDuplicateEntry(filepath) {\n        return this.index.has(filepath);\n    }\n    _createIndexRecord(filepath) {\n        this.index.set(filepath, undefined);\n    }\n    _onlyFileFilter(entry) {\n        return this._settings.onlyFiles && !entry.dirent.isFile();\n    }\n    _onlyDirectoryFilter(entry) {\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\n    }\n    _isMatchToPatternsSet(filepath, patterns, isDirectory) {\n        const isMatched = this._isMatchToPatterns(filepath, patterns.positive.all, isDirectory);\n        if (!isMatched) {\n            return false;\n        }\n        const isMatchedByRelativeNegative = this._isMatchToPatterns(filepath, patterns.negative.relative, isDirectory);\n        if (isMatchedByRelativeNegative) {\n            return false;\n        }\n        const isMatchedByAbsoluteNegative = this._isMatchToAbsoluteNegative(filepath, patterns.negative.absolute, isDirectory);\n        if (isMatchedByAbsoluteNegative) {\n            return false;\n        }\n        return true;\n    }\n    _isMatchToAbsoluteNegative(filepath, patternsRe, isDirectory) {\n        if (patternsRe.length === 0) {\n            return false;\n        }\n        const fullpath = utils.path.makeAbsolute(this._settings.cwd, filepath);\n        return this._isMatchToPatterns(fullpath, patternsRe, isDirectory);\n    }\n    _isMatchToPatterns(filepath, patternsRe, isDirectory) {\n        if (patternsRe.length === 0) {\n            return false;\n        }\n        // Trying to match files and directories by patterns.\n        const isMatched = utils.pattern.matchAny(filepath, patternsRe);\n        // A pattern with a trailling slash can be used for directory matching.\n        // To apply such pattern, we need to add a tralling slash to the path.\n        if (!isMatched && isDirectory) {\n            return utils.pattern.matchAny(filepath + '/', patternsRe);\n        }\n        return isMatched;\n    }\n}\nexports.default = EntryFilter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass ErrorFilter {\n    constructor(_settings) {\n        this._settings = _settings;\n    }\n    getFilter() {\n        return (error) => this._isNonFatalError(error);\n    }\n    _isNonFatalError(error) {\n        return utils.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\n    }\n}\nexports.default = ErrorFilter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass EntryTransformer {\n    constructor(_settings) {\n        this._settings = _settings;\n    }\n    getTransformer() {\n        return (entry) => this._transform(entry);\n    }\n    _transform(entry) {\n        let filepath = entry.path;\n        if (this._settings.absolute) {\n            filepath = utils.path.makeAbsolute(this._settings.cwd, filepath);\n            filepath = utils.path.unixify(filepath);\n        }\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\n            filepath += '/';\n        }\n        if (!this._settings.objectMode) {\n            return filepath;\n        }\n        return Object.assign(Object.assign({}, entry), { path: filepath });\n    }\n}\nexports.default = EntryTransformer;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst deep_1 = require(\"./filters/deep\");\nconst entry_1 = require(\"./filters/entry\");\nconst error_1 = require(\"./filters/error\");\nconst entry_2 = require(\"./transformers/entry\");\nclass Provider {\n    constructor(_settings) {\n        this._settings = _settings;\n        this.errorFilter = new error_1.default(this._settings);\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\n        this.entryTransformer = new entry_2.default(this._settings);\n    }\n    _getRootDirectory(task) {\n        return path.resolve(this._settings.cwd, task.base);\n    }\n    _getReaderOptions(task) {\n        const basePath = task.base === '.' ? '' : task.base;\n        return {\n            basePath,\n            pathSegmentSeparator: '/',\n            concurrency: this._settings.concurrency,\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\n            errorFilter: this.errorFilter.getFilter(),\n            followSymbolicLinks: this._settings.followSymbolicLinks,\n            fs: this._settings.fs,\n            stats: this._settings.stats,\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\n            transform: this.entryTransformer.getTransformer()\n        };\n    }\n    _getMicromatchOptions() {\n        return {\n            dot: this._settings.dot,\n            matchBase: this._settings.baseNameMatch,\n            nobrace: !this._settings.braceExpansion,\n            nocase: !this._settings.caseSensitiveMatch,\n            noext: !this._settings.extglob,\n            noglobstar: !this._settings.globstar,\n            posix: true,\n            strictSlashes: false\n        };\n    }\n}\nexports.default = Provider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst async_1 = require(\"../readers/async\");\nconst provider_1 = require(\"./provider\");\nclass ProviderAsync extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new async_1.default(this._settings);\n    }\n    async read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const entries = await this.api(root, task, options);\n        return entries.map((entry) => options.transform(entry));\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderAsync;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst stream_2 = require(\"../readers/stream\");\nconst provider_1 = require(\"./provider\");\nclass ProviderStream extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new stream_2.default(this._settings);\n    }\n    read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const source = this.api(root, task, options);\n        const destination = new stream_1.Readable({ objectMode: true, read: () => { } });\n        source\n            .once('error', (error) => destination.emit('error', error))\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\n            .once('end', () => destination.emit('end'));\n        destination\n            .once('close', () => source.destroy());\n        return destination;\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nclass ReaderSync extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkSync = fsWalk.walkSync;\n        this._statSync = fsStat.statSync;\n    }\n    dynamic(root, options) {\n        return this._walkSync(root, options);\n    }\n    static(patterns, options) {\n        const entries = [];\n        for (const pattern of patterns) {\n            const filepath = this._getFullEntryPath(pattern);\n            const entry = this._getEntry(filepath, pattern, options);\n            if (entry === null || !options.entryFilter(entry)) {\n                continue;\n            }\n            entries.push(entry);\n        }\n        return entries;\n    }\n    _getEntry(filepath, pattern, options) {\n        try {\n            const stats = this._getStat(filepath);\n            return this._makeEntry(stats, pattern);\n        }\n        catch (error) {\n            if (options.errorFilter(error)) {\n                return null;\n            }\n            throw error;\n        }\n    }\n    _getStat(filepath) {\n        return this._statSync(filepath, this._fsStatSettings);\n    }\n}\nexports.default = ReaderSync;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sync_1 = require(\"../readers/sync\");\nconst provider_1 = require(\"./provider\");\nclass ProviderSync extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new sync_1.default(this._settings);\n    }\n    read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const entries = this.api(root, task, options);\n        return entries.map(options.transform);\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderSync;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nconst os = require(\"os\");\n/**\n * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\n * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\n */\nconst CPU_COUNT = Math.max(os.cpus().length, 1);\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    lstatSync: fs.lstatSync,\n    stat: fs.stat,\n    statSync: fs.statSync,\n    readdir: fs.readdir,\n    readdirSync: fs.readdirSync\n};\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.absolute = this._getValue(this._options.absolute, false);\n        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\n        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\n        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\n        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\n        this.cwd = this._getValue(this._options.cwd, process.cwd());\n        this.deep = this._getValue(this._options.deep, Infinity);\n        this.dot = this._getValue(this._options.dot, false);\n        this.extglob = this._getValue(this._options.extglob, true);\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\n        this.fs = this._getFileSystemMethods(this._options.fs);\n        this.globstar = this._getValue(this._options.globstar, true);\n        this.ignore = this._getValue(this._options.ignore, []);\n        this.markDirectories = this._getValue(this._options.markDirectories, false);\n        this.objectMode = this._getValue(this._options.objectMode, false);\n        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\n        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\n        this.stats = this._getValue(this._options.stats, false);\n        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\n        this.unique = this._getValue(this._options.unique, true);\n        if (this.onlyDirectories) {\n            this.onlyFiles = false;\n        }\n        if (this.stats) {\n            this.objectMode = true;\n        }\n        // Remove the cast to the array in the next major (#404).\n        this.ignore = [].concat(this.ignore);\n    }\n    _getValue(option, value) {\n        return option === undefined ? value : option;\n    }\n    _getFileSystemMethods(methods = {}) {\n        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nconst taskManager = require(\"./managers/tasks\");\nconst async_1 = require(\"./providers/async\");\nconst stream_1 = require(\"./providers/stream\");\nconst sync_1 = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nconst utils = require(\"./utils\");\nasync function FastGlob(source, options) {\n    assertPatternsInput(source);\n    const works = getWorks(source, async_1.default, options);\n    const result = await Promise.all(works);\n    return utils.array.flatten(result);\n}\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\n// eslint-disable-next-line no-redeclare\n(function (FastGlob) {\n    FastGlob.glob = FastGlob;\n    FastGlob.globSync = sync;\n    FastGlob.globStream = stream;\n    FastGlob.async = FastGlob;\n    function sync(source, options) {\n        assertPatternsInput(source);\n        const works = getWorks(source, sync_1.default, options);\n        return utils.array.flatten(works);\n    }\n    FastGlob.sync = sync;\n    function stream(source, options) {\n        assertPatternsInput(source);\n        const works = getWorks(source, stream_1.default, options);\n        /**\n         * The stream returned by the provider cannot work with an asynchronous iterator.\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\n         * This affects performance (+25%). I don't see best solution right now.\n         */\n        return utils.stream.merge(works);\n    }\n    FastGlob.stream = stream;\n    function generateTasks(source, options) {\n        assertPatternsInput(source);\n        const patterns = [].concat(source);\n        const settings = new settings_1.default(options);\n        return taskManager.generate(patterns, settings);\n    }\n    FastGlob.generateTasks = generateTasks;\n    function isDynamicPattern(source, options) {\n        assertPatternsInput(source);\n        const settings = new settings_1.default(options);\n        return utils.pattern.isDynamicPattern(source, settings);\n    }\n    FastGlob.isDynamicPattern = isDynamicPattern;\n    function escapePath(source) {\n        assertPatternsInput(source);\n        return utils.path.escape(source);\n    }\n    FastGlob.escapePath = escapePath;\n    function convertPathToPattern(source) {\n        assertPatternsInput(source);\n        return utils.path.convertPathToPattern(source);\n    }\n    FastGlob.convertPathToPattern = convertPathToPattern;\n    let posix;\n    (function (posix) {\n        function escapePath(source) {\n            assertPatternsInput(source);\n            return utils.path.escapePosixPath(source);\n        }\n        posix.escapePath = escapePath;\n        function convertPathToPattern(source) {\n            assertPatternsInput(source);\n            return utils.path.convertPosixPathToPattern(source);\n        }\n        posix.convertPathToPattern = convertPathToPattern;\n    })(posix = FastGlob.posix || (FastGlob.posix = {}));\n    let win32;\n    (function (win32) {\n        function escapePath(source) {\n            assertPatternsInput(source);\n            return utils.path.escapeWindowsPath(source);\n        }\n        win32.escapePath = escapePath;\n        function convertPathToPattern(source) {\n            assertPatternsInput(source);\n            return utils.path.convertWindowsPathToPattern(source);\n        }\n        win32.convertPathToPattern = convertPathToPattern;\n    })(win32 = FastGlob.win32 || (FastGlob.win32 = {}));\n})(FastGlob || (FastGlob = {}));\nfunction getWorks(source, _Provider, options) {\n    const patterns = [].concat(source);\n    const settings = new settings_1.default(options);\n    const tasks = taskManager.generate(patterns, settings);\n    const provider = new _Provider(settings);\n    return tasks.map(provider.read, provider);\n}\nfunction assertPatternsInput(input) {\n    const source = [].concat(input);\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\n    if (!isValidSource) {\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\n    }\n}\nmodule.exports = FastGlob;\n", "'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\n\nasync function isType(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\tconst stats = await promisify(fs[fsStatType])(filePath);\n\t\treturn stats[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nfunction isTypeSync(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\treturn fs[fsStatType](filePath)[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexports.isFile = isType.bind(null, 'stat', 'isFile');\nexports.isDirectory = isType.bind(null, 'stat', 'isDirectory');\nexports.isSymlink = isType.bind(null, 'lstat', 'isSymbolicLink');\nexports.isFileSync = isTypeSync.bind(null, 'statSync', 'isFile');\nexports.isDirectorySync = isTypeSync.bind(null, 'statSync', 'isDirectory');\nexports.isSymlinkSync = isTypeSync.bind(null, 'lstatSync', 'isSymbolicLink');\n", "'use strict';\nconst path = require('path');\nconst pathType = require('path-type');\n\nconst getExtensions = extensions => extensions.length > 1 ? `{${extensions.join(',')}}` : extensions[0];\n\nconst getPath = (filepath, cwd) => {\n\tconst pth = filepath[0] === '!' ? filepath.slice(1) : filepath;\n\treturn path.isAbsolute(pth) ? pth : path.join(cwd, pth);\n};\n\nconst addExtensions = (file, extensions) => {\n\tif (path.extname(file)) {\n\t\treturn `**/${file}`;\n\t}\n\n\treturn `**/${file}.${getExtensions(extensions)}`;\n};\n\nconst getGlob = (directory, options) => {\n\tif (options.files && !Array.isArray(options.files)) {\n\t\tthrow new TypeError(`Expected \\`files\\` to be of type \\`Array\\` but received type \\`${typeof options.files}\\``);\n\t}\n\n\tif (options.extensions && !Array.isArray(options.extensions)) {\n\t\tthrow new TypeError(`Expected \\`extensions\\` to be of type \\`Array\\` but received type \\`${typeof options.extensions}\\``);\n\t}\n\n\tif (options.files && options.extensions) {\n\t\treturn options.files.map(x => path.posix.join(directory, addExtensions(x, options.extensions)));\n\t}\n\n\tif (options.files) {\n\t\treturn options.files.map(x => path.posix.join(directory, `**/${x}`));\n\t}\n\n\tif (options.extensions) {\n\t\treturn [path.posix.join(directory, `**/*.${getExtensions(options.extensions)}`)];\n\t}\n\n\treturn [path.posix.join(directory, '**')];\n};\n\nmodule.exports = async (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = await Promise.all([].concat(input).map(async x => {\n\t\tconst isDirectory = await pathType.isDirectory(getPath(x, options.cwd));\n\t\treturn isDirectory ? getGlob(x, options) : x;\n\t}));\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n\nmodule.exports.sync = (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = [].concat(input).map(x => pathType.isDirectorySync(getPath(x, options.cwd)) ? getGlob(x, options) : x);\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n", "// A simple implementation of make-array\nfunction makeArray (subject) {\n  return Array.isArray(subject)\n    ? subject\n    : [subject]\n}\n\nconst EMPTY = ''\nconst SPACE = ' '\nconst ESCAPE = '\\\\'\nconst REGEX_TEST_BLANK_LINE = /^\\s+$/\nconst REGEX_INVALID_TRAILING_BACKSLASH = /(?:[^\\\\]|^)\\\\$/\nconst REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION = /^\\\\!/\nconst REGEX_REPLACE_LEADING_EXCAPED_HASH = /^\\\\#/\nconst REGEX_SPLITALL_CRLF = /\\r?\\n/g\n// /foo,\n// ./foo,\n// ../foo,\n// .\n// ..\nconst REGEX_TEST_INVALID_PATH = /^\\.*\\/|^\\.+$/\n\nconst SLASH = '/'\n\n// Do not use ternary expression here, since \"istanbul ignore next\" is buggy\nlet TMP_KEY_IGNORE = 'node-ignore'\n/* istanbul ignore else */\nif (typeof Symbol !== 'undefined') {\n  TMP_KEY_IGNORE = Symbol.for('node-ignore')\n}\nconst KEY_IGNORE = TMP_KEY_IGNORE\n\nconst define = (object, key, value) =>\n  Object.defineProperty(object, key, {value})\n\nconst REGEX_REGEXP_RANGE = /([0-z])-([0-z])/g\n\nconst RETURN_FALSE = () => false\n\n// Sanitize the range of a regular expression\n// The cases are complicated, see test cases for details\nconst sanitizeRange = range => range.replace(\n  REGEX_REGEXP_RANGE,\n  (match, from, to) => from.charCodeAt(0) <= to.charCodeAt(0)\n    ? match\n    // Invalid range (out of order) which is ok for gitignore rules but\n    //   fatal for JavaScript regular expression, so eliminate it.\n    : EMPTY\n)\n\n// See fixtures #59\nconst cleanRangeBackSlash = slashes => {\n  const {length} = slashes\n  return slashes.slice(0, length - length % 2)\n}\n\n// > If the pattern ends with a slash,\n// > it is removed for the purpose of the following description,\n// > but it would only find a match with a directory.\n// > In other words, foo/ will match a directory foo and paths underneath it,\n// > but will not match a regular file or a symbolic link foo\n// >  (this is consistent with the way how pathspec works in general in Git).\n// '`foo/`' will not match regular file '`foo`' or symbolic link '`foo`'\n// -> ignore-rules will not deal with it, because it costs extra `fs.stat` call\n//      you could use option `mark: true` with `glob`\n\n// '`foo/`' should not continue with the '`..`'\nconst REPLACERS = [\n\n  [\n    // remove BOM\n    // TODO:\n    // Other similar zero-width characters?\n    /^\\uFEFF/,\n    () => EMPTY\n  ],\n\n  // > Trailing spaces are ignored unless they are quoted with backslash (\"\\\")\n  [\n    // (a\\ ) -> (a )\n    // (a  ) -> (a)\n    // (a ) -> (a)\n    // (a \\ ) -> (a  )\n    /((?:\\\\\\\\)*?)(\\\\?\\s+)$/,\n    (_, m1, m2) => m1 + (\n      m2.indexOf('\\\\') === 0\n        ? SPACE\n        : EMPTY\n    )\n  ],\n\n  // replace (\\ ) with ' '\n  // (\\ ) -> ' '\n  // (\\\\ ) -> '\\\\ '\n  // (\\\\\\ ) -> '\\\\ '\n  [\n    /(\\\\+?)\\s/g,\n    (_, m1) => {\n      const {length} = m1\n      return m1.slice(0, length - length % 2) + SPACE\n    }\n  ],\n\n  // Escape metacharacters\n  // which is written down by users but means special for regular expressions.\n\n  // > There are 12 characters with special meanings:\n  // > - the backslash \\,\n  // > - the caret ^,\n  // > - the dollar sign $,\n  // > - the period or dot .,\n  // > - the vertical bar or pipe symbol |,\n  // > - the question mark ?,\n  // > - the asterisk or star *,\n  // > - the plus sign +,\n  // > - the opening parenthesis (,\n  // > - the closing parenthesis ),\n  // > - and the opening square bracket [,\n  // > - the opening curly brace {,\n  // > These special characters are often called \"metacharacters\".\n  [\n    /[\\\\$.|*+(){^]/g,\n    match => `\\\\${match}`\n  ],\n\n  [\n    // > a question mark (?) matches a single character\n    /(?!\\\\)\\?/g,\n    () => '[^/]'\n  ],\n\n  // leading slash\n  [\n\n    // > A leading slash matches the beginning of the pathname.\n    // > For example, \"/*.c\" matches \"cat-file.c\" but not \"mozilla-sha1/sha1.c\".\n    // A leading slash matches the beginning of the pathname\n    /^\\//,\n    () => '^'\n  ],\n\n  // replace special metacharacter slash after the leading slash\n  [\n    /\\//g,\n    () => '\\\\/'\n  ],\n\n  [\n    // > A leading \"**\" followed by a slash means match in all directories.\n    // > For example, \"**/foo\" matches file or directory \"foo\" anywhere,\n    // > the same as pattern \"foo\".\n    // > \"**/foo/bar\" matches file or directory \"bar\" anywhere that is directly\n    // >   under directory \"foo\".\n    // Notice that the '*'s have been replaced as '\\\\*'\n    /^\\^*\\\\\\*\\\\\\*\\\\\\//,\n\n    // '**/foo' <-> 'foo'\n    () => '^(?:.*\\\\/)?'\n  ],\n\n  // starting\n  [\n    // there will be no leading '/'\n    //   (which has been replaced by section \"leading slash\")\n    // If starts with '**', adding a '^' to the regular expression also works\n    /^(?=[^^])/,\n    function startingReplacer () {\n      // If has a slash `/` at the beginning or middle\n      return !/\\/(?!$)/.test(this)\n        // > Prior to 2.22.1\n        // > If the pattern does not contain a slash /,\n        // >   Git treats it as a shell glob pattern\n        // Actually, if there is only a trailing slash,\n        //   git also treats it as a shell glob pattern\n\n        // After 2.22.1 (compatible but clearer)\n        // > If there is a separator at the beginning or middle (or both)\n        // > of the pattern, then the pattern is relative to the directory\n        // > level of the particular .gitignore file itself.\n        // > Otherwise the pattern may also match at any level below\n        // > the .gitignore level.\n        ? '(?:^|\\\\/)'\n\n        // > Otherwise, Git treats the pattern as a shell glob suitable for\n        // >   consumption by fnmatch(3)\n        : '^'\n    }\n  ],\n\n  // two globstars\n  [\n    // Use lookahead assertions so that we could match more than one `'/**'`\n    /\\\\\\/\\\\\\*\\\\\\*(?=\\\\\\/|$)/g,\n\n    // Zero, one or several directories\n    // should not use '*', or it will be replaced by the next replacer\n\n    // Check if it is not the last `'/**'`\n    (_, index, str) => index + 6 < str.length\n\n      // case: /**/\n      // > A slash followed by two consecutive asterisks then a slash matches\n      // >   zero or more directories.\n      // > For example, \"a/**/b\" matches \"a/b\", \"a/x/b\", \"a/x/y/b\" and so on.\n      // '/**/'\n      ? '(?:\\\\/[^\\\\/]+)*'\n\n      // case: /**\n      // > A trailing `\"/**\"` matches everything inside.\n\n      // #21: everything inside but it should not include the current folder\n      : '\\\\/.+'\n  ],\n\n  // normal intermediate wildcards\n  [\n    // Never replace escaped '*'\n    // ignore rule '\\*' will match the path '*'\n\n    // 'abc.*/' -> go\n    // 'abc.*'  -> skip this rule,\n    //    coz trailing single wildcard will be handed by [trailing wildcard]\n    /(^|[^\\\\]+)(\\\\\\*)+(?=.+)/g,\n\n    // '*.js' matches '.js'\n    // '*.js' doesn't match 'abc'\n    (_, p1, p2) => {\n      // 1.\n      // > An asterisk \"*\" matches anything except a slash.\n      // 2.\n      // > Other consecutive asterisks are considered regular asterisks\n      // > and will match according to the previous rules.\n      const unescaped = p2.replace(/\\\\\\*/g, '[^\\\\/]*')\n      return p1 + unescaped\n    }\n  ],\n\n  [\n    // unescape, revert step 3 except for back slash\n    // For example, if a user escape a '\\\\*',\n    // after step 3, the result will be '\\\\\\\\\\\\*'\n    /\\\\\\\\\\\\(?=[$.|*+(){^])/g,\n    () => ESCAPE\n  ],\n\n  [\n    // '\\\\\\\\' -> '\\\\'\n    /\\\\\\\\/g,\n    () => ESCAPE\n  ],\n\n  [\n    // > The range notation, e.g. [a-zA-Z],\n    // > can be used to match one of the characters in a range.\n\n    // `\\` is escaped by step 3\n    /(\\\\)?\\[([^\\]/]*?)(\\\\*)($|\\])/g,\n    (match, leadEscape, range, endEscape, close) => leadEscape === ESCAPE\n      // '\\\\[bar]' -> '\\\\\\\\[bar\\\\]'\n      ? `\\\\[${range}${cleanRangeBackSlash(endEscape)}${close}`\n      : close === ']'\n        ? endEscape.length % 2 === 0\n          // A normal case, and it is a range notation\n          // '[bar]'\n          // '[bar\\\\\\\\]'\n          ? `[${sanitizeRange(range)}${endEscape}]`\n          // Invalid range notaton\n          // '[bar\\\\]' -> '[bar\\\\\\\\]'\n          : '[]'\n        : '[]'\n  ],\n\n  // ending\n  [\n    // 'js' will not match 'js.'\n    // 'ab' will not match 'abc'\n    /(?:[^*])$/,\n\n    // WTF!\n    // https://git-scm.com/docs/gitignore\n    // changes in [2.22.1](https://git-scm.com/docs/gitignore/2.22.1)\n    // which re-fixes #24, #38\n\n    // > If there is a separator at the end of the pattern then the pattern\n    // > will only match directories, otherwise the pattern can match both\n    // > files and directories.\n\n    // 'js*' will not match 'a.js'\n    // 'js/' will not match 'a.js'\n    // 'js' will match 'a.js' and 'a.js/'\n    match => /\\/$/.test(match)\n      // foo/ will not match 'foo'\n      ? `${match}$`\n      // foo matches 'foo' and 'foo/'\n      : `${match}(?=$|\\\\/$)`\n  ],\n\n  // trailing wildcard\n  [\n    /(\\^|\\\\\\/)?\\\\\\*$/,\n    (_, p1) => {\n      const prefix = p1\n        // '\\^':\n        // '/*' does not match EMPTY\n        // '/*' does not match everything\n\n        // '\\\\\\/':\n        // 'abc/*' does not match 'abc/'\n        ? `${p1}[^/]+`\n\n        // 'a*' matches 'a'\n        // 'a*' matches 'aa'\n        : '[^/]*'\n\n      return `${prefix}(?=$|\\\\/$)`\n    }\n  ],\n]\n\n// A simple cache, because an ignore rule only has only one certain meaning\nconst regexCache = Object.create(null)\n\n// @param {pattern}\nconst makeRegex = (pattern, ignoreCase) => {\n  let source = regexCache[pattern]\n\n  if (!source) {\n    source = REPLACERS.reduce(\n      (prev, [matcher, replacer]) =>\n        prev.replace(matcher, replacer.bind(pattern)),\n      pattern\n    )\n    regexCache[pattern] = source\n  }\n\n  return ignoreCase\n    ? new RegExp(source, 'i')\n    : new RegExp(source)\n}\n\nconst isString = subject => typeof subject === 'string'\n\n// > A blank line matches no files, so it can serve as a separator for readability.\nconst checkPattern = pattern => pattern\n  && isString(pattern)\n  && !REGEX_TEST_BLANK_LINE.test(pattern)\n  && !REGEX_INVALID_TRAILING_BACKSLASH.test(pattern)\n\n  // > A line starting with # serves as a comment.\n  && pattern.indexOf('#') !== 0\n\nconst splitPattern = pattern => pattern.split(REGEX_SPLITALL_CRLF)\n\nclass IgnoreRule {\n  constructor (\n    origin,\n    pattern,\n    negative,\n    regex\n  ) {\n    this.origin = origin\n    this.pattern = pattern\n    this.negative = negative\n    this.regex = regex\n  }\n}\n\nconst createRule = (pattern, ignoreCase) => {\n  const origin = pattern\n  let negative = false\n\n  // > An optional prefix \"!\" which negates the pattern;\n  if (pattern.indexOf('!') === 0) {\n    negative = true\n    pattern = pattern.substr(1)\n  }\n\n  pattern = pattern\n  // > Put a backslash (\"\\\") in front of the first \"!\" for patterns that\n  // >   begin with a literal \"!\", for example, `\"\\!important!.txt\"`.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION, '!')\n  // > Put a backslash (\"\\\") in front of the first hash for patterns that\n  // >   begin with a hash.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_HASH, '#')\n\n  const regex = makeRegex(pattern, ignoreCase)\n\n  return new IgnoreRule(\n    origin,\n    pattern,\n    negative,\n    regex\n  )\n}\n\nconst throwError = (message, Ctor) => {\n  throw new Ctor(message)\n}\n\nconst checkPath = (path, originalPath, doThrow) => {\n  if (!isString(path)) {\n    return doThrow(\n      `path must be a string, but got \\`${originalPath}\\``,\n      TypeError\n    )\n  }\n\n  // We don't know if we should ignore EMPTY, so throw\n  if (!path) {\n    return doThrow(`path must not be empty`, TypeError)\n  }\n\n  // Check if it is a relative path\n  if (checkPath.isNotRelative(path)) {\n    const r = '`path.relative()`d'\n    return doThrow(\n      `path should be a ${r} string, but got \"${originalPath}\"`,\n      RangeError\n    )\n  }\n\n  return true\n}\n\nconst isNotRelative = path => REGEX_TEST_INVALID_PATH.test(path)\n\ncheckPath.isNotRelative = isNotRelative\ncheckPath.convert = p => p\n\nclass Ignore {\n  constructor ({\n    ignorecase = true,\n    ignoreCase = ignorecase,\n    allowRelativePaths = false\n  } = {}) {\n    define(this, KEY_IGNORE, true)\n\n    this._rules = []\n    this._ignoreCase = ignoreCase\n    this._allowRelativePaths = allowRelativePaths\n    this._initCache()\n  }\n\n  _initCache () {\n    this._ignoreCache = Object.create(null)\n    this._testCache = Object.create(null)\n  }\n\n  _addPattern (pattern) {\n    // #32\n    if (pattern && pattern[KEY_IGNORE]) {\n      this._rules = this._rules.concat(pattern._rules)\n      this._added = true\n      return\n    }\n\n    if (checkPattern(pattern)) {\n      const rule = createRule(pattern, this._ignoreCase)\n      this._added = true\n      this._rules.push(rule)\n    }\n  }\n\n  // @param {Array<string> | string | Ignore} pattern\n  add (pattern) {\n    this._added = false\n\n    makeArray(\n      isString(pattern)\n        ? splitPattern(pattern)\n        : pattern\n    ).forEach(this._addPattern, this)\n\n    // Some rules have just added to the ignore,\n    // making the behavior changed.\n    if (this._added) {\n      this._initCache()\n    }\n\n    return this\n  }\n\n  // legacy\n  addPattern (pattern) {\n    return this.add(pattern)\n  }\n\n  //          |           ignored : unignored\n  // negative |   0:0   |   0:1   |   1:0   |   1:1\n  // -------- | ------- | ------- | ------- | --------\n  //     0    |  TEST   |  TEST   |  SKIP   |    X\n  //     1    |  TESTIF |  SKIP   |  TEST   |    X\n\n  // - SKIP: always skip\n  // - TEST: always test\n  // - TESTIF: only test if checkUnignored\n  // - X: that never happen\n\n  // @param {boolean} whether should check if the path is unignored,\n  //   setting `checkUnignored` to `false` could reduce additional\n  //   path matching.\n\n  // @returns {TestResult} true if a file is ignored\n  _testOne (path, checkUnignored) {\n    let ignored = false\n    let unignored = false\n\n    this._rules.forEach(rule => {\n      const {negative} = rule\n      if (\n        unignored === negative && ignored !== unignored\n        || negative && !ignored && !unignored && !checkUnignored\n      ) {\n        return\n      }\n\n      const matched = rule.regex.test(path)\n\n      if (matched) {\n        ignored = !negative\n        unignored = negative\n      }\n    })\n\n    return {\n      ignored,\n      unignored\n    }\n  }\n\n  // @returns {TestResult}\n  _test (originalPath, cache, checkUnignored, slices) {\n    const path = originalPath\n      // Supports nullable path\n      && checkPath.convert(originalPath)\n\n    checkPath(\n      path,\n      originalPath,\n      this._allowRelativePaths\n        ? RETURN_FALSE\n        : throwError\n    )\n\n    return this._t(path, cache, checkUnignored, slices)\n  }\n\n  _t (path, cache, checkUnignored, slices) {\n    if (path in cache) {\n      return cache[path]\n    }\n\n    if (!slices) {\n      // path/to/a.js\n      // ['path', 'to', 'a.js']\n      slices = path.split(SLASH)\n    }\n\n    slices.pop()\n\n    // If the path has no parent directory, just test it\n    if (!slices.length) {\n      return cache[path] = this._testOne(path, checkUnignored)\n    }\n\n    const parent = this._t(\n      slices.join(SLASH) + SLASH,\n      cache,\n      checkUnignored,\n      slices\n    )\n\n    // If the path contains a parent directory, check the parent first\n    return cache[path] = parent.ignored\n      // > It is not possible to re-include a file if a parent directory of\n      // >   that file is excluded.\n      ? parent\n      : this._testOne(path, checkUnignored)\n  }\n\n  ignores (path) {\n    return this._test(path, this._ignoreCache, false).ignored\n  }\n\n  createFilter () {\n    return path => !this.ignores(path)\n  }\n\n  filter (paths) {\n    return makeArray(paths).filter(this.createFilter())\n  }\n\n  // @returns {TestResult}\n  test (path) {\n    return this._test(path, this._testCache, true)\n  }\n}\n\nconst factory = options => new Ignore(options)\n\nconst isPathValid = path =>\n  checkPath(path && checkPath.convert(path), path, RETURN_FALSE)\n\nfactory.isPathValid = isPathValid\n\n// Fixes typescript\nfactory.default = factory\n\nmodule.exports = factory\n\n// Windows\n// --------------------------------------------------------------\n/* istanbul ignore if */\nif (\n  // Detect `process` so that it can run in browsers.\n  typeof process !== 'undefined'\n  && (\n    process.env && process.env.IGNORE_TEST_WIN32\n    || process.platform === 'win32'\n  )\n) {\n  /* eslint no-control-regex: \"off\" */\n  const makePosix = str => /^\\\\\\\\\\?\\\\/.test(str)\n  || /[\"<>|\\u0000-\\u001F]+/u.test(str)\n    ? str\n    : str.replace(/\\\\/g, '/')\n\n  checkPath.convert = makePosix\n\n  // 'C:\\\\foo'     <- 'C:\\\\foo' has been converted to 'C:/'\n  // 'd:\\\\foo'\n  const REGIX_IS_WINDOWS_PATH_ABSOLUTE = /^[a-z]:\\//i\n  checkPath.isNotRelative = path =>\n    REGIX_IS_WINDOWS_PATH_ABSOLUTE.test(path)\n    || isNotRelative(path)\n}\n", "'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n", "'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\nconst path = require('path');\nconst fastGlob = require('fast-glob');\nconst gitIgnore = require('ignore');\nconst slash = require('slash');\n\nconst DEFAULT_IGNORE = [\n\t'**/node_modules/**',\n\t'**/flow-typed/**',\n\t'**/coverage/**',\n\t'**/.git'\n];\n\nconst readFileP = promisify(fs.readFile);\n\nconst mapGitIgnorePatternTo = base => ignore => {\n\tif (ignore.startsWith('!')) {\n\t\treturn '!' + path.posix.join(base, ignore.slice(1));\n\t}\n\n\treturn path.posix.join(base, ignore);\n};\n\nconst parseGitIgnore = (content, options) => {\n\tconst base = slash(path.relative(options.cwd, path.dirname(options.fileName)));\n\n\treturn content\n\t\t.split(/\\r?\\n/)\n\t\t.filter(Boolean)\n\t\t.filter(line => !line.startsWith('#'))\n\t\t.map(mapGitIgnorePatternTo(base));\n};\n\nconst reduceIgnore = files => {\n\tconst ignores = gitIgnore();\n\tfor (const file of files) {\n\t\tignores.add(parseGitIgnore(file.content, {\n\t\t\tcwd: file.cwd,\n\t\t\tfileName: file.filePath\n\t\t}));\n\t}\n\n\treturn ignores;\n};\n\nconst ensureAbsolutePathForCwd = (cwd, p) => {\n\tcwd = slash(cwd);\n\tif (path.isAbsolute(p)) {\n\t\tif (slash(p).startsWith(cwd)) {\n\t\t\treturn p;\n\t\t}\n\n\t\tthrow new Error(`Path ${p} is not in cwd ${cwd}`);\n\t}\n\n\treturn path.join(cwd, p);\n};\n\nconst getIsIgnoredPredecate = (ignores, cwd) => {\n\treturn p => ignores.ignores(slash(path.relative(cwd, ensureAbsolutePathForCwd(cwd, p.path || p))));\n};\n\nconst getFile = async (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = await readFileP(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst getFileSync = (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = fs.readFileSync(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst normalizeOptions = ({\n\tignore = [],\n\tcwd = slash(process.cwd())\n} = {}) => {\n\treturn {ignore, cwd};\n};\n\nmodule.exports = async options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = await fastGlob('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = await Promise.all(paths.map(file => getFile(file, options.cwd)));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n\nmodule.exports.sync = options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = fastGlob.sync('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = paths.map(file => getFileSync(file, options.cwd));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n", "'use strict';\nconst {Transform} = require('stream');\n\nclass ObjectTransform extends Transform {\n\tconstructor() {\n\t\tsuper({\n\t\t\tobjectMode: true\n\t\t});\n\t}\n}\n\nclass FilterStream extends ObjectTransform {\n\tconstructor(filter) {\n\t\tsuper();\n\t\tthis._filter = filter;\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (this._filter(data)) {\n\t\t\tthis.push(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nclass UniqueStream extends ObjectTransform {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._pushed = new Set();\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (!this._pushed.has(data)) {\n\t\t\tthis.push(data);\n\t\t\tthis._pushed.add(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nmodule.exports = {\n\tFilterStream,\n\tUniqueStream\n};\n", "'use strict';\nconst fs = require('fs');\nconst arrayUnion = require('array-union');\nconst merge2 = require('merge2');\nconst fastGlob = require('fast-glob');\nconst dirGlob = require('dir-glob');\nconst gitignore = require('./gitignore');\nconst {FilterStream, UniqueStream} = require('./stream-utils');\n\nconst DEFAULT_FILTER = () => false;\n\nconst isNegative = pattern => pattern[0] === '!';\n\nconst assertPatternsInput = patterns => {\n\tif (!patterns.every(pattern => typeof pattern === 'string')) {\n\t\tthrow new TypeError('Patterns must be a string or an array of strings');\n\t}\n};\n\nconst checkCwdOption = (options = {}) => {\n\tif (!options.cwd) {\n\t\treturn;\n\t}\n\n\tlet stat;\n\ttry {\n\t\tstat = fs.statSync(options.cwd);\n\t} catch {\n\t\treturn;\n\t}\n\n\tif (!stat.isDirectory()) {\n\t\tthrow new Error('The `cwd` option must be a path to a directory');\n\t}\n};\n\nconst getPathString = p => p.stats instanceof fs.Stats ? p.path : p;\n\nconst generateGlobTasks = (patterns, taskOptions) => {\n\tpatterns = arrayUnion([].concat(patterns));\n\tassertPatternsInput(patterns);\n\tcheckCwdOption(taskOptions);\n\n\tconst globTasks = [];\n\n\ttaskOptions = {\n\t\tignore: [],\n\t\texpandDirectories: true,\n\t\t...taskOptions\n\t};\n\n\tfor (const [index, pattern] of patterns.entries()) {\n\t\tif (isNegative(pattern)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst ignore = patterns\n\t\t\t.slice(index)\n\t\t\t.filter(pattern => isNegative(pattern))\n\t\t\t.map(pattern => pattern.slice(1));\n\n\t\tconst options = {\n\t\t\t...taskOptions,\n\t\t\tignore: taskOptions.ignore.concat(ignore)\n\t\t};\n\n\t\tglobTasks.push({pattern, options});\n\t}\n\n\treturn globTasks;\n};\n\nconst globDirs = (task, fn) => {\n\tlet options = {};\n\tif (task.options.cwd) {\n\t\toptions.cwd = task.options.cwd;\n\t}\n\n\tif (Array.isArray(task.options.expandDirectories)) {\n\t\toptions = {\n\t\t\t...options,\n\t\t\tfiles: task.options.expandDirectories\n\t\t};\n\t} else if (typeof task.options.expandDirectories === 'object') {\n\t\toptions = {\n\t\t\t...options,\n\t\t\t...task.options.expandDirectories\n\t\t};\n\t}\n\n\treturn fn(task.pattern, options);\n};\n\nconst getPattern = (task, fn) => task.options.expandDirectories ? globDirs(task, fn) : [task.pattern];\n\nconst getFilterSync = options => {\n\treturn options && options.gitignore ?\n\t\tgitignore.sync({cwd: options.cwd, ignore: options.ignore}) :\n\t\tDEFAULT_FILTER;\n};\n\nconst globToTask = task => glob => {\n\tconst {options} = task;\n\tif (options.ignore && Array.isArray(options.ignore) && options.expandDirectories) {\n\t\toptions.ignore = dirGlob.sync(options.ignore);\n\t}\n\n\treturn {\n\t\tpattern: glob,\n\t\toptions\n\t};\n};\n\nmodule.exports = async (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst getFilter = async () => {\n\t\treturn options && options.gitignore ?\n\t\t\tgitignore({cwd: options.cwd, ignore: options.ignore}) :\n\t\t\tDEFAULT_FILTER;\n\t};\n\n\tconst getTasks = async () => {\n\t\tconst tasks = await Promise.all(globTasks.map(async task => {\n\t\t\tconst globs = await getPattern(task, dirGlob);\n\t\t\treturn Promise.all(globs.map(globToTask(task)));\n\t\t}));\n\n\t\treturn arrayUnion(...tasks);\n\t};\n\n\tconst [filter, tasks] = await Promise.all([getFilter(), getTasks()]);\n\tconst paths = await Promise.all(tasks.map(task => fastGlob(task.pattern, task.options)));\n\n\treturn arrayUnion(...paths).filter(path_ => !filter(getPathString(path_)));\n};\n\nmodule.exports.sync = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\n\tlet matches = [];\n\tfor (const task of tasks) {\n\t\tmatches = arrayUnion(matches, fastGlob.sync(task.pattern, task.options));\n\t}\n\n\treturn matches.filter(path_ => !filter(path_));\n};\n\nmodule.exports.stream = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\tconst filterStream = new FilterStream(p => !filter(p));\n\tconst uniqueStream = new UniqueStream();\n\n\treturn merge2(tasks.map(task => fastGlob.stream(task.pattern, task.options)))\n\t\t.pipe(filterStream)\n\t\t.pipe(uniqueStream);\n};\n\nmodule.exports.generateGlobTasks = generateGlobTasks;\n\nmodule.exports.hasMagic = (patterns, options) => []\n\t.concat(patterns)\n\t.some(pattern => fastGlob.isDynamicPattern(pattern, options));\n\nmodule.exports.gitignore = gitignore;\n", "var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\" || er.code === \"EBUSY\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n", "var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n", "'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n", "var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  var noReaddirOptionVersions = /^v[0-5]\\./\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    var go$readdir = noReaddirOptionVersions.test(process.version)\n      ? function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n      : function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, options, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n\n    return go$readdir(path, options, cb)\n\n    function fs$readdirCallback (path, options, cb, startTime) {\n      return function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([\n            go$readdir,\n            [path, options, cb],\n            err,\n            startTime || Date.now(),\n            Date.now()\n          ])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      }\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n", "'use strict';\nconst path = require('path');\n\nmodule.exports = path_ => {\n\tlet cwd = process.cwd();\n\n\tpath_ = path.resolve(path_);\n\n\tif (process.platform === 'win32') {\n\t\tcwd = cwd.toLowerCase();\n\t\tpath_ = path_.toLowerCase();\n\t}\n\n\treturn path_ === cwd;\n};\n", "'use strict';\nconst path = require('path');\n\nmodule.exports = (childPath, parentPath) => {\n\tconst relation = path.relative(parentPath, childPath);\n\treturn Boolean(\n\t\trelation &&\n\t\trelation !== '..' &&\n\t\t!relation.startsWith(`..${path.sep}`) &&\n\t\trelation !== path.resolve(childPath)\n\t);\n};\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n", "module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n", "module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n", "'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n", "var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,(?!,).*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n", "module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = (function () { try { return require('path') } catch (e) {}}()) || {\n  sep: '/'\n}\nminimatch.sep = path.sep\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  b = b || {}\n  var t = {}\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n  m.Minimatch.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options)).Minimatch\n  }\n\n  m.filter = function filter (pattern, options) {\n    return orig.filter(pattern, ext(def, options))\n  }\n\n  m.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options))\n  }\n\n  m.makeRe = function makeRe (pattern, options) {\n    return orig.makeRe(pattern, ext(def, options))\n  }\n\n  m.braceExpand = function braceExpand (pattern, options) {\n    return orig.braceExpand(pattern, ext(def, options))\n  }\n\n  m.match = function (list, pattern, options) {\n    return orig.match(list, pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (!options.allowWindowsEscape && path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n  this.partial = !!options.partial\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments) }\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nvar MAX_PATTERN_LENGTH = 1024 * 64\nvar assertValidPattern = function (pattern) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  assertValidPattern(pattern)\n\n  var options = this.options\n\n  // shortcuts\n  if (pattern === '**') {\n    if (!options.noglobstar)\n      return GLOBSTAR\n    else\n      pattern = '*'\n  }\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      /* istanbul ignore next */\n      case '/': {\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n      }\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        // split where the last [ was, make sure we don't have\n        // an invalid re. if so, re-walk the contents of the\n        // would-be class to re-translate any characters that\n        // were passed through as-is\n        // TODO: It would probably be faster to determine this\n        // without a try/catch and a new RegExp, but it's tricky\n        // to do safely.  For now, this is safe and works.\n        var cs = pattern.substring(classStart + 1, i)\n        try {\n          RegExp('[' + cs + ']')\n        } catch (er) {\n          // not a valid class!\n          var sp = this.parse(cs, SUBPARSE)\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n          hasMagic = hasMagic || sp[1]\n          inClass = false\n          continue\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '[': case '.': case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) /* istanbul ignore next - should be impossible */ {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = function match (f, partial) {\n  if (typeof partial === 'undefined') partial = this.partial\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    /* istanbul ignore if */\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      /* istanbul ignore if */\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      hit = f === p\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else /* istanbul ignore else */ if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    return (fi === fl - 1) && (file[fi] === '')\n  }\n\n  // should be unreachable.\n  /* istanbul ignore next */\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n", "'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n", "exports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar fs = require(\"fs\")\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b, 'en')\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n  self.fs = options.fs || fs\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n  // always treat \\ in patterns as escapes, not path separators\n  options.allowWindowsEscape = false\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n", "module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert.ok(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert.ok(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) ||\n      isAbsolute(pattern.map(function (p) {\n        return typeof p === 'string' ? p : '[*]'\n      }).join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = this.fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, this.fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = this.fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = this.fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n", "// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n", "var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n", "var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n", "// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) ||\n      isAbsolute(pattern.map(function (p) {\n        return typeof p === 'string' ? p : '[*]'\n      }).join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    self.fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  self.fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    self.fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return self.fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n", "const assert = require(\"assert\")\nconst path = require(\"path\")\nconst fs = require(\"fs\")\nlet glob = undefined\ntry {\n  glob = require(\"glob\")\n} catch (_err) {\n  // treat glob as optional.\n}\n\nconst defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nlet timeout = 0\n\nconst isWindows = (process.platform === \"win32\")\n\nconst defaults = options => {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  if (options.disableGlob !== true && glob === undefined) {\n    throw Error('glob dependency not found, set `options.disableGlob = true` if intentional')\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nconst rimraf = (p, options, cb) => {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  let busyTries = 0\n  let errState = null\n  let n = 0\n\n  const next = (er) => {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  const afterGlob = (er, results) => {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(p => {\n      const CB = (er) => {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            // try again, with the same exact callback as this one.\n            return setTimeout(() => rimraf_(p, options, CB), busyTries * 100)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(() => rimraf_(p, options, CB), timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      }\n      rimraf_(p, options, CB)\n    })\n  }\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, (er, stat) => {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nconst rimraf_ = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nconst fixWinEPERM = (p, options, er, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, (er3, stats) => {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nconst fixWinEPERMSync = (p, options, er) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  let stats\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nconst rmdir = (p, options, originalEr, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nconst rmkids = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er)\n      return cb(er)\n    let n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    let errState\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nconst rimrafSync = (p, options) => {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  let results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (let i = 0; i < results.length; i++) {\n    const p = results[i]\n\n    let st\n    try {\n      st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nconst rmdirSync = (p, options, originalEr) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nconst rmkidsSync = (p, options) => {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  const retries = isWindows ? 100 : 1\n  let i = 0\n  do {\n    let threw = true\n    try {\n      const ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n", "'use strict';\n\nmodule.exports = (string, count = 1, options) => {\n\toptions = {\n\t\tindent: ' ',\n\t\tincludeEmptyLines: false,\n\t\t...options\n\t};\n\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof string}\\``\n\t\t);\n\t}\n\n\tif (typeof count !== 'number') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof count}\\``\n\t\t);\n\t}\n\n\tif (typeof options.indent !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof options.indent}\\``\n\t\t);\n\t}\n\n\tif (count === 0) {\n\t\treturn string;\n\t}\n\n\tconst regex = options.includeEmptyLines ? /^/gm : /^(?!\\s*$)/gm;\n\n\treturn string.replace(regex, options.indent.repeat(count));\n};\n", "'use strict';\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = typeof os.homedir === 'undefined' ? '' : os.homedir();\n\nmodule.exports = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n};\n", "'use strict';\nconst indentString = require('indent-string');\nconst cleanStack = require('clean-stack');\n\nconst cleanInternalStack = stack => stack.replace(/\\s+at .*aggregate-error\\/index.js:\\d+:\\d+\\)?/g, '');\n\nclass AggregateError extends Error {\n\tconstructor(errors) {\n\t\tif (!Array.isArray(errors)) {\n\t\t\tthrow new TypeError(`Expected input to be an Array, got ${typeof errors}`);\n\t\t}\n\n\t\terrors = [...errors].map(error => {\n\t\t\tif (error instanceof Error) {\n\t\t\t\treturn error;\n\t\t\t}\n\n\t\t\tif (error !== null && typeof error === 'object') {\n\t\t\t\t// Handle plain error objects with message property and/or possibly other metadata\n\t\t\t\treturn Object.assign(new Error(error.message), error);\n\t\t\t}\n\n\t\t\treturn new Error(error);\n\t\t});\n\n\t\tlet message = errors\n\t\t\t.map(error => {\n\t\t\t\t// The `stack` property is not standardized, so we can't assume it exists\n\t\t\t\treturn typeof error.stack === 'string' ? cleanInternalStack(cleanStack(error.stack)) : String(error);\n\t\t\t})\n\t\t\t.join('\\n');\n\t\tmessage = '\\n' + indentString(message, 4);\n\t\tsuper(message);\n\n\t\tthis.name = 'AggregateError';\n\n\t\tObject.defineProperty(this, '_errors', {value: errors});\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const error of this._errors) {\n\t\t\tyield error;\n\t\t}\n\t}\n}\n\nmodule.exports = AggregateError;\n", "'use strict';\nconst AggregateError = require('aggregate-error');\n\nmodule.exports = async (\n\titerable,\n\tmapper,\n\t{\n\t\tconcurrency = Infinity,\n\t\tstopOnError = true\n\t} = {}\n) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (typeof mapper !== 'function') {\n\t\t\tthrow new TypeError('Mapper function is required');\n\t\t}\n\n\t\tif (!((Number.isSafeInteger(concurrency) || concurrency === Infinity) && concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be an integer from 1 and up or \\`Infinity\\`, got \\`${concurrency}\\` (${typeof concurrency})`);\n\t\t}\n\n\t\tconst result = [];\n\t\tconst errors = [];\n\t\tconst iterator = iterable[Symbol.iterator]();\n\t\tlet isRejected = false;\n\t\tlet isIterableDone = false;\n\t\tlet resolvingCount = 0;\n\t\tlet currentIndex = 0;\n\n\t\tconst next = () => {\n\t\t\tif (isRejected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextItem = iterator.next();\n\t\t\tconst index = currentIndex;\n\t\t\tcurrentIndex++;\n\n\t\t\tif (nextItem.done) {\n\t\t\t\tisIterableDone = true;\n\n\t\t\t\tif (resolvingCount === 0) {\n\t\t\t\t\tif (!stopOnError && errors.length !== 0) {\n\t\t\t\t\t\treject(new AggregateError(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolvingCount++;\n\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst element = await nextItem.value;\n\t\t\t\t\tresult[index] = await mapper(element, index);\n\t\t\t\t\tresolvingCount--;\n\t\t\t\t\tnext();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (stopOnError) {\n\t\t\t\t\t\tisRejected = true;\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors.push(error);\n\t\t\t\t\t\tresolvingCount--;\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})();\n\t\t};\n\n\t\tfor (let i = 0; i < concurrency; i++) {\n\t\t\tnext();\n\n\t\t\tif (isIterableDone) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n};\n", "'use strict';\nconst {promisify} = require('util');\nconst path = require('path');\nconst globby = require('globby');\nconst isGlob = require('is-glob');\nconst slash = require('slash');\nconst gracefulFs = require('graceful-fs');\nconst isPathCwd = require('is-path-cwd');\nconst isPathInside = require('is-path-inside');\nconst rimraf = require('rimraf');\nconst pMap = require('p-map');\n\nconst rimrafP = promisify(rimraf);\n\nconst rimrafOptions = {\n\tglob: false,\n\tunlink: gracefulFs.unlink,\n\tunlinkSync: gracefulFs.unlinkSync,\n\tchmod: gracefulFs.chmod,\n\tchmodSync: gracefulFs.chmodSync,\n\tstat: gracefulFs.stat,\n\tstatSync: gracefulFs.statSync,\n\tlstat: gracefulFs.lstat,\n\tlstatSync: gracefulFs.lstatSync,\n\trmdir: gracefulFs.rmdir,\n\trmdirSync: gracefulFs.rmdirSync,\n\treaddir: gracefulFs.readdir,\n\treaddirSync: gracefulFs.readdirSync\n};\n\nfunction safeCheck(file, cwd) {\n\tif (isPathCwd(file)) {\n\t\tthrow new Error('Cannot delete the current working directory. Can be overridden with the `force` option.');\n\t}\n\n\tif (!isPathInside(file, cwd)) {\n\t\tthrow new Error('Cannot delete files/directories outside the current working directory. Can be overridden with the `force` option.');\n\t}\n}\n\nfunction normalizePatterns(patterns) {\n\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\tpatterns = patterns.map(pattern => {\n\t\tif (process.platform === 'win32' && isGlob(pattern) === false) {\n\t\t\treturn slash(pattern);\n\t\t}\n\n\t\treturn pattern;\n\t});\n\n\treturn patterns;\n}\n\nmodule.exports = async (patterns, {force, dryRun, cwd = process.cwd(), onProgress = () => {}, ...options} = {}) => {\n\toptions = {\n\t\texpandDirectories: false,\n\t\tonlyFiles: false,\n\t\tfollowSymbolicLinks: false,\n\t\tcwd,\n\t\t...options\n\t};\n\n\tpatterns = normalizePatterns(patterns);\n\n\tconst files = (await globby(patterns, options))\n\t\t.sort((a, b) => b.localeCompare(a));\n\n\tif (files.length === 0) {\n\t\tonProgress({\n\t\t\ttotalCount: 0,\n\t\t\tdeletedCount: 0,\n\t\t\tpercent: 1\n\t\t});\n\t}\n\n\tlet deletedCount = 0;\n\n\tconst mapper = async file => {\n\t\tfile = path.resolve(cwd, file);\n\n\t\tif (!force) {\n\t\t\tsafeCheck(file, cwd);\n\t\t}\n\n\t\tif (!dryRun) {\n\t\t\tawait rimrafP(file, rimrafOptions);\n\t\t}\n\n\t\tdeletedCount += 1;\n\n\t\tonProgress({\n\t\t\ttotalCount: files.length,\n\t\t\tdeletedCount,\n\t\t\tpercent: deletedCount / files.length\n\t\t});\n\n\t\treturn file;\n\t};\n\n\tconst removedFiles = await pMap(files, mapper, options);\n\n\tremovedFiles.sort((a, b) => a.localeCompare(b));\n\n\treturn removedFiles;\n};\n\nmodule.exports.sync = (patterns, {force, dryRun, cwd = process.cwd(), ...options} = {}) => {\n\toptions = {\n\t\texpandDirectories: false,\n\t\tonlyFiles: false,\n\t\tfollowSymbolicLinks: false,\n\t\tcwd,\n\t\t...options\n\t};\n\n\tpatterns = normalizePatterns(patterns);\n\n\tconst files = globby.sync(patterns, options)\n\t\t.sort((a, b) => b.localeCompare(a));\n\n\tconst removedFiles = files.map(file => {\n\t\tfile = path.resolve(cwd, file);\n\n\t\tif (!force) {\n\t\t\tsafeCheck(file, cwd);\n\t\t}\n\n\t\tif (!dryRun) {\n\t\t\trimraf.sync(file, rimrafOptions);\n\t\t}\n\n\t\treturn file;\n\t});\n\n\tremovedFiles.sort((a, b) => a.localeCompare(b));\n\n\treturn removedFiles;\n};\n", "import { useState } from \"react\";\nimport { useCachedState } from \"@raycast/utils\";\n\nimport { Color, Grid, Icon } from \"@raycast/api\";\n\nimport {\n  ServiceName,\n  getMaxResults,\n  getServiceTitle,\n  getGridItemSize,\n  getGridTrendingItemSize,\n  GIF_SERVICE,\n  GRID_COLUMNS,\n} from \"./preferences\";\n\nimport useSearchAPI from \"./hooks/useSearchAPI\";\nimport useLocalGifs from \"./hooks/useLocalGifs\";\n\nimport { GifGridSection } from \"./components/GifGridSection\";\n\nexport default function GifSearch() {\n  const limit = getMaxResults();\n\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  const [searchService, setSearchService] = useCachedState<ServiceName>(\"service\", GIF_SERVICE.GIPHY);\n\n  const itemSize = searchTerm.length > 0 ? getGridItemSize() : getGridTrendingItemSize();\n\n  const { data: results, isLoading, pagination } = useSearchAPI({ term: searchTerm, service: searchService, limit });\n  const {\n    recentGifs,\n    favoriteGifs,\n    allGifs,\n    isLoading: isLoadingLocalGifs,\n    mutate,\n  } = useLocalGifs(searchService, itemSize);\n\n  const onServiceChange = (service: string) => {\n    setSearchService(service as ServiceName);\n    setSearchTerm(searchTerm);\n  };\n\n  const showAllFavs = searchService === GIF_SERVICE.FAVORITES;\n  const showAllRecents = searchService === GIF_SERVICE.RECENTS;\n\n  let placeholder = `Search for GIFs${searchService ? ` on ${getServiceTitle(searchService)}` : \"\"}`;\n  if (showAllFavs) placeholder = \"Search favorites\";\n  if (showAllRecents) placeholder = \"Search recents\";\n\n  let emptyState = { text: \"Enter a search above to get started\u2026\", icon: Icon.MagnifyingGlass };\n  if (showAllFavs) emptyState = { text: \"Add some GIFs to your Favorites first\u2026\", icon: Icon.Clock };\n  if (showAllRecents) emptyState = { text: \"Work with some GIFs first\u2026\", icon: Icon.Clock };\n  if (searchTerm.length > 0 && results?.length === 0) emptyState = { text: \"No GIFs were found.\", icon: Icon.Image };\n\n  let sections = [\n    ...(searchTerm.length === 0\n      ? [\n          { title: \"Favorites\", results: favoriteGifs, isLocalGifSection: true },\n          { title: \"Recent\", results: recentGifs, isLocalGifSection: true },\n        ]\n      : []),\n    { title: \"Trending\", results },\n  ];\n\n  const showLocalGifsView = showAllFavs || showAllRecents;\n\n  if (showLocalGifsView) {\n    sections =\n      allGifs?.map(([service, gifs]) => {\n        return { title: getServiceTitle(service), results: gifs, isLocalGifSection: true };\n      }) ?? [];\n  }\n\n  const columns = GRID_COLUMNS[itemSize];\n\n  return (\n    <Grid\n      columns={columns}\n      pagination={showLocalGifsView ? undefined : pagination}\n      searchBarAccessory={\n        <Grid.Dropdown tooltip=\"Change GIF Provider\" onChange={onServiceChange} value={searchService}>\n          <Grid.Dropdown.Section>\n            <Grid.Dropdown.Item\n              title=\"GIPHY GIFs\"\n              value={GIF_SERVICE.GIPHY}\n              icon={{ source: \"giphy-logo-square-180.png\" }}\n            />\n            <Grid.Dropdown.Item\n              title=\"GIPHY Clips\"\n              value={GIF_SERVICE.GIPHY_CLIPS}\n              icon={{ source: \"giphy-logo-square-180.png\" }}\n            />\n            <Grid.Dropdown.Item\n              title=\"Tenor\"\n              value={GIF_SERVICE.TENOR}\n              icon={{ source: \"tenor-logo-square-180.png\" }}\n            />\n            <Grid.Dropdown.Item\n              title=\"Finer Gifs Club\"\n              value={GIF_SERVICE.FINER_GIFS}\n              icon={{ source: \"finergifs-logo.svg\", tintColor: Color.PrimaryText }}\n            />\n          </Grid.Dropdown.Section>\n          <Grid.Dropdown.Section>\n            <Grid.Dropdown.Item\n              title=\"Favorites\"\n              value={GIF_SERVICE.FAVORITES}\n              icon={{ source: Icon.Star, tintColor: Color.Yellow }}\n            />\n            <Grid.Dropdown.Item title=\"Recent\" value={GIF_SERVICE.RECENTS} icon={{ source: Icon.Clock }} />\n          </Grid.Dropdown.Section>\n        </Grid.Dropdown>\n      }\n      filtering={showAllFavs || showAllRecents}\n      isLoading={isLoading || isLoadingLocalGifs}\n      throttle\n      searchBarPlaceholder={placeholder}\n      onSearchTextChange={setSearchTerm}\n    >\n      <Grid.EmptyView title={emptyState.text} icon={emptyState.icon} />\n      {sections.map((section) => (\n        <GifGridSection\n          key={section.title}\n          title={section.title}\n          results={section.results ?? []}\n          isLocalGifSection={section.isLocalGifSection}\n          term={searchTerm}\n          service={searchService}\n          mutate={mutate}\n        />\n      ))}\n    </Grid>\n  );\n}\n", "var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n", "/// <reference types=\"node\" />\n\nexport { usePromise } from \"./usePromise\";\nexport { useCachedState } from \"./useCachedState\";\nexport { useCachedPromise } from \"./useCachedPromise\";\nexport { useFetch } from \"./useFetch\";\nexport { useExec } from \"./useExec\";\nexport { useStreamJSON } from \"./useStreamJSON\";\nexport { useSQL } from \"./useSQL\";\nexport { useForm, FormValidation } from \"./useForm\";\nexport { useAI } from \"./useAI\";\nexport { useFrecencySorting } from \"./useFrecencySorting\";\nexport { useLocalStorage } from \"./useLocalStorage\";\n\nexport { getAvatarIcon, getFavicon, getProgressIcon } from \"./icon\";\n\nexport { OAuthService, withAccessToken, getAccessToken } from \"./oauth\";\n\nexport { createDeeplink, createExtensionDeeplink, createScriptCommandDeeplink, DeeplinkType } from \"./createDeeplink\";\nexport { executeSQL } from \"./executeSQL\";\nexport { runAppleScript } from \"./run-applescript\";\nexport { runPowerShellScript } from \"./run-powershell-script\";\nexport { showFailureToast } from \"./showFailureToast\";\nexport { withCache } from \"./cache\";\n\nexport type { PromiseOptions } from \"./usePromise\";\nexport type { CachedPromiseOptions } from \"./useCachedPromise\";\nexport type {\n  OAuthServiceOptions,\n  OnAuthorizeParams,\n  WithAccessTokenComponentOrFn,\n  ProviderWithDefaultClientOptions,\n  ProviderOptions,\n} from \"./oauth\";\nexport type { AsyncState, MutatePromise } from \"./types\";\n", "import { useEffect, useCallback, RefObject, useRef, useState } from \"react\";\nimport { environment, LaunchType, Toast } from \"@raycast/api\";\nimport { useDeepMemo } from \"./useDeepMemo\";\nimport {\n  FunctionReturningPromise,\n  MutatePromise,\n  UsePromiseReturnType,\n  AsyncState,\n  FunctionReturningPaginatedPromise,\n  UnwrapReturn,\n  PaginationOptions,\n} from \"./types\";\nimport { useLatest } from \"./useLatest\";\nimport { showFailureToast } from \"./showFailureToast\";\n\nexport type PromiseOptions<T extends FunctionReturningPromise | FunctionReturningPaginatedPromise> = {\n  /**\n   * A reference to an `AbortController` to cancel a previous call when triggering a new one\n   */\n  abortable?: RefObject<AbortController | null | undefined>;\n  /**\n   * Whether to actually execute the function or not.\n   * This is useful for cases where one of the function's arguments depends on something that\n   * might not be available right away (for example, depends on some user inputs). Because React requires\n   * every hooks to be defined on the render, this flag enables you to define the hook right away but\n   * wait util you have all the arguments ready to execute the function.\n   */\n  execute?: boolean;\n  /**\n   * Options for the generic failure toast.\n   * It allows you to customize the title, message, and primary action of the failure toast.\n   */\n  failureToastOptions?: Partial<Pick<Toast.Options, \"title\" | \"primaryAction\" | \"message\">>;\n  /**\n   * Called when an execution fails. By default it will log the error and show\n   * a generic failure toast.\n   */\n  onError?: (error: Error) => void | Promise<void>;\n  /**\n   * Called when an execution succeeds.\n   */\n  onData?: (data: UnwrapReturn<T>, pagination?: PaginationOptions<UnwrapReturn<T>>) => void | Promise<void>;\n  /**\n   * Called when an execution will start\n   */\n  onWillExecute?: (parameters: Parameters<T>) => void;\n};\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise in another function, and returns the {@link AsyncState} corresponding to the execution of the function.\n *\n * @remark This overload should be used when working with paginated data sources.\n *\n * @example\n * ```\n * import { setTimeout } from \"node:timers/promises\";\n * import { useState } from \"react\";\n * import { List } from \"@raycast/api\";\n * import { usePromise } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const { isLoading, data, pagination } = usePromise(\n *     (searchText: string) => async (options: { page: number }) => {\n *       await setTimeout(200);\n *       const newData = Array.from({ length: 25 }, (_v, index) => ({\n *         index,\n *         page: options.page,\n *         text: searchText,\n *       }));\n *       return { data: newData, hasMore: options.page < 10 };\n *     },\n *     [searchText]\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} onSearchTextChange={setSearchText} pagination={pagination}>\n *       {data?.map((item) => (\n *         <List.Item\n *           key={`${item.page} ${item.index} ${item.text}`}\n *           title={`Page ${item.page} Item ${item.index}`}\n *           subtitle={item.text}\n *         />\n *       ))}\n *     </List>\n *   );\n * };\n * ```\n */\nexport function usePromise<T extends FunctionReturningPaginatedPromise<[]>>(\n  fn: T,\n): UsePromiseReturnType<UnwrapReturn<T>>;\nexport function usePromise<T extends FunctionReturningPaginatedPromise>(\n  fn: T,\n  args: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<UnwrapReturn<T>>;\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise and returns the {@link AsyncState} corresponding to the execution of the function.\n *\n * @remark The function is assumed to be constant (eg. changing it won't trigger a revalidation).\n *\n * @example\n * ```\n * import { usePromise } from '@raycast/utils';\n *\n * export default function Command() {\n *   const abortable = useRef<AbortController>();\n *   const { isLoading, data, revalidate } = usePromise(async (url: string) => {\n *     const response = await fetch(url, { signal: abortable.current?.signal });\n *     const result = await response.text();\n *     return result\n *   },\n *   ['https://api.example'],\n *   {\n *     abortable\n *   });\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function usePromise<T extends FunctionReturningPromise<[]>>(fn: T): UsePromiseReturnType<UnwrapReturn<T>>;\nexport function usePromise<T extends FunctionReturningPromise>(\n  fn: T,\n  args: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<UnwrapReturn<T>>;\n\nexport function usePromise<T extends FunctionReturningPromise | FunctionReturningPaginatedPromise>(\n  fn: T,\n  args?: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<any> {\n  const lastCallId = useRef(0);\n  const [state, set] = useState<AsyncState<UnwrapReturn<T>>>({ isLoading: true });\n\n  const fnRef = useLatest(fn);\n  const latestAbortable = useLatest(options?.abortable);\n  const latestArgs = useLatest(args || []);\n  const latestOnError = useLatest(options?.onError);\n  const latestOnData = useLatest(options?.onData);\n  const latestOnWillExecute = useLatest(options?.onWillExecute);\n  const latestFailureToast = useLatest(options?.failureToastOptions);\n  const latestValue = useLatest(state.data);\n  const latestCallback = useRef<(...args: Parameters<T>) => Promise<UnwrapReturn<T>>>(null);\n\n  const paginationArgsRef = useRef<PaginationOptions>({ page: 0 });\n  const usePaginationRef = useRef(false);\n  const hasMoreRef = useRef(true);\n  const pageSizeRef = useRef(50);\n\n  const abort = useCallback(() => {\n    if (latestAbortable.current) {\n      latestAbortable.current.current?.abort();\n      latestAbortable.current.current = new AbortController();\n    }\n    return ++lastCallId.current;\n  }, [latestAbortable]);\n\n  const callback = useCallback(\n    (...args: Parameters<T>): Promise<UnwrapReturn<T>> => {\n      const callId = abort();\n\n      latestOnWillExecute.current?.(args);\n\n      set((prevState) => ({ ...prevState, isLoading: true }));\n\n      const promiseOrPaginatedPromise = bindPromiseIfNeeded(fnRef.current)(...args);\n\n      function handleError(error: any) {\n        if (error.name == \"AbortError\") {\n          return error;\n        }\n\n        if (callId === lastCallId.current) {\n          // handle errors\n          if (latestOnError.current) {\n            latestOnError.current(error);\n          } else {\n            if (environment.launchType !== LaunchType.Background) {\n              showFailureToast(error, {\n                title: \"Failed to fetch latest data\",\n                primaryAction: {\n                  title: \"Retry\",\n                  onAction(toast) {\n                    toast.hide();\n                    latestCallback.current?.(...((latestArgs.current || []) as Parameters<T>));\n                  },\n                },\n                ...latestFailureToast.current,\n              });\n            }\n          }\n          set({ error, isLoading: false });\n        }\n\n        return error;\n      }\n\n      if (typeof promiseOrPaginatedPromise === \"function\") {\n        usePaginationRef.current = true;\n        return promiseOrPaginatedPromise(paginationArgsRef.current).then(\n          // @ts-expect-error too complicated for TS\n          ({ data, hasMore, cursor }: { data: UnwrapReturn<T>; hasMore: boolean; cursor?: any }) => {\n            if (callId === lastCallId.current) {\n              if (paginationArgsRef.current) {\n                paginationArgsRef.current.cursor = cursor;\n                paginationArgsRef.current.lastItem = data?.[data.length - 1];\n              }\n\n              if (latestOnData.current) {\n                latestOnData.current(data, paginationArgsRef.current);\n              }\n\n              if (hasMore) {\n                pageSizeRef.current = data.length;\n              }\n              hasMoreRef.current = hasMore;\n\n              set((previousData) => {\n                if (paginationArgsRef.current.page === 0) {\n                  return { data, isLoading: false };\n                }\n                // @ts-expect-error we know it's an array here\n                return { data: (previousData.data || [])?.concat(data), isLoading: false };\n              });\n            }\n\n            return data;\n          },\n          (error: unknown) => {\n            hasMoreRef.current = false;\n            return handleError(error);\n          },\n        ) as Promise<UnwrapReturn<T>>;\n      }\n\n      usePaginationRef.current = false;\n      return promiseOrPaginatedPromise.then((data: UnwrapReturn<T>) => {\n        if (callId === lastCallId.current) {\n          if (latestOnData.current) {\n            latestOnData.current(data);\n          }\n          set({ data, isLoading: false });\n        }\n\n        return data;\n      }, handleError) as Promise<UnwrapReturn<T>>;\n    },\n    [\n      latestOnData,\n      latestOnError,\n      latestArgs,\n      fnRef,\n      set,\n      latestCallback,\n      latestOnWillExecute,\n      paginationArgsRef,\n      latestFailureToast,\n      abort,\n    ],\n  );\n\n  latestCallback.current = callback;\n\n  const revalidate = useCallback(() => {\n    // reset the pagination\n    paginationArgsRef.current = { page: 0 };\n\n    const args = (latestArgs.current || []) as Parameters<T>;\n    return callback(...args);\n  }, [callback, latestArgs]);\n\n  const mutate = useCallback<MutatePromise<Awaited<ReturnType<T>>, undefined>>(\n    async (asyncUpdate, options) => {\n      let dataBeforeOptimisticUpdate: Awaited<ReturnType<T>> | undefined;\n      try {\n        if (options?.optimisticUpdate) {\n          // cancel the in-flight request to make sure it won't overwrite the optimistic update\n          abort();\n\n          if (typeof options?.rollbackOnError !== \"function\" && options?.rollbackOnError !== false) {\n            // keep track of the data before the optimistic update,\n            // but only if we need it (eg. only when we want to automatically rollback after)\n            dataBeforeOptimisticUpdate = structuredClone(latestValue.current?.value);\n          }\n          const update = options.optimisticUpdate;\n          set((prevState) => ({ ...prevState, data: update(prevState.data) }));\n        }\n        return await asyncUpdate;\n      } catch (err) {\n        if (typeof options?.rollbackOnError === \"function\") {\n          const update = options.rollbackOnError;\n          set((prevState) => ({ ...prevState, data: update(prevState.data) }));\n        } else if (options?.optimisticUpdate && options?.rollbackOnError !== false) {\n          set((prevState) => ({ ...prevState, data: dataBeforeOptimisticUpdate }));\n        }\n        throw err;\n      } finally {\n        if (options?.shouldRevalidateAfter !== false) {\n          if (environment.launchType === LaunchType.Background || environment.commandMode === \"menu-bar\") {\n            // when in the background or in a menu bar, we are going to await the revalidation\n            // to make sure we get the right data at the end of the mutation\n            await revalidate();\n          } else {\n            revalidate();\n          }\n        }\n      }\n    },\n    [revalidate, latestValue, set, abort],\n  );\n\n  const onLoadMore = useCallback(() => {\n    paginationArgsRef.current.page += 1;\n    const args = (latestArgs.current || []) as Parameters<T>;\n    callback(...args);\n  }, [paginationArgsRef, latestArgs, callback]);\n\n  // revalidate when the args change\n  useEffect(() => {\n    // reset the pagination\n    paginationArgsRef.current = { page: 0 };\n\n    if (options?.execute !== false) {\n      callback(...((args || []) as Parameters<T>));\n    } else {\n      // cancel the previous request if we don't want to execute anymore\n      abort();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [useDeepMemo([args, options?.execute, callback]), latestAbortable, paginationArgsRef]);\n\n  // abort request when unmounting\n  useEffect(() => {\n    return () => {\n      abort();\n    };\n  }, [abort]);\n\n  // we only want to show the loading indicator if the promise is executing\n  const isLoading = options?.execute !== false ? state.isLoading : false;\n\n  // @ts-expect-error loading is has some fixed value in the enum which\n  const stateWithLoadingFixed: AsyncState<Awaited<ReturnType<T>>> = { ...state, isLoading };\n\n  const pagination = usePaginationRef.current\n    ? {\n        pageSize: pageSizeRef.current,\n        hasMore: hasMoreRef.current,\n        onLoadMore,\n      }\n    : undefined;\n\n  return { ...stateWithLoadingFixed, revalidate, mutate, pagination };\n}\n\n/** Bind the fn if it's a Promise method */\nfunction bindPromiseIfNeeded<T>(fn: T): T {\n  if (fn === (Promise.all as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  if (fn === (Promise.race as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  if (fn === (Promise.resolve as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise as any);\n  }\n  if (fn === (Promise.reject as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  return fn;\n}\n", "import { useRef, useMemo } from \"react\";\nimport { dequal } from \"dequal/lite\";\n\n/**\n * @param value the value to be memoized (usually a dependency list)\n * @returns a memoized version of the value as long as it remains deeply equal\n */\nexport function useDeepMemo<T>(value: T) {\n  const ref = useRef<T>(value);\n  const signalRef = useRef<number>(0);\n\n  if (!dequal(value, ref.current)) {\n    ref.current = value;\n    signalRef.current += 1;\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => ref.current, [signalRef.current]);\n}\n", "import { useRef } from \"react\";\n\n/**\n * Returns the latest state.\n *\n * This is mostly useful to get access to the latest value of some props or state inside an asynchronous callback, instead of that value at the time the callback was created from.\n */\nexport function useLatest<T>(value: T): { readonly current: T } {\n  const ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\n", "import * as fs from \"node:fs\";\nimport * as path from \"node:path\";\nimport { Clipboard, environment, open, Toast, showToast } from \"@raycast/api\";\n\n/**\n * Shows a failure Toast for a given Error.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runAppleScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runAppleScript(\n *       `\n *       on run argv\n *         return \"hello, \" & item 1 of argv & \".\"\n *       end run\n *       `,\n *       [\"world\"]\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run AppleScript\" });\n *   }\n * }\n * ```\n */\nexport function showFailureToast(\n  error: unknown,\n  options?: Partial<Pick<Toast.Options, \"title\" | \"primaryAction\" | \"message\">>,\n) {\n  const message = error instanceof Error ? error.message : String(error);\n  return showToast({\n    style: Toast.Style.Failure,\n    title: options?.title ?? \"Something went wrong\",\n    message: options?.message ?? message,\n    primaryAction: options?.primaryAction ?? handleErrorToastAction(error),\n    secondaryAction: options?.primaryAction ? handleErrorToastAction(error) : undefined,\n  });\n}\n\nconst handleErrorToastAction = (error: unknown): Toast.ActionOptions => {\n  let privateExtension = true;\n  let title = \"[Extension Name]...\";\n  let extensionURL = \"\";\n  try {\n    const packageJSON = JSON.parse(fs.readFileSync(path.join(environment.assetsPath, \"..\", \"package.json\"), \"utf8\"));\n    title = `[${packageJSON.title}]...`;\n    extensionURL = `https://raycast.com/${packageJSON.owner || packageJSON.author}/${packageJSON.name}`;\n    if (!packageJSON.owner || packageJSON.access === \"public\") {\n      privateExtension = false;\n    }\n  } catch (err) {\n    // no-op\n  }\n\n  // if it's a private extension, we can't construct the URL to report the error\n  // so we fallback to copying the error to the clipboard\n  const fallback = environment.isDevelopment || privateExtension;\n\n  const stack = error instanceof Error ? error?.stack || error?.message || \"\" : String(error);\n\n  return {\n    title: fallback ? \"Copy Logs\" : \"Report Error\",\n    onAction(toast) {\n      toast.hide();\n      if (fallback) {\n        Clipboard.copy(stack);\n      } else {\n        open(\n          `https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(\n            title,\n          )}&extension-url=${encodeURI(extensionURL)}&description=${encodeURIComponent(\n            `#### Error:\n\\`\\`\\`\n${stack}\n\\`\\`\\`\n`,\n          )}`,\n        );\n      }\n    },\n  };\n};\n", "import { useCallback, Dispatch, SetStateAction, useSyncExternalStore, useMemo } from \"react\";\nimport { Cache } from \"@raycast/api\";\nimport { useLatest } from \"./useLatest\";\nimport { replacer, reviver } from \"./helpers\";\n\nconst rootCache = /* #__PURE__ */ Symbol(\"cache without namespace\");\nconst cacheMap = /* #__PURE__ */ new Map<string | symbol, Cache>();\n\n/**\n * Returns a stateful value, and a function to update it. The value will be kept between command runs.\n *\n * @remark The value needs to be JSON serializable.\n *\n * @param key - The unique identifier of the state. This can be used to share the state across components and/or commands.\n * @param initialState - The initial value of the state if there aren't any in the Cache yet.\n */\nexport function useCachedState<T>(\n  key: string,\n  initialState: T,\n  config?: { cacheNamespace?: string },\n): [T, Dispatch<SetStateAction<T>>];\nexport function useCachedState<T = undefined>(key: string): [T | undefined, Dispatch<SetStateAction<T | undefined>>];\nexport function useCachedState<T>(\n  key: string,\n  initialState?: T,\n  config?: { cacheNamespace?: string },\n): [T, Dispatch<SetStateAction<T>>] {\n  const cacheKey = config?.cacheNamespace || rootCache;\n  const cache =\n    cacheMap.get(cacheKey) || cacheMap.set(cacheKey, new Cache({ namespace: config?.cacheNamespace })).get(cacheKey);\n\n  if (!cache) {\n    throw new Error(\"Missing cache\");\n  }\n\n  const keyRef = useLatest(key);\n  const initialValueRef = useLatest(initialState);\n\n  const cachedState = useSyncExternalStore(cache.subscribe, () => {\n    try {\n      return cache.get(keyRef.current);\n    } catch (error) {\n      console.error(\"Could not get Cache data:\", error);\n      return undefined;\n    }\n  });\n\n  const state = useMemo(() => {\n    if (typeof cachedState !== \"undefined\") {\n      if (cachedState === \"undefined\") {\n        return undefined;\n      }\n      try {\n        return JSON.parse(cachedState, reviver);\n      } catch (err) {\n        // the data got corrupted somehow\n        console.warn(\"The cached data is corrupted\", err);\n        return initialValueRef.current;\n      }\n    } else {\n      return initialValueRef.current;\n    }\n  }, [cachedState, initialValueRef]);\n\n  const stateRef = useLatest(state);\n\n  const setStateAndCache = useCallback(\n    (updater: SetStateAction<T>) => {\n      // @ts-expect-error TS struggles to infer the types as T could potentially be a function\n      const newValue = typeof updater === \"function\" ? updater(stateRef.current) : updater;\n      if (typeof newValue === \"undefined\") {\n        cache.set(keyRef.current, \"undefined\");\n      } else {\n        const stringifiedValue = JSON.stringify(newValue, replacer);\n        cache.set(keyRef.current, stringifiedValue);\n      }\n      return newValue;\n    },\n    [cache, keyRef, stateRef],\n  );\n\n  return [state, setStateAndCache];\n}\n", "import crypto from \"node:crypto\";\nimport { typeHasher } from \"./vendors/type-hasher\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function replacer(this: any, key: string, _value: unknown) {\n  const value = this[key];\n  if (value instanceof Date) {\n    return `__raycast_cached_date__${value.toISOString()}`;\n  }\n  if (Buffer.isBuffer(value)) {\n    return `__raycast_cached_buffer__${value.toString(\"base64\")}`;\n  }\n  return _value;\n}\n\nexport function reviver(_key: string, value: unknown) {\n  if (typeof value === \"string\" && value.startsWith(\"__raycast_cached_date__\")) {\n    return new Date(value.replace(\"__raycast_cached_date__\", \"\"));\n  }\n  if (typeof value === \"string\" && value.startsWith(\"__raycast_cached_buffer__\")) {\n    return Buffer.from(value.replace(\"__raycast_cached_buffer__\", \"\"), \"base64\");\n  }\n  return value;\n}\n\nexport function hash(object: any) {\n  const hashingStream = crypto.createHash(\"sha1\");\n  const hasher = typeHasher(hashingStream);\n  hasher.dispatch(object);\n\n  return hashingStream.digest(\"hex\");\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport crypto from \"node:crypto\";\n\n/** Check if the given function is a native function */\nfunction isNativeFunction(f: any) {\n  if (typeof f !== \"function\") {\n    return false;\n  }\n  const exp = /^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i;\n  return exp.exec(Function.prototype.toString.call(f)) !== null;\n}\n\nfunction hashReplacer(value: any): string {\n  if (value instanceof URLSearchParams) {\n    return value.toString();\n  }\n  return value;\n}\n\nexport function typeHasher(\n  writeTo:\n    | crypto.Hash\n    | {\n        buf: string;\n        write: (b: any) => void;\n        end: (b: any) => void;\n        read: () => string;\n      },\n  context: any[] = [],\n) {\n  function write(str: string) {\n    if (\"update\" in writeTo) {\n      return writeTo.update(str, \"utf8\");\n    } else {\n      return writeTo.write(str);\n    }\n  }\n\n  return {\n    dispatch: function (value: any) {\n      value = hashReplacer(value);\n\n      const type = typeof value;\n      if (value === null) {\n        this[\"_null\"]();\n      } else {\n        // @ts-ignore\n        this[\"_\" + type](value);\n      }\n    },\n    _object: function (object: any) {\n      const pattern = /\\[object (.*)\\]/i;\n      const objString = Object.prototype.toString.call(object);\n      let objType = pattern.exec(objString)?.[1] ?? \"unknown:[\" + objString + \"]\";\n      objType = objType.toLowerCase();\n\n      let objectNumber = null as any;\n\n      if ((objectNumber = context.indexOf(object)) >= 0) {\n        this.dispatch(\"[CIRCULAR:\" + objectNumber + \"]\");\n        return;\n      } else {\n        context.push(object);\n      }\n\n      if (Buffer.isBuffer(object)) {\n        write(\"buffer:\");\n        return write(object.toString(\"utf8\"));\n      }\n\n      if (objType !== \"object\" && objType !== \"function\" && objType !== \"asyncfunction\") {\n        // @ts-ignore\n        if (this[\"_\" + objType]) {\n          // @ts-ignore\n          this[\"_\" + objType](object);\n        } else {\n          throw new Error('Unknown object type \"' + objType + '\"');\n        }\n      } else {\n        let keys = Object.keys(object);\n        keys = keys.sort();\n        // Make sure to incorporate special properties, so\n        // Types with different prototypes will produce\n        // a different hash and objects derived from\n        // different functions (`new Foo`, `new Bar`) will\n        // produce different hashes.\n        // We never do this for native functions since some\n        // seem to break because of that.\n        if (!isNativeFunction(object)) {\n          keys.splice(0, 0, \"prototype\", \"__proto__\", \"constructor\");\n        }\n\n        write(\"object:\" + keys.length + \":\");\n        const self = this;\n        return keys.forEach(function (key) {\n          self.dispatch(key);\n          write(\":\");\n          self.dispatch(object[key]);\n          write(\",\");\n        });\n      }\n    },\n    _array: function (arr: any[], unordered: boolean) {\n      unordered = typeof unordered !== \"undefined\" ? unordered : false; // default to options.unorderedArrays\n\n      const self = this;\n      write(\"array:\" + arr.length + \":\");\n      if (!unordered || arr.length <= 1) {\n        arr.forEach(function (entry: any) {\n          self.dispatch(entry);\n        });\n        return;\n      }\n\n      // the unordered case is a little more complicated:\n      // since there is no canonical ordering on objects,\n      // i.e. {a:1} < {a:2} and {a:1} > {a:2} are both false,\n      // we first serialize each entry using a PassThrough stream\n      // before sorting.\n      // also: we cant use the same context array for all entries\n      // since the order of hashing should *not* matter. instead,\n      // we keep track of the additions to a copy of the context array\n      // and add all of them to the global context array when were done\n      let contextAdditions: any[] = [];\n      const entries = arr.map(function (entry: any) {\n        const strm = PassThrough();\n        const localContext = context.slice(); // make copy\n        const hasher = typeHasher(strm, localContext);\n        hasher.dispatch(entry);\n        // take only what was added to localContext and append it to contextAdditions\n        contextAdditions = contextAdditions.concat(localContext.slice(context.length));\n        return strm.read().toString();\n      });\n      context = context.concat(contextAdditions);\n      entries.sort();\n      this._array(entries, false);\n    },\n    _date: function (date: Date) {\n      write(\"date:\" + date.toJSON());\n    },\n    _symbol: function (sym: symbol) {\n      write(\"symbol:\" + sym.toString());\n    },\n    _error: function (err: Error) {\n      write(\"error:\" + err.toString());\n    },\n    _boolean: function (bool: boolean) {\n      write(\"bool:\" + bool.toString());\n    },\n    _string: function (string: string) {\n      write(\"string:\" + string.length + \":\");\n      write(string.toString());\n    },\n    _function: function (fn: any) {\n      write(\"fn:\");\n      if (isNativeFunction(fn)) {\n        this.dispatch(\"[native]\");\n      } else {\n        this.dispatch(fn.toString());\n      }\n\n      // Make sure we can still distinguish native functions\n      // by their name, otherwise String and Function will\n      // have the same hash\n      this.dispatch(\"function-name:\" + String(fn.name));\n\n      this._object(fn);\n    },\n    _number: function (number: number) {\n      write(\"number:\" + number.toString());\n    },\n    _xml: function (xml: any) {\n      write(\"xml:\" + xml.toString());\n    },\n    _null: function () {\n      write(\"Null\");\n    },\n    _undefined: function () {\n      write(\"Undefined\");\n    },\n    _regexp: function (regex: RegExp) {\n      write(\"regex:\" + regex.toString());\n    },\n    _uint8array: function (arr: Uint8Array) {\n      write(\"uint8array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint8clampedarray: function (arr: Uint8ClampedArray) {\n      write(\"uint8clampedarray:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int8array: function (arr: Int8Array) {\n      write(\"int8array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint16array: function (arr: Uint16Array) {\n      write(\"uint16array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int16array: function (arr: Int16Array) {\n      write(\"int16array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint32array: function (arr: Uint32Array) {\n      write(\"uint32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int32array: function (arr: Int32Array) {\n      write(\"int32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float32array: function (arr: Float32Array) {\n      write(\"float32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float64array: function (arr: Float64Array) {\n      write(\"float64array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _arraybuffer: function (arr: ArrayBuffer) {\n      write(\"arraybuffer:\");\n      this.dispatch(new Uint8Array(arr));\n    },\n    _url: function (url: URL) {\n      write(\"url:\" + url.toString());\n    },\n    _map: function (map: Map<any, any>) {\n      write(\"map:\");\n      const arr = Array.from(map);\n      this._array(arr, true);\n    },\n    _set: function (set: Set<any>) {\n      write(\"set:\");\n      const arr = Array.from(set);\n      this._array(arr, true);\n    },\n    _file: function (file: any) {\n      write(\"file:\");\n      this.dispatch([file.name, file.size, file.type, file.lastModified]);\n    },\n    _blob: function () {\n      throw Error(\n        \"Hashing Blob objects is currently not supported\\n\" +\n          \"(see https://github.com/puleos/object-hash/issues/26)\\n\" +\n          'Use \"options.replacer\" or \"options.ignoreUnknown\"\\n',\n      );\n    },\n    _domwindow: function () {\n      write(\"domwindow\");\n    },\n    _bigint: function (number: bigint) {\n      write(\"bigint:\" + number.toString());\n    },\n    /* Node.js standard native objects */\n    _process: function () {\n      write(\"process\");\n    },\n    _timer: function () {\n      write(\"timer\");\n    },\n    _pipe: function () {\n      write(\"pipe\");\n    },\n    _tcp: function () {\n      write(\"tcp\");\n    },\n    _udp: function () {\n      write(\"udp\");\n    },\n    _tty: function () {\n      write(\"tty\");\n    },\n    _statwatcher: function () {\n      write(\"statwatcher\");\n    },\n    _securecontext: function () {\n      write(\"securecontext\");\n    },\n    _connection: function () {\n      write(\"connection\");\n    },\n    _zlib: function () {\n      write(\"zlib\");\n    },\n    _context: function () {\n      write(\"context\");\n    },\n    _nodescript: function () {\n      write(\"nodescript\");\n    },\n    _httpparser: function () {\n      write(\"httpparser\");\n    },\n    _dataview: function () {\n      write(\"dataview\");\n    },\n    _signal: function () {\n      write(\"signal\");\n    },\n    _fsevent: function () {\n      write(\"fsevent\");\n    },\n    _tlswrap: function () {\n      write(\"tlswrap\");\n    },\n  };\n}\n\n// Mini-implementation of stream.PassThrough\n// We are far from having need for the full implementation, and we can\n// make assumptions like \"many writes, then only one final read\"\n// and we can ignore encoding specifics\nfunction PassThrough() {\n  return {\n    buf: \"\",\n\n    write: function (b: string) {\n      this.buf += b;\n    },\n\n    end: function (b: string) {\n      this.buf += b;\n    },\n\n    read: function () {\n      return this.buf;\n    },\n  };\n}\n", "import { useEffect, useRef, useCallback } from \"react\";\nimport {\n  FunctionReturningPromise,\n  UseCachedPromiseReturnType,\n  MutatePromise,\n  FunctionReturningPaginatedPromise,\n  UnwrapReturn,\n  PaginationOptions,\n} from \"./types\";\nimport { useCachedState } from \"./useCachedState\";\nimport { usePromise, PromiseOptions } from \"./usePromise\";\nimport { useLatest } from \"./useLatest\";\nimport { hash } from \"./helpers\";\n\n// Symbol to differentiate an empty cache from `undefined`\nconst emptyCache = /* #__PURE__ */ Symbol();\n\nexport type CachedPromiseOptions<\n  T extends FunctionReturningPromise | FunctionReturningPaginatedPromise,\n  U,\n> = PromiseOptions<T> & {\n  /**\n   * The initial data if there aren't any in the Cache yet.\n   */\n  initialData?: U;\n  /**\n   * Tells the hook to keep the previous results instead of returning the initial value\n   * if there aren't any in the cache for the new arguments.\n   * This is particularly useful when used for data for a List to avoid flickering.\n   */\n  keepPreviousData?: boolean;\n};\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise in another function, and returns the {@link AsyncState} corresponding to the execution of the function. The last value will be kept between command runs.\n *\n * @remark This overload should be used when working with paginated data sources.\n * @remark When paginating, only the first page will be cached.\n *\n * @example\n * ```\n * import { setTimeout } from \"node:timers/promises\";\n * import { useState } from \"react\";\n * import { List } from \"@raycast/api\";\n * import { useCachedPromise } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const { isLoading, data, pagination } = useCachedPromise(\n *     (searchText: string) => async (options: { page: number }) => {\n *       await setTimeout(200);\n *       const newData = Array.from({ length: 25 }, (_v, index) => ({\n *         index,\n *         page: options.page,\n *         text: searchText,\n *       }));\n *       return { data: newData, hasMore: options.page < 10 };\n *     },\n *     [searchText],\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} onSearchTextChange={setSearchText} pagination={pagination}>\n *       {data?.map((item) => (\n *         <List.Item\n *           key={`${item.page} ${item.index} ${item.text}`}\n *           title={`Page ${item.page} Item ${item.index}`}\n *           subtitle={item.text}\n *         />\n *       ))}\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useCachedPromise<T extends FunctionReturningPaginatedPromise<[]>>(\n  fn: T,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, undefined>;\nexport function useCachedPromise<T extends FunctionReturningPaginatedPromise, U extends any[] = any[]>(\n  fn: T,\n  args: Parameters<T>,\n  options?: CachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, U>;\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise and returns the {@link AsyncState} corresponding to the execution of the function. The last value will be kept between command runs.\n *\n * @remark The value needs to be JSON serializable.\n * @remark The function is assumed to be constant (eg. changing it won't trigger a revalidation).\n *\n * @example\n * ```\n * import { useCachedPromise } from '@raycast/utils';\n *\n * export default function Command() {\n *   const abortable = useRef<AbortController>();\n *   const { isLoading, data, revalidate } = useCachedPromise(async (url: string) => {\n *     const response = await fetch(url, { signal: abortable.current?.signal });\n *     const result = await response.text();\n *     return result\n *   },\n *   ['https://api.example'],\n *   {\n *     abortable\n *   });\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function useCachedPromise<T extends FunctionReturningPromise<[]>>(\n  fn: T,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, undefined>;\nexport function useCachedPromise<T extends FunctionReturningPromise, U = undefined>(\n  fn: T,\n  args: Parameters<T>,\n  options?: CachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, U>;\n\nexport function useCachedPromise<\n  T extends FunctionReturningPromise | FunctionReturningPaginatedPromise,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  U extends any[] | undefined = undefined,\n>(fn: T, args?: Parameters<T>, options?: CachedPromiseOptions<T, U>) {\n  /**\n   * The hook generates a cache key from the promise it receives & its arguments.\n   * Sometimes that's not enough to guarantee uniqueness, so hooks that build on top of `useCachedPromise` can\n   * use an `internal_cacheKeySuffix` to help it.\n   *\n   * @remark For internal use only.\n   */\n  const {\n    initialData,\n    keepPreviousData,\n    internal_cacheKeySuffix,\n    ...usePromiseOptions\n  }: CachedPromiseOptions<T, U> & { internal_cacheKeySuffix?: string } = options || {};\n  const lastUpdateFrom = useRef<\"cache\" | \"promise\">(null);\n\n  const [cachedData, mutateCache] = useCachedState<typeof emptyCache | (UnwrapReturn<T> | U)>(\n    hash(args || []) + internal_cacheKeySuffix,\n    emptyCache,\n    {\n      cacheNamespace: hash(fn),\n    },\n  );\n\n  // Use a ref to store previous returned data. Use the inital data as its inital value from the cache.\n  const laggyDataRef = useRef<Awaited<ReturnType<T>> | U>(cachedData !== emptyCache ? cachedData : (initialData as U));\n  const paginationArgsRef = useRef<PaginationOptions<UnwrapReturn<T> | U> | undefined>(undefined);\n\n  const {\n    mutate: _mutate,\n    revalidate,\n    ...state\n    // @ts-expect-error fn has the same signature in both usePromise and useCachedPromise\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  } = usePromise(fn, args || ([] as any as Parameters<T>), {\n    ...usePromiseOptions,\n    onData(data, pagination) {\n      paginationArgsRef.current = pagination;\n      if (usePromiseOptions.onData) {\n        usePromiseOptions.onData(data, pagination);\n      }\n      if (pagination && pagination.page > 0) {\n        // don't cache beyond the first page\n        return;\n      }\n      lastUpdateFrom.current = \"promise\";\n      laggyDataRef.current = data;\n      mutateCache(data);\n    },\n  });\n\n  let returnedData: U | Awaited<ReturnType<T>> | UnwrapReturn<T>;\n  const pagination = state.pagination;\n  // when paginating, only the first page gets cached, so we return the data we get from `usePromise`, because\n  // it will be accumulated.\n  if (paginationArgsRef.current && paginationArgsRef.current.page > 0 && state.data) {\n    returnedData = state.data as UnwrapReturn<T>;\n    // if the latest update if from the Promise, we keep it\n  } else if (lastUpdateFrom.current === \"promise\") {\n    returnedData = laggyDataRef.current;\n  } else if (keepPreviousData && cachedData !== emptyCache) {\n    // if we want to keep the latest data, we pick the cache but only if it's not empty\n    returnedData = cachedData;\n    if (pagination) {\n      pagination.hasMore = true;\n      pagination.pageSize = cachedData.length;\n    }\n  } else if (keepPreviousData && cachedData === emptyCache) {\n    // if the cache is empty, we will return the previous data\n    returnedData = laggyDataRef.current;\n    // there are no special cases, so either return the cache or initial data\n  } else if (cachedData !== emptyCache) {\n    returnedData = cachedData;\n    if (pagination) {\n      pagination.hasMore = true;\n      pagination.pageSize = cachedData.length;\n    }\n  } else {\n    returnedData = initialData as U;\n  }\n\n  const latestData = useLatest(returnedData);\n\n  // we rewrite the mutate function to update the cache instead\n  const mutate = useCallback<MutatePromise<Awaited<ReturnType<T>> | U>>(\n    async (asyncUpdate, options) => {\n      let dataBeforeOptimisticUpdate;\n      try {\n        if (options?.optimisticUpdate) {\n          if (typeof options?.rollbackOnError !== \"function\" && options?.rollbackOnError !== false) {\n            // keep track of the data before the optimistic update,\n            // but only if we need it (eg. only when we want to automatically rollback after)\n            dataBeforeOptimisticUpdate = structuredClone(latestData.current);\n          }\n          const data = options.optimisticUpdate(latestData.current);\n          lastUpdateFrom.current = \"cache\";\n          laggyDataRef.current = data;\n          mutateCache(data);\n        }\n        return await _mutate(asyncUpdate, { shouldRevalidateAfter: options?.shouldRevalidateAfter });\n      } catch (err) {\n        if (typeof options?.rollbackOnError === \"function\") {\n          const data = options.rollbackOnError(latestData.current);\n          lastUpdateFrom.current = \"cache\";\n          laggyDataRef.current = data;\n          mutateCache(data);\n        } else if (options?.optimisticUpdate && options?.rollbackOnError !== false) {\n          lastUpdateFrom.current = \"cache\";\n          // @ts-expect-error when undefined, it's expected\n          laggyDataRef.current = dataBeforeOptimisticUpdate;\n          // @ts-expect-error when undefined, it's expected\n          mutateCache(dataBeforeOptimisticUpdate);\n        }\n        throw err;\n      }\n    },\n    [mutateCache, _mutate, latestData, laggyDataRef, lastUpdateFrom],\n  );\n\n  useEffect(() => {\n    if (cachedData !== emptyCache) {\n      lastUpdateFrom.current = \"cache\";\n      laggyDataRef.current = cachedData;\n    }\n  }, [cachedData]);\n\n  return {\n    data: returnedData,\n    isLoading: state.isLoading,\n    error: state.error,\n    mutate: paginationArgsRef.current && paginationArgsRef.current.page > 0 ? _mutate : mutate,\n    pagination,\n    revalidate,\n  };\n}\n", "import { useCallback, useMemo, useRef } from \"react\";\nimport { useCachedPromise, CachedPromiseOptions } from \"./useCachedPromise\";\nimport { useLatest } from \"./useLatest\";\nimport { FunctionReturningPaginatedPromise, FunctionReturningPromise, UseCachedPromiseReturnType } from \"./types\";\nimport { isJSON } from \"./fetch-utils\";\nimport { hash } from \"./helpers\";\n\nasync function defaultParsing(response: Response) {\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n\n  const contentTypeHeader = response.headers.get(\"content-type\");\n\n  if (contentTypeHeader && isJSON(contentTypeHeader)) {\n    return await response.json();\n  }\n  return await response.text();\n}\n\nfunction defaultMapping<V, T extends unknown[]>(result: V): { data: T; hasMore?: boolean; cursor?: any } {\n  return { data: result as unknown as T, hasMore: false };\n}\n\ntype RequestInfo = string | URL | globalThis.Request;\ntype PaginatedRequestInfo = (pagination: { page: number; lastItem?: any; cursor?: any }) => RequestInfo;\n\n/**\n * Fetches the paginatedURL and returns the {@link AsyncState} corresponding to the execution of the fetch. The last value will be kept between command runs.\n *\n * @remark This overload should be used when working with paginated data sources.\n * @remark When paginating, only the first page will be cached.\n *\n * @example\n * ```\n * import { Icon, Image, List } from \"@raycast/api\";\n * import { useFetch } from \"@raycast/utils\";\n * import { useState } from \"react\";\n *\n * type SearchResult = { companies: Company[]; page: number; totalPages: number };\n * type Company = { id: number; name: string; smallLogoUrl?: string };\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *   const { isLoading, data, pagination } = useFetch(\n *     (options) =>\n *       \"https://api.ycombinator.com/v0.1/companies?\" +\n *       new URLSearchParams({ page: String(options.page + 1), q: searchText }).toString(),\n *     {\n *       mapResult(result: SearchResult) {\n *         return {\n *           data: result.companies,\n *           hasMore: result.page < result.totalPages,\n *         };\n *       },\n *       keepPreviousData: true,\n *       initialData: [],\n *     },\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       {data.map((company) => (\n *         <List.Item\n *           key={company.id}\n *           icon={{ source: company.smallLogoUrl ?? Icon.MinusCircle, mask: Image.Mask.RoundedRectangle }}\n *           title={company.name}\n *         />\n *       ))}\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useFetch<V = unknown, U = undefined, T extends unknown[] = unknown[]>(\n  url: PaginatedRequestInfo,\n  options: RequestInit & {\n    mapResult: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U>;\n/**\n * Fetch the URL and returns the {@link AsyncState} corresponding to the execution of the fetch. The last value will be kept between command runs.\n *\n * @example\n * ```\n * import { useFetch } from '@raycast/utils';\n *\n * export default function Command() {\n *   const { isLoading, data, revalidate } = useFetch('https://api.example');\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function useFetch<V = unknown, U = undefined, T = V>(\n  url: RequestInfo,\n  options?: RequestInit & {\n    mapResult?: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U> & { pagination: undefined };\n\nexport function useFetch<V = unknown, U = undefined, T extends unknown[] = unknown[]>(\n  url: RequestInfo | PaginatedRequestInfo,\n  options?: RequestInit & {\n    mapResult?: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U> {\n  const {\n    parseResponse,\n    mapResult,\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n    ...fetchOptions\n  } = options || {};\n\n  const useCachedPromiseOptions: CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const parseResponseRef = useLatest(parseResponse || defaultParsing);\n  const mapResultRef = useLatest(mapResult || defaultMapping);\n  const urlRef = useRef<RequestInfo | PaginatedRequestInfo>(null);\n  const firstPageUrlRef = useRef<RequestInfo | undefined>(null);\n  const firstPageUrl = typeof url === \"function\" ? url({ page: 0 }) : undefined;\n  /**\n   * When paginating, `url` is a `PaginatedRequestInfo`, so we only want to update the ref when the `firstPageUrl` changes.\n   * When not paginating, `url` is a `RequestInfo`, so we want to update the ref whenever `url` changes.\n   */\n  if (!urlRef.current || typeof firstPageUrlRef.current === \"undefined\" || firstPageUrlRef.current !== firstPageUrl) {\n    urlRef.current = url;\n  }\n  firstPageUrlRef.current = firstPageUrl;\n  const abortable = useRef<AbortController>(null);\n\n  const paginatedFn: FunctionReturningPaginatedPromise<[PaginatedRequestInfo, typeof fetchOptions], T> = useCallback(\n    (url: PaginatedRequestInfo, options?: RequestInit) => async (pagination: { page: number }) => {\n      const res = await fetch(url(pagination), { signal: abortable.current?.signal, ...options });\n      const parsed = (await parseResponseRef.current(res)) as V;\n      return mapResultRef.current?.(parsed);\n    },\n    [parseResponseRef, mapResultRef],\n  );\n  const fn: FunctionReturningPromise<[RequestInfo, RequestInit?], T> = useCallback(\n    async (url: RequestInfo, options?: RequestInit) => {\n      const res = await fetch(url, { signal: abortable.current?.signal, ...options });\n      const parsed = (await parseResponseRef.current(res)) as V;\n      const mapped = mapResultRef.current(parsed);\n      return mapped?.data as unknown as T;\n    },\n    [parseResponseRef, mapResultRef],\n  );\n\n  const promise = useMemo(() => {\n    if (firstPageUrlRef.current) {\n      return paginatedFn;\n    }\n    return fn;\n  }, [firstPageUrlRef, fn, paginatedFn]);\n\n  // @ts-expect-error lastItem can't be inferred properly\n  return useCachedPromise(promise, [urlRef.current as PaginatedRequestInfo, fetchOptions], {\n    ...useCachedPromiseOptions,\n    internal_cacheKeySuffix: firstPageUrlRef.current + hash(mapResultRef.current) + hash(parseResponseRef.current),\n    abortable,\n  });\n}\n", "export function isJSON(contentTypeHeader: string | null | undefined): boolean {\n  if (contentTypeHeader) {\n    const mediaType = parseContentType(contentTypeHeader);\n\n    if (!mediaType) {\n      return false;\n    }\n\n    if (mediaType.subtype === \"json\") {\n      return true;\n    }\n\n    if (mediaType.suffix === \"json\") {\n      return true;\n    }\n\n    if (mediaType.suffix && /\\bjson\\b/i.test(mediaType.suffix)) {\n      return true;\n    }\n\n    if (mediaType.subtype && /\\bjson\\b/i.test(mediaType.subtype)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * RegExp to match type in RFC 6838 with an optional trailing `;` because some Apple APIs returns one...\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nconst MEDIA_TYPE_REGEXP = /^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;\n\nfunction parseContentType(header: string) {\n  const headerDelimitationindex = header.indexOf(\";\");\n  const contentType = headerDelimitationindex !== -1 ? header.slice(0, headerDelimitationindex).trim() : header.trim();\n\n  const match = MEDIA_TYPE_REGEXP.exec(contentType.toLowerCase().toLowerCase());\n\n  if (!match) {\n    return;\n  }\n\n  const type = match[1];\n  let subtype = match[2];\n  let suffix;\n\n  // suffix after last +\n  const index = subtype.lastIndexOf(\"+\");\n  if (index !== -1) {\n    suffix = subtype.substring(index + 1);\n    subtype = subtype.substring(0, index);\n  }\n\n  return { type, subtype, suffix };\n}\n", "/*\n * Inspired by Execa\n */\n\nimport childProcess from \"node:child_process\";\nimport { useCallback, useRef } from \"react\";\n\nimport { useCachedPromise, CachedPromiseOptions } from \"./useCachedPromise\";\nimport { useLatest } from \"./useLatest\";\nimport { UseCachedPromiseReturnType } from \"./types\";\nimport {\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  defaultParsing,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype ExecOptions = {\n  /**\n   * If `true`, runs the command inside of a shell. Uses `/bin/sh`. A different shell can be specified as a string. The shell should understand the `-c` switch.\n   *\n   * We recommend against using this option since it is:\n   * - not cross-platform, encouraging shell-specific syntax.\n   * - slower, because of the additional shell interpretation.\n   * - unsafe, potentially allowing command injection.\n   *\n   * @default false\n   */\n  shell?: boolean | string;\n  /**\n   * Strip the final newline character from the output.\n   * @default true\n   */\n  stripFinalNewline?: boolean;\n  /**\n   * Current working directory of the child process.\n   * @default process.cwd()\n   */\n  cwd?: string;\n  /**\n   * Environment key-value pairs. Extends automatically from `process.env`.\n   * @default process.env\n   */\n  env?: NodeJS.ProcessEnv;\n  /**\n   * Specify the character encoding used to decode the stdout and stderr output. If set to `\"buffer\"`, then stdout and stderr will be a Buffer instead of a string.\n   *\n   * @default \"utf8\"\n   */\n  encoding?: BufferEncoding | \"buffer\";\n  /**\n   * Write some input to the `stdin` of your binary.\n   */\n  input?: string | Buffer;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\nconst SPACES_REGEXP = / +/g;\nfunction parseCommand(command: string, args?: string[]) {\n  if (args) {\n    return [command, ...args];\n  }\n  const tokens: string[] = [];\n  for (const token of command.trim().split(SPACES_REGEXP)) {\n    // Allow spaces to be escaped by a backslash if not meant as a delimiter\n    const previousToken = tokens[tokens.length - 1];\n    if (previousToken && previousToken.endsWith(\"\\\\\")) {\n      // Merge previous token with current one\n      tokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n    } else {\n      tokens.push(token);\n    }\n  }\n\n  return tokens;\n}\n\ntype ExecCachedPromiseOptions<T, U> = Omit<\n  CachedPromiseOptions<\n    (_command: string, _args: string[], _options?: ExecOptions, input?: string | Buffer) => Promise<T>,\n    U\n  >,\n  \"abortable\"\n>;\n\n/**\n * Executes a command and returns the {@link AsyncState} corresponding to the execution of the command. The last value will be kept between command runs.\n *\n * @remark When specifying the arguments via the `command` string, if the file or an argument of the command contains spaces, they must be escaped with backslashes. This matters especially if `command` is not a constant but a variable, for example with `__dirname` or `process.cwd()`. Except for spaces, no escaping/quoting is needed.\n *\n * The `shell` option must be used if the command uses shell-specific features (for example, `&&` or `||`), as opposed to being a simple file followed by its arguments.\n *\n * @example\n * ```\n * import { useExec } from '@raycast/utils';\n *\n * export default function Command() {\n *   const { isLoading, data, revalidate } = useExec(\"brew\", [\"info\", \"--json=v2\", \"--installed\"]);\n *   const results = useMemo<{}[]>(() => JSON.parse(data || \"[]\"), [data]);\n *\n *   return (\n *     <List isLoading={isLoading}>\n *      {(data || []).map((item) => (\n *        <List.Item key={item.id} title={item.name} />\n *      ))}\n *    </List>\n *   );\n * };\n * ```\n */\nexport function useExec<T = Buffer, U = undefined>(\n  command: string,\n  options: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions>;\n  } & ExecOptions & {\n      encoding: \"buffer\";\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = string, U = undefined>(\n  command: string,\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions & {\n      encoding?: BufferEncoding;\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = Buffer, U = undefined>(\n  file: string,\n  /**\n   * The arguments to pass to the file. No escaping/quoting is needed.\n   *\n   * If defined, the commands needs to be a file to execute. If undefined, the arguments will be parsed from the command.\n   */\n  args: string[],\n  options: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions>;\n  } & ExecOptions & {\n      encoding: \"buffer\";\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = string, U = undefined>(\n  file: string,\n  /**\n   * The arguments to pass to the file. No escaping/quoting is needed.\n   *\n   * If defined, the commands needs to be a file to execute. If undefined, the arguments will be parsed from the command.\n   */\n  args: string[],\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions & {\n      encoding?: BufferEncoding;\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T, U = undefined>(\n  command: string,\n  optionsOrArgs?:\n    | string[]\n    | ({\n        parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions> | ParseExecOutputHandler<T, string, ExecOptions>;\n      } & ExecOptions &\n        ExecCachedPromiseOptions<T, U>),\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions> | ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions &\n    ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U> {\n  const {\n    parseOutput,\n    input,\n    onData,\n    onWillExecute,\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    failureToastOptions,\n    ...execOptions\n  } = Array.isArray(optionsOrArgs) ? options || {} : optionsOrArgs || {};\n\n  const useCachedPromiseOptions: ExecCachedPromiseOptions<T, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const abortable = useRef<AbortController>(null);\n  const parseOutputRef = useLatest(parseOutput || defaultParsing);\n\n  const fn = useCallback(\n    async (_command: string, _args: string[], _options?: ExecOptions, input?: string | Buffer) => {\n      const [file, ...args] = parseCommand(_command, _args);\n      const command = [file, ...args].join(\" \");\n\n      const options = {\n        stripFinalNewline: true,\n        ..._options,\n        timeout: _options?.timeout || 10000,\n        signal: abortable.current?.signal,\n        encoding: _options?.encoding === null ? \"buffer\" : _options?.encoding || \"utf8\",\n        env: { PATH: \"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\", ...process.env, ..._options?.env },\n      };\n\n      const spawned = childProcess.spawn(file, args, options);\n      const spawnedPromise = getSpawnedPromise(spawned, options);\n\n      if (input) {\n        spawned.stdin.end(input);\n      }\n\n      const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult(\n        spawned,\n        options,\n        spawnedPromise,\n      );\n      const stdout = handleOutput(options, stdoutResult);\n      const stderr = handleOutput(options, stderrResult);\n\n      return parseOutputRef.current({\n        // @ts-expect-error too many generics, I give up\n        stdout,\n        // @ts-expect-error too many generics, I give up\n        stderr,\n        error,\n        exitCode,\n        signal,\n        timedOut,\n        command,\n        options,\n        parentError: new Error(),\n      }) as T;\n    },\n    [parseOutputRef],\n  );\n\n  // @ts-expect-error T can't be a Promise so it's actually the same\n  return useCachedPromise(fn, [command, Array.isArray(optionsOrArgs) ? optionsOrArgs : [], execOptions, input], {\n    ...useCachedPromiseOptions,\n    abortable,\n  });\n}\n", "import childProcess from \"node:child_process\";\nimport { constants as BufferConstants } from \"node:buffer\";\nimport Stream from \"node:stream\";\nimport { promisify } from \"node:util\";\nimport { onExit } from \"./vendors/signal-exit\";\n\nexport type SpawnedPromise = Promise<{\n  exitCode: number | null;\n  error?: Error;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n}>;\n\nexport function getSpawnedPromise(\n  spawned: childProcess.ChildProcessWithoutNullStreams,\n  { timeout }: { timeout?: number } = {},\n): SpawnedPromise {\n  const spawnedPromise: SpawnedPromise = new Promise((resolve, reject) => {\n    spawned.on(\"exit\", (exitCode, signal) => {\n      resolve({ exitCode, signal, timedOut: false });\n    });\n\n    spawned.on(\"error\", (error) => {\n      reject(error);\n    });\n\n    if (spawned.stdin) {\n      spawned.stdin.on(\"error\", (error) => {\n        reject(error);\n      });\n    }\n  });\n\n  const removeExitHandler = onExit(() => {\n    spawned.kill();\n  });\n\n  if (timeout === 0 || timeout === undefined) {\n    return spawnedPromise.finally(() => removeExitHandler());\n  }\n\n  let timeoutId: NodeJS.Timeout;\n  const timeoutPromise: SpawnedPromise = new Promise((_resolve, reject) => {\n    timeoutId = setTimeout(() => {\n      spawned.kill(\"SIGTERM\");\n      reject(Object.assign(new Error(\"Timed out\"), { timedOut: true, signal: \"SIGTERM\" }));\n    }, timeout);\n  });\n\n  const safeSpawnedPromise = spawnedPromise.finally(() => {\n    clearTimeout(timeoutId);\n  });\n\n  return Promise.race([timeoutPromise, safeSpawnedPromise]).finally(() => removeExitHandler());\n}\n\nclass MaxBufferError extends Error {\n  constructor() {\n    super(\"The output is too big\");\n    this.name = \"MaxBufferError\";\n  }\n}\n\nfunction bufferStream<T extends string | Buffer>(options: { encoding: BufferEncoding | \"buffer\" }) {\n  const { encoding } = options;\n  const isBuffer = encoding === \"buffer\";\n\n  // @ts-expect-error missing the methods we are adding below\n  const stream: Stream.PassThrough & { getBufferedValue: () => T; getBufferedLength: () => number } =\n    new Stream.PassThrough({ objectMode: false });\n\n  if (encoding && encoding !== \"buffer\") {\n    stream.setEncoding(encoding);\n  }\n\n  let length = 0;\n  const chunks: any[] = [];\n\n  stream.on(\"data\", (chunk) => {\n    chunks.push(chunk);\n\n    length += chunk.length;\n  });\n\n  stream.getBufferedValue = () => {\n    return (isBuffer ? Buffer.concat(chunks, length) : chunks.join(\"\")) as T;\n  };\n\n  stream.getBufferedLength = () => length;\n\n  return stream;\n}\n\nasync function getStream<T extends string | Buffer>(\n  inputStream: Stream.Readable,\n  options: { encoding: BufferEncoding | \"buffer\" },\n) {\n  const stream = bufferStream<T>(options);\n\n  await new Promise<void>((resolve, reject) => {\n    const rejectPromise = (error: Error & { bufferedData?: T }) => {\n      // Don't retrieve an oversized buffer.\n      if (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n        error.bufferedData = stream.getBufferedValue();\n      }\n\n      reject(error);\n    };\n\n    (async () => {\n      try {\n        await promisify(Stream.pipeline)(inputStream, stream);\n        resolve();\n      } catch (error) {\n        rejectPromise(error as any);\n      }\n    })();\n\n    stream.on(\"data\", () => {\n      // 80mb\n      if (stream.getBufferedLength() > 1000 * 1000 * 80) {\n        rejectPromise(new MaxBufferError());\n      }\n    });\n  });\n\n  return stream.getBufferedValue();\n}\n\n// On failure, `result.stdout|stderr` should contain the currently buffered stream\nasync function getBufferedData<T extends string | Buffer>(stream: Stream.Readable, streamPromise: Promise<T>) {\n  stream.destroy();\n\n  try {\n    return await streamPromise;\n  } catch (error) {\n    return (error as any as { bufferedData: T }).bufferedData;\n  }\n}\n\nexport async function getSpawnedResult<T extends string | Buffer>(\n  { stdout, stderr }: childProcess.ChildProcessWithoutNullStreams,\n  { encoding }: { encoding: BufferEncoding | \"buffer\" },\n  processDone: SpawnedPromise,\n) {\n  const stdoutPromise = getStream<T>(stdout, { encoding });\n  const stderrPromise = getStream<T>(stderr, { encoding });\n\n  try {\n    return await Promise.all([processDone, stdoutPromise, stderrPromise]);\n  } catch (error: any) {\n    return Promise.all([\n      {\n        error: error as Error,\n        exitCode: null,\n        signal: error.signal as NodeJS.Signals | null,\n        timedOut: (error.timedOut as boolean) || false,\n      },\n      getBufferedData(stdout, stdoutPromise),\n      getBufferedData(stderr, stderrPromise),\n    ]);\n  }\n}\n\nfunction stripFinalNewline<T extends string | Buffer>(input: T) {\n  const LF = typeof input === \"string\" ? \"\\n\" : \"\\n\".charCodeAt(0);\n  const CR = typeof input === \"string\" ? \"\\r\" : \"\\r\".charCodeAt(0);\n\n  if (input[input.length - 1] === LF) {\n    // @ts-expect-error we are doing some nasty stuff here\n    input = input.slice(0, -1);\n  }\n\n  if (input[input.length - 1] === CR) {\n    // @ts-expect-error we are doing some nasty stuff here\n    input = input.slice(0, -1);\n  }\n\n  return input;\n}\n\nexport function handleOutput<T extends string | Buffer>(options: { stripFinalNewline?: boolean }, value: T) {\n  if (options.stripFinalNewline) {\n    return stripFinalNewline(value);\n  }\n\n  return value;\n}\n\nfunction getErrorPrefix({\n  timedOut,\n  timeout,\n  signal,\n  exitCode,\n}: {\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  timeout?: number;\n}) {\n  if (timedOut) {\n    return `timed out after ${timeout} milliseconds`;\n  }\n\n  if (signal !== undefined && signal !== null) {\n    return `was killed with ${signal}`;\n  }\n\n  if (exitCode !== undefined && exitCode !== null) {\n    return `failed with exit code ${exitCode}`;\n  }\n\n  return \"failed\";\n}\n\nfunction makeError({\n  stdout,\n  stderr,\n  error,\n  signal,\n  exitCode,\n  command,\n  timedOut,\n  options,\n  parentError,\n}: {\n  stdout: string | Buffer;\n  stderr: string | Buffer;\n  error?: Error;\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  command: string;\n  options?: { timeout?: number };\n  parentError: Error;\n}) {\n  const prefix = getErrorPrefix({ timedOut, timeout: options?.timeout, signal, exitCode });\n  const execaMessage = `Command ${prefix}: ${command}`;\n  const shortMessage = error ? `${execaMessage}\\n${error.message}` : execaMessage;\n  const message = [shortMessage, stderr, stdout].filter(Boolean).join(\"\\n\");\n\n  if (error) {\n    // @ts-expect-error not on Error\n    error.originalMessage = error.message;\n  } else {\n    error = parentError;\n  }\n\n  error.message = message;\n\n  // @ts-expect-error not on Error\n  error.shortMessage = shortMessage;\n  // @ts-expect-error not on Error\n  error.command = command;\n  // @ts-expect-error not on Error\n  error.exitCode = exitCode;\n  // @ts-expect-error not on Error\n  error.signal = signal;\n  // @ts-expect-error not on Error\n  error.stdout = stdout;\n  // @ts-expect-error not on Error\n  error.stderr = stderr;\n\n  if (\"bufferedData\" in error) {\n    delete error[\"bufferedData\"];\n  }\n\n  return error;\n}\n\nexport type ParseExecOutputHandler<\n  T,\n  DecodedOutput extends string | Buffer = string | Buffer,\n  Options = unknown,\n> = (args: {\n  /** The output of the process on stdout. */\n  stdout: DecodedOutput;\n  /** The output of the process on stderr. */\n  stderr: DecodedOutput;\n  error?: Error;\n  /** The numeric exit code of the process that was run. */\n  exitCode: number | null;\n  /**\n   * The name of the signal that was used to terminate the process. For example, SIGFPE.\n   *\n   * If a signal terminated the process, this property is defined. Otherwise it is null.\n   */\n  signal: NodeJS.Signals | null;\n  /** Whether the process timed out. */\n  timedOut: boolean;\n  /** The command that was run, for logging purposes. */\n  command: string;\n  options?: Options;\n}) => T;\n\nexport function defaultParsing<T extends string | Buffer>({\n  stdout,\n  stderr,\n  error,\n  exitCode,\n  signal,\n  timedOut,\n  command,\n  options,\n  parentError,\n}: {\n  stdout: T;\n  stderr: T;\n  error?: Error;\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  command: string;\n  options?: { timeout?: number };\n  parentError: Error;\n}) {\n  if (error || exitCode !== 0 || signal !== null) {\n    const returnedError = makeError({\n      error,\n      exitCode,\n      signal,\n      stdout,\n      stderr,\n      command,\n      timedOut,\n      options,\n      parentError,\n    });\n\n    throw returnedError;\n  }\n\n  return stdout;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\n\nconst processOk = (process: any) =>\n  !!process &&\n  typeof process === \"object\" &&\n  typeof process.removeListener === \"function\" &&\n  typeof process.emit === \"function\" &&\n  typeof process.reallyExit === \"function\" &&\n  typeof process.listeners === \"function\" &&\n  typeof process.kill === \"function\" &&\n  typeof process.pid === \"number\" &&\n  typeof process.on === \"function\";\nconst kExitEmitter = /* #__PURE__ */ Symbol.for(\"signal-exit emitter\");\n// teeny special purpose ee\nclass Emitter {\n  emitted = {\n    afterExit: false,\n    exit: false,\n  };\n  listeners = {\n    afterExit: [],\n    exit: [],\n  };\n  count = 0;\n  id = Math.random();\n  constructor() {\n    // @ts-ignore\n    if (global[kExitEmitter]) {\n      // @ts-ignore\n      return global[kExitEmitter];\n    }\n    Object.defineProperty(global, kExitEmitter, {\n      value: this,\n      writable: false,\n      enumerable: false,\n      configurable: false,\n    });\n  }\n  on(ev: any, fn: any) {\n    // @ts-ignore\n    this.listeners[ev].push(fn);\n  }\n  removeListener(ev: any, fn: any) {\n    // @ts-ignore\n    const list = this.listeners[ev];\n    const i = list.indexOf(fn);\n    /* c8 ignore start */\n    if (i === -1) {\n      return;\n    }\n    /* c8 ignore stop */\n    if (i === 0 && list.length === 1) {\n      list.length = 0;\n    } else {\n      list.splice(i, 1);\n    }\n  }\n  emit(ev: any, code: any, signal: any): any {\n    // @ts-ignore\n    if (this.emitted[ev]) {\n      return false;\n    }\n    // @ts-ignore\n    this.emitted[ev] = true;\n    let ret = false;\n    // @ts-ignore\n    for (const fn of this.listeners[ev]) {\n      ret = fn(code, signal) === true || ret;\n    }\n    if (ev === \"exit\") {\n      ret = this.emit(\"afterExit\", code, signal) || ret;\n    }\n    return ret;\n  }\n}\n\nclass SignalExitFallback {\n  onExit() {\n    return () => {};\n  }\n  load() {}\n  unload() {}\n}\nclass SignalExit {\n  // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n  // so use a supported signal instead\n  /* c8 ignore start */\n  // @ts-ignore\n  #hupSig = process.platform === \"win32\" ? \"SIGINT\" : \"SIGHUP\";\n  /* c8 ignore stop */\n  #emitter = new Emitter();\n  #process: any;\n  #originalProcessEmit: any;\n  #originalProcessReallyExit: any;\n  #sigListeners = {};\n  #loaded = false;\n  #signals: string[] = [];\n  constructor(process: any) {\n    /**\n     * This is not the set of all possible signals.\n     *\n     * It IS, however, the set of all signals that trigger\n     * an exit on either Linux or BSD systems.  Linux is a\n     * superset of the signal names supported on BSD, and\n     * the unknown signals just fail to register, so we can\n     * catch that easily enough.\n     *\n     * Windows signals are a different set, since there are\n     * signals that terminate Windows processes, but don't\n     * terminate (or don't even exist) on Posix systems.\n     *\n     * Don't bother with SIGKILL.  It's uncatchable, which\n     * means that we can't fire any callbacks anyway.\n     *\n     * If a user does happen to register a handler on a non-\n     * fatal signal like SIGWINCH or something, and then\n     * exit, it'll end up firing `process.emit('exit')`, so\n     * the handler will be fired anyway.\n     *\n     * SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n     * artificially, inherently leave the process in a\n     * state from which it is not safe to try and enter JS\n     * listeners.\n     */\n    this.#signals.push(\"SIGHUP\", \"SIGINT\", \"SIGTERM\");\n    if (globalThis.process.platform !== \"win32\") {\n      this.#signals.push(\n        \"SIGALRM\",\n        \"SIGABRT\",\n        \"SIGVTALRM\",\n        \"SIGXCPU\",\n        \"SIGXFSZ\",\n        \"SIGUSR2\",\n        \"SIGTRAP\",\n        \"SIGSYS\",\n        \"SIGQUIT\",\n        \"SIGIOT\",\n        // should detect profiler and enable/disable accordingly.\n        // see #21\n        // 'SIGPROF'\n      );\n    }\n    if (globalThis.process.platform === \"linux\") {\n      this.#signals.push(\"SIGIO\", \"SIGPOLL\", \"SIGPWR\", \"SIGSTKFLT\");\n    }\n    this.#process = process;\n    // { <signal>: <listener fn>, ... }\n    this.#sigListeners = {};\n    for (const sig of this.#signals) {\n      // @ts-ignore\n      this.#sigListeners[sig] = () => {\n        // If there are no other listeners, an exit is coming!\n        // Simplest way: remove us and then re-send the signal.\n        // We know that this will kill the process, so we can\n        // safely emit now.\n        const listeners = this.#process.listeners(sig);\n        let { count } = this.#emitter;\n        // This is a workaround for the fact that signal-exit v3 and signal\n        // exit v4 are not aware of each other, and each will attempt to let\n        // the other handle it, so neither of them do. To correct this, we\n        // detect if we're the only handler *except* for previous versions\n        // of signal-exit, and increment by the count of listeners it has\n        // created.\n        /* c8 ignore start */\n        const p = process;\n        if (typeof p.__signal_exit_emitter__ === \"object\" && typeof p.__signal_exit_emitter__.count === \"number\") {\n          count += p.__signal_exit_emitter__.count;\n        }\n        /* c8 ignore stop */\n        if (listeners.length === count) {\n          this.unload();\n          const ret = this.#emitter.emit(\"exit\", null, sig);\n          /* c8 ignore start */\n          const s = sig === \"SIGHUP\" ? this.#hupSig : sig;\n          if (!ret) process.kill(process.pid, s);\n          /* c8 ignore stop */\n        }\n      };\n    }\n    this.#originalProcessReallyExit = process.reallyExit;\n    this.#originalProcessEmit = process.emit;\n  }\n  onExit(cb: any, opts: any) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return () => {};\n    }\n    /* c8 ignore stop */\n    if (this.#loaded === false) {\n      this.load();\n    }\n    const ev = opts?.alwaysLast ? \"afterExit\" : \"exit\";\n    this.#emitter.on(ev, cb);\n    return () => {\n      this.#emitter.removeListener(ev, cb);\n      if (this.#emitter.listeners[\"exit\"].length === 0 && this.#emitter.listeners[\"afterExit\"].length === 0) {\n        this.unload();\n      }\n    };\n  }\n  load() {\n    if (this.#loaded) {\n      return;\n    }\n    this.#loaded = true;\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    this.#emitter.count += 1;\n    for (const sig of this.#signals) {\n      try {\n        // @ts-ignore\n        const fn = this.#sigListeners[sig];\n        if (fn) this.#process.on(sig, fn);\n      } catch (_) {\n        // no-op\n      }\n    }\n    this.#process.emit = (ev: any, ...a: any) => {\n      return this.#processEmit(ev, ...a);\n    };\n    this.#process.reallyExit = (code: any) => {\n      return this.#processReallyExit(code);\n    };\n  }\n  unload() {\n    if (!this.#loaded) {\n      return;\n    }\n    this.#loaded = false;\n    this.#signals.forEach((sig) => {\n      // @ts-ignore\n      const listener = this.#sigListeners[sig];\n      /* c8 ignore start */\n      if (!listener) {\n        throw new Error(\"Listener not defined for signal: \" + sig);\n      }\n      /* c8 ignore stop */\n      try {\n        this.#process.removeListener(sig, listener);\n        /* c8 ignore start */\n      } catch (_) {\n        // no-op\n      }\n      /* c8 ignore stop */\n    });\n    this.#process.emit = this.#originalProcessEmit;\n    this.#process.reallyExit = this.#originalProcessReallyExit;\n    this.#emitter.count -= 1;\n  }\n  #processReallyExit(code: any) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return 0;\n    }\n    this.#process.exitCode = code || 0;\n    /* c8 ignore stop */\n    this.#emitter.emit(\"exit\", this.#process.exitCode, null);\n    return this.#originalProcessReallyExit.call(this.#process, this.#process.exitCode);\n  }\n  #processEmit(ev: any, ...args: any) {\n    const og = this.#originalProcessEmit;\n    if (ev === \"exit\" && processOk(this.#process)) {\n      if (typeof args[0] === \"number\") {\n        this.#process.exitCode = args[0];\n        /* c8 ignore start */\n      }\n      /* c8 ignore start */\n      const ret = og.call(this.#process, ev, ...args);\n      /* c8 ignore start */\n      this.#emitter.emit(\"exit\", this.#process.exitCode, null);\n      /* c8 ignore stop */\n      return ret;\n    } else {\n      return og.call(this.#process, ev, ...args);\n    }\n  }\n}\n\nlet signalExit: SignalExit | SignalExitFallback | null = null;\n\nexport const onExit = (\n  cb: any,\n  opts?: {\n    alwaysLast?: boolean | undefined;\n  },\n) => {\n  if (!signalExit) {\n    signalExit = processOk(process) ? new SignalExit(process) : new SignalExitFallback();\n  }\n  return signalExit.onExit(cb, opts);\n};\n", "import { environment } from \"@raycast/api\";\nimport { createReadStream, createWriteStream, mkdirSync, Stats } from \"node:fs\";\nimport { stat } from \"node:fs/promises\";\nimport { join, normalize } from \"node:path\";\nimport { pipeline } from \"node:stream/promises\";\nimport { useRef } from \"react\";\nimport Chain from \"./vendors/stream-chain\";\nimport { parser, PickParser, StreamArray } from \"./vendors/stream-json\";\nimport { isJSON } from \"./fetch-utils\";\nimport { Flatten, FunctionReturningPaginatedPromise, UseCachedPromiseReturnType } from \"./types\";\nimport { CachedPromiseOptions, useCachedPromise } from \"./useCachedPromise\";\nimport { hash } from \"./helpers\";\n\ntype RequestInfo = string | URL | globalThis.Request;\n\nasync function cache(url: RequestInfo, destination: string, fetchOptions?: RequestInit) {\n  if (typeof url === \"object\" || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    return await cacheURL(url, destination, fetchOptions);\n  } else if (url.startsWith(\"file://\")) {\n    return await cacheFile(\n      normalize(decodeURIComponent(new URL(url).pathname)),\n      destination,\n      fetchOptions?.signal ? fetchOptions.signal : undefined,\n    );\n  } else {\n    throw new Error(\"Only HTTP(S) or file URLs are supported\");\n  }\n}\n\nasync function cacheURL(url: RequestInfo, destination: string, fetchOptions?: RequestInit) {\n  const response = await fetch(url, fetchOptions);\n\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch URL\");\n  }\n\n  if (!isJSON(response.headers.get(\"content-type\"))) {\n    throw new Error(\"URL does not return JSON\");\n  }\n  if (!response.body) {\n    throw new Error(\"Failed to retrieve expected JSON content: Response body is missing or inaccessible.\");\n  }\n  await pipeline(\n    response.body as unknown as NodeJS.ReadableStream,\n    createWriteStream(destination),\n    fetchOptions?.signal ? { signal: fetchOptions.signal } : undefined,\n  );\n}\n\nasync function cacheFile(source: string, destination: string, abortSignal?: AbortSignal) {\n  await pipeline(\n    createReadStream(source),\n    createWriteStream(destination),\n    abortSignal ? { signal: abortSignal } : undefined,\n  );\n}\n\nasync function cacheURLIfNecessary(\n  url: RequestInfo,\n  folder: string,\n  fileName: string,\n  forceUpdate: boolean,\n  fetchOptions?: RequestInit,\n) {\n  const destination = join(folder, fileName);\n\n  try {\n    await stat(folder);\n  } catch (e) {\n    mkdirSync(folder, { recursive: true });\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n  if (forceUpdate) {\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n\n  let stats: Stats | undefined = undefined;\n  try {\n    stats = await stat(destination);\n  } catch (e) {\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n\n  if (typeof url === \"object\" || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    const headResponse = await fetch(url, { ...fetchOptions, method: \"HEAD\" });\n    if (!headResponse.ok) {\n      throw new Error(\"Could not fetch URL\");\n    }\n\n    if (!isJSON(headResponse.headers.get(\"content-type\"))) {\n      throw new Error(\"URL does not return JSON\");\n    }\n\n    const lastModified = Date.parse(headResponse.headers.get(\"last-modified\") ?? \"\");\n    if (stats.size === 0 || Number.isNaN(lastModified) || lastModified > stats.mtimeMs) {\n      await cache(url, destination, fetchOptions);\n      return;\n    }\n  } else if (url.startsWith(\"file://\")) {\n    try {\n      const sourceStats = await stat(normalize(decodeURIComponent(new URL(url).pathname)));\n      if (sourceStats.mtimeMs > stats.mtimeMs) {\n        await cache(url, destination, fetchOptions);\n      }\n    } catch (e) {\n      throw new Error(\"Source file could not be read\");\n    }\n  } else {\n    throw new Error(\"Only HTTP(S) or file URLs are supported\");\n  }\n}\n\nasync function* streamJsonFile<T>(\n  filePath: string,\n  pageSize: number,\n  abortSignal?: AbortSignal,\n  dataPath?: string | RegExp,\n  filterFn?: (item: Flatten<T>) => boolean,\n  transformFn?: (item: any) => T,\n): AsyncGenerator<T extends unknown[] ? T : T[]> {\n  let page: T extends unknown[] ? T : T[] = [] as T extends unknown[] ? T : T[];\n\n  const pipeline = Chain([\n    createReadStream(filePath),\n    dataPath ? PickParser({ filter: dataPath }) : parser(),\n    StreamArray(),\n    (data: any) => transformFn?.(data.value) ?? data.value,\n  ]);\n\n  abortSignal?.addEventListener(\"abort\", () => {\n    pipeline.destroy();\n  });\n\n  try {\n    for await (const data of pipeline) {\n      if (abortSignal?.aborted) {\n        return [];\n      }\n      if (!filterFn || filterFn(data)) {\n        page.push(data);\n      }\n      if (page.length >= pageSize) {\n        yield page;\n        page = [] as T extends unknown[] ? T : T[];\n      }\n    }\n  } catch (e) {\n    pipeline.destroy();\n    throw e;\n  }\n\n  if (page.length > 0) {\n    yield page;\n  }\n\n  return [];\n}\n\ntype Options<T> = {\n  /**\n   * The hook expects to iterate through an array of data, so by default, it assumes the JSON it receives itself represents an array. However, sometimes the array of data is wrapped in an object,\n   * i.e. `{ \"success\": true, \"data\": [] }`, or even `{ \"success\": true, \"results\": { \"data\": [] } }`. In those cases, you can use `dataPath` to specify where the data array can be found.\n   *\n   * @remark If your JSON object has multiple arrays that you want to stream data from, you can pass a regular expression to stream through all of them.\n   *\n   * @example For `{ \"success\": true, \"data\": [] }`, dataPath would be `data`\n   * @example For `{ \"success\": true, \"results\": { \"data\": [] } }`, dataPath would be `results.data`\n   * @example For `{ \"success\": true, \"results\": { \"first_list\": [], \"second_list\": [], \"third_list\": [] } }`, dataPath would be `/^results\\.(first_list|second_list|third_list)$\n/`.\n   */\n  dataPath?: string | RegExp;\n  /**\n   * A function to decide whether a particular item should be kept or not.\n   * Defaults to `undefined`, keeping any encountered item.\n   *\n   * @remark The hook will revalidate every time the filter function changes, so you need to use [useCallback](https://react.dev/reference/react/useCallback) to make sure it only changes when it needs to.\n   */\n  filter?: (item: Flatten<T>) => boolean;\n  /**\n   * A function to apply to each item as it is encountered. Useful for a couple of things:\n   * 1. ensuring that all items have the expected properties, and, as on optimization, for getting rid of the properties that you don't care about.\n   * 2. when top-level objects actually represent nested data, which should be flattened. In this case, `transform` can return an array of items, and the hook will stream through each one of those items,\n   * passing them to `filter` etc.\n   *\n   * Defaults to a passthrough function if not provided.\n   *\n   * @remark The hook will revalidate every time the transform function changes, so it is important to use [useCallback](https://react.dev/reference/react/useCallback) to ensure it only changes when necessary to prevent unnecessary re-renders or computations.\n   *\n   * @example\n   * ```\n   * // For data: `{ \"data\": [ { \"type\": \"folder\", \"name\": \"item 1\", \"children\": [ { \"type\": \"item\", \"name\": \"item 2\" }, { \"type\": \"item\", \"name\": \"item 3\" } ] }, { \"type\": \"folder\", \"name\": \"item 4\", children: [] } ] }`\n   *\n   * type Item = {\n   *  type: \"item\";\n   *  name: string;\n   * };\n   *\n   * type Folder = {\n   *   type: \"folder\";\n   *   name: string;\n   *   children: (Item | Folder)[];\n   * };\n   *\n   * function flatten(item: Item | Folder): { name: string }[] {\n   *   const flattened: { name: string }[] = [];\n   *   if (item.type === \"folder\") {\n   *     flattened.push(...item.children.map(flatten).flat());\n   *   }\n   *   if (item.type === \"item\") {\n   *     flattened.push({ name: item.name });\n   *   }\n   *   return flattened;\n   * }\n   *\n   * const transform = useCallback(flatten, []);\n   * const filter = useCallback((item: { name: string }) => {\n   *   \n   * })\n   * ```\n   */\n  transform?: (item: any) => T;\n  /**\n   * The amount of items to return for each page.\n   * Defaults to `20`.\n   */\n  pageSize?: number;\n};\n\n/**\n * Takes a `http://`, `https://` or `file:///` URL pointing to a JSON resource, caches it to the command's support\n * folder, and streams through its content. Useful when dealing with large JSON arrays which would be too big to fit\n * in the command's memory.\n *\n * @remark The JSON resource needs to consist of an array of objects\n *\n * @example\n * ```\n * import { List } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const { data, isLoading, pagination } = useStreamJSON<Formula>(\"https://formulae.brew.sh/api/formula.json\");\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination}>\n *       <List.Section title=\"Formulae\">\n *         {data?.map((d) => <List.Item key={d.name} title={d.name} subtitle={d.desc} />)}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n *\n * @example\n * ```\n * import { List } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { homedir } from \"os\";\n * import { join } from \"path\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const { data, isLoading, pagination } = useStreamJSON<Formula>(`file:///${join(homedir(), \"Downloads\", \"formulae.json\")}`);\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination}>\n *       <List.Section title=\"Formulae\">\n *         {data?.map((d) => <List.Item key={d.name} title={d.name} subtitle={d.desc} />)}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useStreamJSON<T, U = unknown>(url: RequestInfo): UseCachedPromiseReturnType<T, U>;\n\n/**\n * Takes a `http://`, `https://` or `file:///` URL pointing to a JSON resource, caches it to the command's support\n * folder, and streams through its content. Useful when dealing with large JSON arrays which would be too big to fit\n * in the command's memory.\n *\n * @remark The JSON resource needs to consist of an array of objects\n *\n * @example\n * ```\n * import { List, environment } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { join } from 'path';\n * import { useCallback, useState } from \"react\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const formulaFilter = useCallback(\n *     (item: Formula) => {\n *       if (!searchText) return true;\n *       return item.name.toLocaleLowerCase().includes(searchText);\n *     },\n *     [searchText],\n *   );\n *\n *   const formulaTransform = useCallback((item: any): Formula => {\n *     return { name: item.name, desc: item.desc };\n *   }, []);\n *\n *   const { data, isLoading, pagination } = useStreamJSON(\"https://formulae.brew.sh/api/formula.json\", {\n *     initialData: [] as Formula[],\n *     pageSize: 20,\n *     filter: formulaFilter,\n *     transform: formulaTransform,\n *   });\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       <List.Section title=\"Formulae\">\n *         {data.map((d) => (\n *           <List.Item key={d.name} title={d.name} subtitle={d.desc} />\n *         ))}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ``` support folder, and streams through its content.\n *\n * @example\n * ```\n * import { List, environment } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { join } from \"path\";\n * import { homedir } from \"os\";\n * import { useCallback, useState } from \"react\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const formulaFilter = useCallback(\n *     (item: Formula) => {\n *       if (!searchText) return true;\n *       return item.name.toLocaleLowerCase().includes(searchText);\n *     },\n *     [searchText],\n *   );\n *\n *   const formulaTransform = useCallback((item: any): Formula => {\n *     return { name: item.name, desc: item.desc };\n *   }, []);\n *\n *   const { data, isLoading, pagination } = useStreamJSON(`file:///${join(homedir(), \"Downloads\", \"formulae.json\")}`, {\n *     initialData: [] as Formula[],\n *     pageSize: 20,\n *     filter: formulaFilter,\n *     transform: formulaTransform,\n *   });\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       <List.Section title=\"Formulae\">\n *         {data.map((d) => (\n *           <List.Item key={d.name} title={d.name} subtitle={d.desc} />\n *         ))}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useStreamJSON<T, U extends any[] = any[]>(\n  url: RequestInfo,\n  options: Options<T> & RequestInit & Omit<CachedPromiseOptions<FunctionReturningPaginatedPromise, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T extends unknown[] ? T : T[], U>;\n\nexport function useStreamJSON<T, U extends any[] = any[]>(\n  url: RequestInfo,\n  options?: Options<T> & RequestInit & Omit<CachedPromiseOptions<FunctionReturningPaginatedPromise, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T extends unknown[] ? T : T[], U> {\n  const {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n    dataPath,\n    filter,\n    transform,\n    pageSize = 20,\n    ...fetchOptions\n  } = options ?? {};\n  const previousUrl = useRef<RequestInfo>(null);\n  const previousDestination = useRef<string>(null);\n\n  const useCachedPromiseOptions: CachedPromiseOptions<FunctionReturningPaginatedPromise, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const generatorRef = useRef<AsyncGenerator<T extends unknown[] ? T : T[]> | null>(null);\n  const controllerRef = useRef<AbortController | null>(null);\n  const hasMoreRef = useRef(false);\n\n  return useCachedPromise(\n    (\n      url: RequestInfo,\n      pageSize: number,\n      fetchOptions: RequestInit | undefined,\n      dataPath: string | RegExp | undefined,\n      filter: ((item: Flatten<T>) => boolean) | undefined,\n      transform: ((item: unknown) => T) | undefined,\n    ) =>\n      async ({ page }) => {\n        const fileName = hash(url) + \".json\";\n        const folder = environment.supportPath;\n        if (page === 0) {\n          controllerRef.current?.abort();\n          controllerRef.current = new AbortController();\n          const destination = join(folder, fileName);\n          /**\n           * Force update the cache when the URL changes but the cache destination does not.\n           */\n          const forceCacheUpdate = Boolean(\n            previousUrl.current &&\n              previousUrl.current !== url &&\n              previousDestination.current &&\n              previousDestination.current === destination,\n          );\n          previousUrl.current = url;\n          previousDestination.current = destination;\n          await cacheURLIfNecessary(url, folder, fileName, forceCacheUpdate, {\n            ...fetchOptions,\n            signal: controllerRef.current?.signal,\n          });\n          generatorRef.current = streamJsonFile(\n            destination,\n            pageSize,\n            controllerRef.current?.signal,\n            dataPath,\n            filter,\n            transform,\n          );\n        }\n        if (!generatorRef.current) {\n          return { hasMore: hasMoreRef.current, data: [] as T extends unknown[] ? T : T[] };\n        }\n        const { value: newData, done } = await generatorRef.current.next();\n        hasMoreRef.current = !done;\n        return { hasMore: hasMoreRef.current, data: (newData ?? []) as T extends unknown[] ? T : T[] };\n      },\n    [url, pageSize, fetchOptions, dataPath, filter, transform],\n    useCachedPromiseOptions,\n  );\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { Readable, Writable, Duplex } from \"node:stream\";\n\nexport const none = /* #__PURE__ */ Symbol.for(\"object-stream.none\");\nconst stop = /* #__PURE__ */ Symbol.for(\"object-stream.stop\");\n\nconst finalSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.final\");\nconst manySymbol = /* #__PURE__ */ Symbol.for(\"object-stream.many\");\nconst flushSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.flush\");\nconst fListSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.fList\");\n\nconst finalValue = (value: any) => ({ [finalSymbol]: 1, value });\nexport const many = (values: any) => ({ [manySymbol]: 1, values });\n\nconst isFinalValue = (o: any) => o && o[finalSymbol] === 1;\nconst isMany = (o: any) => o && o[manySymbol] === 1;\nconst isFlushable = (o: any) => o && o[flushSymbol] === 1;\nconst isFunctionList = (o: any) => o && o[fListSymbol] === 1;\n\nconst getFinalValue = (o: any) => o.value;\nconst getManyValues = (o: any) => o.values;\nconst getFunctionList = (o: any) => o.fList;\n\nexport const combineManyMut = (a: any, b: any) => {\n  const values = a === none ? [] : a?.[manySymbol] === 1 ? a.values : [a];\n  if (b === none) {\n    // do nothing\n  } else if (b?.[manySymbol] === 1) {\n    values.push(...b.values);\n  } else {\n    values.push(b);\n  }\n  return many(values);\n};\n\nexport const flushable = (write: (value: any) => any, final = null) => {\n  const fn = final ? (value: any) => (value === none ? finalValue(undefined) : write(value)) : write;\n  // @ts-ignore\n  fn[flushSymbol] = 1;\n  return fn;\n};\n\nconst setFunctionList = (o: any, fns: any) => {\n  o.fList = fns;\n  o[fListSymbol] = 1;\n  return o;\n};\n\n// is*NodeStream functions taken from https://github.com/nodejs/node/blob/master/lib/internal/streams/utils.js\nconst isReadableNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.pipe === \"function\" &&\n  typeof obj.on === \"function\" &&\n  (!obj._writableState || (typeof obj._readableState === \"object\" ? obj._readableState.readable : null) !== false) && // Duplex\n  (!obj._writableState || obj._readableState); // Writable has .pipe.\n\nconst isWritableNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.write === \"function\" &&\n  typeof obj.on === \"function\" &&\n  (!obj._readableState || (typeof obj._writableState === \"object\" ? obj._writableState.writable : null) !== false); // Duplex\n\nconst isDuplexNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.pipe === \"function\" &&\n  obj._readableState &&\n  typeof obj.on === \"function\" &&\n  typeof obj.write === \"function\";\n\nconst isReadableWebStream = (obj: any) => obj && globalThis.ReadableStream && obj instanceof globalThis.ReadableStream;\n\nconst isWritableWebStream = (obj: any) => obj && globalThis.WritableStream && obj instanceof globalThis.WritableStream;\n\nconst isDuplexWebStream = (obj: any) =>\n  obj &&\n  globalThis.ReadableStream &&\n  obj.readable instanceof globalThis.ReadableStream &&\n  globalThis.WritableStream &&\n  obj.writable instanceof globalThis.WritableStream;\n\nconst groupFunctions = (output: any, fn: any, index: any, fns: any) => {\n  if (\n    isDuplexNodeStream(fn) ||\n    (!index && isReadableNodeStream(fn)) ||\n    (index === fns.length - 1 && isWritableNodeStream(fn))\n  ) {\n    output.push(fn);\n    return output;\n  }\n  if (isDuplexWebStream(fn)) {\n    output.push(Duplex.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (!index && isReadableWebStream(fn)) {\n    output.push(Readable.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (index === fns.length - 1 && isWritableWebStream(fn)) {\n    output.push(Writable.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (typeof fn != \"function\") throw TypeError(\"Item #\" + index + \" is not a proper stream, nor a function.\");\n  if (!output.length) output.push([]);\n  const last = output[output.length - 1];\n  if (Array.isArray(last)) {\n    last.push(fn);\n  } else {\n    output.push([fn]);\n  }\n  return output;\n};\n\nclass Stop extends Error {}\n\nexport const asStream = (fn: any) => {\n  if (typeof fn != \"function\") throw TypeError(\"Only a function is accepted as the first argument\");\n\n  // pump variables\n  let paused = Promise.resolve();\n  let resolvePaused: ((value: void | PromiseLike<void>) => void) | null = null;\n  const queue: any[] = [];\n\n  // pause/resume\n  const resume: any = () => {\n    if (!resolvePaused) return;\n    resolvePaused();\n    resolvePaused = null;\n    paused = Promise.resolve();\n  };\n  const pause: any = () => {\n    if (resolvePaused) return;\n    paused = new Promise((resolve) => (resolvePaused = resolve));\n  };\n\n  // eslint-disable-next-line prefer-const\n  let stream: Duplex; // will be assigned later\n\n  // data processing\n  const pushResults: any = (values: any) => {\n    if (values && typeof values.next == \"function\") {\n      // generator\n      queue.push(values);\n      return;\n    }\n    // array\n    queue.push(values[Symbol.iterator]());\n  };\n  const pump: any = async () => {\n    while (queue.length) {\n      await paused;\n      const gen = queue[queue.length - 1];\n      let result = gen.next();\n      if (result && typeof result.then == \"function\") {\n        result = await result;\n      }\n      if (result.done) {\n        queue.pop();\n        continue;\n      }\n      let value = result.value;\n      if (value && typeof value.then == \"function\") {\n        value = await value;\n      }\n      await sanitize(value);\n    }\n  };\n  const sanitize: any = async (value: any) => {\n    if (value === undefined || value === null || value === none) return;\n    if (value === stop) throw new Stop();\n\n    if (isMany(value)) {\n      pushResults(getManyValues(value));\n      return pump();\n    }\n\n    if (isFinalValue(value)) {\n      // a final value is not supported, it is treated as a regular value\n      value = getFinalValue(value);\n      return processValue(value);\n    }\n\n    if (!stream.push(value)) {\n      pause();\n    }\n  };\n  const processChunk: any = async (chunk: any, encoding: any) => {\n    try {\n      const value = fn(chunk, encoding);\n      await processValue(value);\n    } catch (error) {\n      if (error instanceof Stop) {\n        stream.push(null);\n        stream.destroy();\n        return;\n      }\n      throw error;\n    }\n  };\n  const processValue: any = async (value: any) => {\n    if (value && typeof value.then == \"function\") {\n      // thenable\n      return value.then((value: any) => processValue(value));\n    }\n    if (value && typeof value.next == \"function\") {\n      // generator\n      pushResults(value);\n      return pump();\n    }\n    return sanitize(value);\n  };\n\n  stream = new Duplex(\n    Object.assign({ writableObjectMode: true, readableObjectMode: true }, undefined, {\n      write(chunk: any, encoding: any, callback: any) {\n        processChunk(chunk, encoding).then(\n          () => callback(null),\n          (error: any) => callback(error),\n        );\n      },\n      final(callback: any) {\n        if (!isFlushable(fn)) {\n          stream.push(null);\n          callback(null);\n          return;\n        }\n        processChunk(none, null).then(\n          () => (stream.push(null), callback(null)),\n          (error: any) => callback(error),\n        );\n      },\n      read() {\n        resume();\n      },\n    }),\n  );\n\n  return stream;\n};\n\nconst produceStreams = (item: any) => {\n  if (Array.isArray(item)) {\n    if (!item.length) return null;\n    if (item.length == 1) return item[0] && asStream(item[0]);\n    return asStream(gen(...item));\n  }\n  return item;\n};\n\nconst next: any = async function* (value: any, fns: any, index: any) {\n  for (let i = index; i <= fns.length; ++i) {\n    if (value && typeof value.then == \"function\") {\n      // thenable\n      value = await value;\n    }\n    if (value === none) break;\n    if (value === stop) throw new Stop();\n    if (isFinalValue(value)) {\n      yield getFinalValue(value);\n      break;\n    }\n    if (isMany(value)) {\n      const values = getManyValues(value);\n      if (i == fns.length) {\n        yield* values;\n      } else {\n        for (let j = 0; j < values.length; ++j) {\n          yield* next(values[j], fns, i);\n        }\n      }\n      break;\n    }\n    if (value && typeof value.next == \"function\") {\n      // generator\n      for (;;) {\n        let data = value.next();\n        if (data && typeof data.then == \"function\") {\n          data = await data;\n        }\n        if (data.done) break;\n        if (i == fns.length) {\n          yield data.value;\n        } else {\n          yield* next(data.value, fns, i);\n        }\n      }\n      break;\n    }\n    if (i == fns.length) {\n      yield value;\n      break;\n    }\n    const f = fns[i];\n    value = f(value);\n  }\n};\n\nexport const gen = (...fns: any) => {\n  fns = fns\n    .filter((fn: any) => fn)\n    .flat(Infinity)\n    .map((fn: any) => (isFunctionList(fn) ? getFunctionList(fn) : fn))\n    .flat(Infinity);\n  if (!fns.length) {\n    fns = [(x: any) => x];\n  }\n  let flushed = false;\n  let g = async function* (value: any) {\n    if (flushed) throw Error(\"Call to a flushed pipe.\");\n    if (value !== none) {\n      yield* next(value, fns, 0);\n    } else {\n      flushed = true;\n      for (let i = 0; i < fns.length; ++i) {\n        const f = fns[i];\n        if (isFlushable(f)) {\n          yield* next(f(none), fns, i + 1);\n        }\n      }\n    }\n  };\n  const needToFlush = fns.some((fn: any) => isFlushable(fn));\n  if (needToFlush) g = flushable(g);\n  return setFunctionList(g, fns);\n};\n\nconst write = (input: any, chunk: any, encoding: any, callback: any) => {\n  let error: any = null;\n  try {\n    input.write(chunk, encoding, (e: any) => callback(e || error));\n  } catch (e) {\n    error = e;\n  }\n};\n\nconst final = (input: any, callback: any) => {\n  let error: any = null;\n  try {\n    input.end(null, null, (e: any) => callback(e || error));\n  } catch (e) {\n    error = e;\n  }\n};\n\nconst read = (output: any) => {\n  output.resume();\n};\n\nexport default function chain(fns: any) {\n  fns = fns.flat(Infinity).filter((fn: any) => fn);\n\n  const streams = fns\n      .map((fn: any) => (isFunctionList(fn) ? getFunctionList(fn) : fn))\n      .flat(Infinity)\n      .reduce(groupFunctions, [])\n      .map(produceStreams)\n      .filter((s: any) => s),\n    input = streams[0],\n    output = streams.reduce((output: any, item: any) => (output && output.pipe(item)) || item);\n\n  // eslint-disable-next-line prefer-const\n  let stream: Duplex; // will be assigned later\n\n  let writeMethod = (chunk: any, encoding: any, callback: any) => write(input, chunk, encoding, callback),\n    finalMethod = (callback: any) => final(input, callback),\n    readMethod = () => read(output);\n\n  if (!isWritableNodeStream(input)) {\n    writeMethod = (_1, _2, callback) => callback(null);\n    finalMethod = (callback) => callback(null);\n    input.on(\"end\", () => stream.end());\n  }\n\n  if (isReadableNodeStream(output)) {\n    output.on(\"data\", (chunk: any) => !stream.push(chunk) && output.pause());\n    output.on(\"end\", () => stream.push(null));\n  } else {\n    readMethod = () => {}; // nop\n    output.on(\"finish\", () => stream.push(null));\n  }\n\n  stream = new Duplex(\n    Object.assign(\n      { writableObjectMode: true, readableObjectMode: true },\n      {\n        readable: isReadableNodeStream(output),\n        writable: isWritableNodeStream(input),\n        write: writeMethod,\n        final: finalMethod,\n        read: readMethod,\n      },\n    ),\n  );\n  // @ts-ignore\n  stream.streams = streams;\n  // @ts-ignore\n  stream.input = input;\n  // @ts-ignore\n  stream.output = output;\n\n  if (!isReadableNodeStream(output)) {\n    stream.resume();\n  }\n\n  // connect events\n  streams.forEach((item: any) => item.on(\"error\", (error: any) => stream.emit(\"error\", error)));\n\n  return stream;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport { flushable, gen, many, none, combineManyMut } from \"./stream-chain\";\nimport { StringDecoder } from \"node:string_decoder\";\nimport EventEmitter from \"node:events\";\n\nconst fixUtf8Stream = () => {\n  const stringDecoder = new StringDecoder();\n  let input = \"\";\n  return flushable((chunk: any) => {\n    if (chunk === none) {\n      const result = input + stringDecoder.end();\n      input = \"\";\n      return result;\n    }\n    if (typeof chunk == \"string\") {\n      if (!input) return chunk;\n      const result = input + chunk;\n      input = \"\";\n      return result;\n    }\n    if (chunk instanceof Buffer) {\n      const result = input + stringDecoder.write(chunk);\n      input = \"\";\n      return result;\n    }\n    throw new TypeError(\"Expected a string or a Buffer\");\n  });\n};\n\nconst patterns = {\n  value1: /[\\\"\\{\\[\\]\\-\\d]|true\\b|false\\b|null\\b|\\s{1,256}/y,\n  string: /[^\\x00-\\x1f\\\"\\\\]{1,256}|\\\\[bfnrt\\\"\\\\\\/]|\\\\u[\\da-fA-F]{4}|\\\"/y,\n  key1: /[\\\"\\}]|\\s{1,256}/y,\n  colon: /\\:|\\s{1,256}/y,\n  comma: /[\\,\\]\\}]|\\s{1,256}/y,\n  ws: /\\s{1,256}/y,\n  numberStart: /\\d/y,\n  numberDigit: /\\d{0,256}/y,\n  numberFraction: /[\\.eE]/y,\n  numberExponent: /[eE]/y,\n  numberExpSign: /[-+]/y,\n};\nconst MAX_PATTERN_SIZE = 16;\n\nconst values: { [key: string]: any } = { true: true, false: false, null: null },\n  expected: { [key: string]: string } = { object: \"objectStop\", array: \"arrayStop\", \"\": \"done\" };\n\n// long hexadecimal codes: \\uXXXX\nconst fromHex = (s: string) => String.fromCharCode(parseInt(s.slice(2), 16));\n\n// short codes: \\b \\f \\n \\r \\t \\\" \\\\ \\/\nconst codes: { [key: string]: string } = {\n  b: \"\\b\",\n  f: \"\\f\",\n  n: \"\\n\",\n  r: \"\\r\",\n  t: \"\\t\",\n  '\"': '\"',\n  \"\\\\\": \"\\\\\",\n  \"/\": \"/\",\n};\n\nconst jsonParser = (options?: any) => {\n  let packKeys = true,\n    packStrings = true,\n    packNumbers = true,\n    streamKeys = true,\n    streamStrings = true,\n    streamNumbers = true,\n    jsonStreaming = false;\n\n  if (options) {\n    \"packValues\" in options && (packKeys = packStrings = packNumbers = options.packValues);\n    \"packKeys\" in options && (packKeys = options.packKeys);\n    \"packStrings\" in options && (packStrings = options.packStrings);\n    \"packNumbers\" in options && (packNumbers = options.packNumbers);\n    \"streamValues\" in options && (streamKeys = streamStrings = streamNumbers = options.streamValues);\n    \"streamKeys\" in options && (streamKeys = options.streamKeys);\n    \"streamStrings\" in options && (streamStrings = options.streamStrings);\n    \"streamNumbers\" in options && (streamNumbers = options.streamNumbers);\n    jsonStreaming = options.jsonStreaming;\n  }\n\n  !packKeys && (streamKeys = true);\n  !packStrings && (streamStrings = true);\n  !packNumbers && (streamNumbers = true);\n\n  let done = false,\n    expect = jsonStreaming ? \"done\" : \"value\",\n    parent = \"\",\n    openNumber = false,\n    accumulator = \"\",\n    buffer = \"\";\n\n  const stack: any[] = [];\n\n  return flushable((buf: any) => {\n    const tokens: any[] = [];\n\n    if (buf === none) {\n      done = true;\n    } else {\n      buffer += buf;\n    }\n\n    let match: any;\n    let value: any;\n    let index = 0;\n\n    main: for (;;) {\n      switch (expect) {\n        case \"value1\":\n        case \"value\":\n          patterns.value1.lastIndex = index;\n          match = patterns.value1.exec(buffer);\n          if (!match) {\n            if (done || index + MAX_PATTERN_SIZE < buffer.length) {\n              if (index < buffer.length) throw new Error(\"Parser cannot parse input: expected a value\");\n              throw new Error(\"Parser has expected a value\");\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          switch (value) {\n            case '\"':\n              if (streamStrings) tokens.push({ name: \"startString\" });\n              expect = \"string\";\n              break;\n            case \"{\":\n              tokens.push({ name: \"startObject\" });\n              stack.push(parent);\n              parent = \"object\";\n              expect = \"key1\";\n              break;\n            case \"[\":\n              tokens.push({ name: \"startArray\" });\n              stack.push(parent);\n              parent = \"array\";\n              expect = \"value1\";\n              break;\n            case \"]\":\n              if (expect !== \"value1\") throw new Error(\"Parser cannot parse input: unexpected token ']'\");\n              if (openNumber) {\n                if (streamNumbers) tokens.push({ name: \"endNumber\" });\n                openNumber = false;\n                if (packNumbers) {\n                  tokens.push({ name: \"numberValue\", value: accumulator });\n                  accumulator = \"\";\n                }\n              }\n              tokens.push({ name: \"endArray\" });\n              parent = stack.pop();\n              expect = expected[parent];\n              break;\n            case \"-\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: \"-\" });\n              }\n              packNumbers && (accumulator = \"-\");\n              expect = \"numberStart\";\n              break;\n            case \"0\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: \"0\" });\n              }\n              packNumbers && (accumulator = \"0\");\n              expect = \"numberFraction\";\n              break;\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: value });\n              }\n              packNumbers && (accumulator = value);\n              expect = \"numberDigit\";\n              break;\n            case \"true\":\n            case \"false\":\n            case \"null\":\n              if (buffer.length - index === value.length && !done) break main; // wait for more input\n              tokens.push({ name: value + \"Value\", value: values[value] });\n              expect = expected[parent];\n              break;\n            // default: // ws\n          }\n          index += value.length;\n          break;\n        case \"keyVal\":\n        case \"string\":\n          patterns.string.lastIndex = index;\n          match = patterns.string.exec(buffer);\n          if (!match) {\n            if (index < buffer.length && (done || buffer.length - index >= 6))\n              throw new Error(\"Parser cannot parse input: escaped characters\");\n            if (done) throw new Error(\"Parser has expected a string value\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value === '\"') {\n            if (expect === \"keyVal\") {\n              if (streamKeys) tokens.push({ name: \"endKey\" });\n              if (packKeys) {\n                tokens.push({ name: \"keyValue\", value: accumulator });\n                accumulator = \"\";\n              }\n              expect = \"colon\";\n            } else {\n              if (streamStrings) tokens.push({ name: \"endString\" });\n              if (packStrings) {\n                tokens.push({ name: \"stringValue\", value: accumulator });\n                accumulator = \"\";\n              }\n              expect = expected[parent];\n            }\n          } else if (value.length > 1 && value.charAt(0) === \"\\\\\") {\n            const t = value.length == 2 ? codes[value.charAt(1)] : fromHex(value);\n            if (expect === \"keyVal\" ? streamKeys : streamStrings) {\n              tokens.push({ name: \"stringChunk\", value: t });\n            }\n            if (expect === \"keyVal\" ? packKeys : packStrings) {\n              accumulator += t;\n            }\n          } else {\n            if (expect === \"keyVal\" ? streamKeys : streamStrings) {\n              tokens.push({ name: \"stringChunk\", value: value });\n            }\n            if (expect === \"keyVal\" ? packKeys : packStrings) {\n              accumulator += value;\n            }\n          }\n          index += value.length;\n          break;\n        case \"key1\":\n        case \"key\":\n          patterns.key1.lastIndex = index;\n          match = patterns.key1.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected an object key\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value === '\"') {\n            if (streamKeys) tokens.push({ name: \"startKey\" });\n            expect = \"keyVal\";\n          } else if (value === \"}\") {\n            if (expect !== \"key1\") throw new Error(\"Parser cannot parse input: unexpected token '}'\");\n            tokens.push({ name: \"endObject\" });\n            parent = stack.pop();\n            expect = expected[parent];\n          }\n          index += value.length;\n          break;\n        case \"colon\":\n          patterns.colon.lastIndex = index;\n          match = patterns.colon.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected ':'\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          value === \":\" && (expect = \"value\");\n          index += value.length;\n          break;\n        case \"arrayStop\":\n        case \"objectStop\":\n          patterns.comma.lastIndex = index;\n          match = patterns.comma.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected ','\");\n            break main; // wait for more input\n          }\n          if (openNumber) {\n            if (streamNumbers) tokens.push({ name: \"endNumber\" });\n            openNumber = false;\n            if (packNumbers) {\n              tokens.push({ name: \"numberValue\", value: accumulator });\n              accumulator = \"\";\n            }\n          }\n          value = match[0];\n          if (value === \",\") {\n            expect = expect === \"arrayStop\" ? \"value\" : \"key\";\n          } else if (value === \"}\" || value === \"]\") {\n            if (value === \"}\" ? expect === \"arrayStop\" : expect !== \"arrayStop\") {\n              throw new Error(\"Parser cannot parse input: expected '\" + (expect === \"arrayStop\" ? \"]\" : \"}\") + \"'\");\n            }\n            tokens.push({ name: value === \"}\" ? \"endObject\" : \"endArray\" });\n            parent = stack.pop();\n            expect = expected[parent];\n          }\n          index += value.length;\n          break;\n        // number chunks\n        case \"numberStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected a starting digit\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = value === \"0\" ? \"numberFraction\" : \"numberDigit\";\n          index += value.length;\n          break;\n        case \"numberDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected a digit\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length) {\n              expect = \"numberFraction\";\n              break;\n            }\n            if (done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"numberFraction\": // [\\.eE]?\n          patterns.numberFraction.lastIndex = index;\n          match = patterns.numberFraction.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = value === \".\" ? \"numberFracStart\" : \"numberExpSign\";\n          index += value.length;\n          break;\n        case \"numberFracStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done)\n              throw new Error(\"Parser cannot parse input: expected a fractional part of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberFracDigit\";\n          index += value.length;\n          break;\n        case \"numberFracDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length) {\n              expect = \"numberExponent\";\n              break;\n            }\n            if (done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"numberExponent\": // [eE]?\n          patterns.numberExponent.lastIndex = index;\n          match = patterns.numberExponent.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              expect = expected[parent];\n              break;\n            }\n            if (done) {\n              expect = \"done\";\n              break;\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpSign\";\n          index += value.length;\n          break;\n        case \"numberExpSign\": // [-+]?\n          patterns.numberExpSign.lastIndex = index;\n          match = patterns.numberExpSign.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              expect = \"numberExpStart\";\n              break;\n            }\n            if (done) throw new Error(\"Parser has expected an exponent value of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpStart\";\n          index += value.length;\n          break;\n        case \"numberExpStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done)\n              throw new Error(\"Parser cannot parse input: expected an exponent part of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpDigit\";\n          index += value.length;\n          break;\n        case \"numberExpDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length || done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"done\":\n          patterns.ws.lastIndex = index;\n          match = patterns.ws.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              if (jsonStreaming) {\n                expect = \"value\";\n                break;\n              }\n              throw new Error(\"Parser cannot parse input: unexpected characters\");\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (openNumber) {\n            if (streamNumbers) tokens.push({ name: \"endNumber\" });\n            openNumber = false;\n            if (packNumbers) {\n              tokens.push({ name: \"numberValue\", value: accumulator });\n              accumulator = \"\";\n            }\n          }\n          index += value.length;\n          break;\n      }\n    }\n    if (done && openNumber) {\n      if (streamNumbers) tokens.push({ name: \"endNumber\" });\n      openNumber = false;\n      if (packNumbers) {\n        tokens.push({ name: \"numberValue\", value: accumulator });\n        accumulator = \"\";\n      }\n    }\n    buffer = buffer.slice(index);\n    return tokens.length ? many(tokens) : none;\n  });\n};\n\nexport const parser = (options?: any) => gen(fixUtf8Stream(), jsonParser(options));\n\nconst withParser = (fn: any, options?: any) => gen(parser(options), fn(options));\n\nconst checkableTokens = {\n    startObject: 1,\n    startArray: 1,\n    startString: 1,\n    startNumber: 1,\n    nullValue: 1,\n    trueValue: 1,\n    falseValue: 1,\n    stringValue: 1,\n    numberValue: 1,\n  },\n  stopTokens = {\n    startObject: \"endObject\",\n    startArray: \"endArray\",\n    startString: \"endString\",\n    startNumber: \"endNumber\",\n  },\n  optionalTokens = { endString: \"stringValue\", endNumber: \"numberValue\" };\n\nconst defaultFilter = (_stack: string[], _a: any) => true;\n\nconst stringFilter = (string: string, separator: string) => {\n  const stringWithSeparator = string + separator;\n  return (stack: string[], _a: any) => {\n    const path = stack.join(separator);\n    return path === string || path.startsWith(stringWithSeparator);\n  };\n};\n\nconst regExpFilter = (regExp: RegExp, separator: string) => {\n  return (stack: string[], _a: any) => regExp.test(stack.join(separator));\n};\n\nconst filterBase =\n  ({\n    specialAction = \"accept\",\n    defaultAction = \"ignore\",\n    nonCheckableAction = \"process-key\",\n    transition = undefined as any,\n  } = {}) =>\n  (options: any) => {\n    const once = options?.once,\n      separator = options?.pathSeparator || \".\";\n    let filter = defaultFilter,\n      streamKeys = true;\n    if (options) {\n      if (typeof options.filter == \"function\") {\n        filter = options.filter;\n      } else if (typeof options.filter == \"string\") {\n        filter = stringFilter(options.filter, separator);\n      } else if (options.filter instanceof RegExp) {\n        filter = regExpFilter(options.filter, separator);\n      }\n      if (\"streamValues\" in options) streamKeys = options.streamValues;\n      if (\"streamKeys\" in options) streamKeys = options.streamKeys;\n    }\n    const sanitizedOptions = Object.assign({}, options, { filter, streamKeys, separator });\n    let state = \"check\";\n    const stack: any[] = [];\n    let depth = 0,\n      previousToken = \"\",\n      endToken = \"\",\n      optionalToken = \"\",\n      startTransition = false;\n    return flushable((chunk) => {\n      // the flush\n      if (chunk === none) return transition ? transition([], null, \"flush\", sanitizedOptions) : none;\n\n      // process the optional value token (unfinished)\n      if (optionalToken) {\n        if (optionalToken === chunk.name) {\n          let returnToken = none;\n          switch (state) {\n            case \"process-key\":\n              stack[stack.length - 1] = chunk.value;\n              state = \"check\";\n              break;\n            case \"accept-value\":\n              returnToken = chunk;\n              state = once ? \"pass\" : \"check\";\n              break;\n            default:\n              state = once ? \"all\" : \"check\";\n              break;\n          }\n          optionalToken = \"\";\n          return returnToken;\n        }\n        optionalToken = \"\";\n        state = once && state !== \"process-key\" ? \"pass\" : \"check\";\n      }\n\n      let returnToken: any = none;\n\n      recheck: for (;;) {\n        // accept/reject tokens\n        switch (state) {\n          case \"process-key\":\n            if (chunk.name === \"endKey\") optionalToken = \"keyValue\";\n            return none;\n          case \"pass\":\n            return none;\n          case \"all\":\n            return chunk;\n          case \"accept\":\n          case \"reject\":\n            if (startTransition) {\n              startTransition = false;\n              returnToken = transition(stack, chunk, state, sanitizedOptions) || none;\n            }\n            switch (chunk.name) {\n              case \"startObject\":\n              case \"startArray\":\n                ++depth;\n                break;\n              case \"endObject\":\n              case \"endArray\":\n                --depth;\n                break;\n            }\n            if (state === \"accept\") {\n              returnToken = combineManyMut(returnToken, chunk);\n            }\n            if (!depth) {\n              if (once) {\n                state = state === \"accept\" ? \"pass\" : \"all\";\n              } else {\n                state = \"check\";\n              }\n            }\n            return returnToken;\n          case \"accept-value\":\n          case \"reject-value\":\n            if (startTransition) {\n              startTransition = false;\n              returnToken = transition(stack, chunk, state, sanitizedOptions) || none;\n            }\n            if (state === \"accept-value\") {\n              returnToken = combineManyMut(returnToken, chunk);\n            }\n            if (chunk.name === endToken) {\n              // @ts-ignore\n              optionalToken = optionalTokens[endToken] || \"\";\n              endToken = \"\";\n              if (!optionalToken) {\n                if (once) {\n                  state = state === \"accept-value\" ? \"pass\" : \"all\";\n                } else {\n                  state = \"check\";\n                }\n              }\n            }\n            return returnToken;\n        }\n\n        // update the last index in the stack\n        if (typeof stack[stack.length - 1] == \"number\") {\n          // array\n          switch (chunk.name) {\n            case \"startObject\":\n            case \"startArray\":\n            case \"startString\":\n            case \"startNumber\":\n            case \"nullValue\":\n            case \"trueValue\":\n            case \"falseValue\":\n              ++stack[stack.length - 1];\n              break;\n            case \"numberValue\":\n              if (previousToken !== \"endNumber\") ++stack[stack.length - 1];\n              break;\n            case \"stringValue\":\n              if (previousToken !== \"endString\") ++stack[stack.length - 1];\n              break;\n          }\n        } else {\n          if (chunk.name === \"keyValue\") stack[stack.length - 1] = chunk.value;\n        }\n        previousToken = chunk.name;\n\n        // check the token\n        const action =\n          // @ts-ignore\n          checkableTokens[chunk.name] !== 1 ? nonCheckableAction : filter(stack, chunk) ? specialAction : defaultAction;\n\n        // @ts-ignore\n        endToken = stopTokens[chunk.name] || \"\";\n        switch (action) {\n          case \"process-key\":\n            if (chunk.name === \"startKey\") {\n              state = \"process-key\";\n              continue recheck;\n            }\n            break;\n          case \"accept-token\":\n            // @ts-ignore\n            if (endToken && optionalTokens[endToken]) {\n              state = \"accept-value\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            returnToken = combineManyMut(returnToken, chunk);\n            break;\n          case \"accept\":\n            if (endToken) {\n              // @ts-ignore\n              state = optionalTokens[endToken] ? \"accept-value\" : \"accept\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            returnToken = combineManyMut(returnToken, chunk);\n            break;\n          case \"reject\":\n            if (endToken) {\n              // @ts-ignore\n              state = optionalTokens[endToken] ? \"reject-value\" : \"reject\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            break;\n          case \"pass\":\n            state = \"pass\";\n            continue recheck;\n        }\n\n        break;\n      }\n\n      // update the stack\n      switch (chunk.name) {\n        case \"startObject\":\n          stack.push(null);\n          break;\n        case \"startArray\":\n          stack.push(-1);\n          break;\n        case \"endObject\":\n        case \"endArray\":\n          stack.pop();\n          break;\n      }\n\n      return returnToken;\n    });\n  };\n\nexport const PickParser = (options?: any) => withParser(filterBase(), Object.assign({ packKeys: true }, options));\n\nclass Counter {\n  depth: number;\n  constructor(initialDepth: number) {\n    this.depth = initialDepth;\n  }\n  startObject() {\n    ++this.depth;\n  }\n  endObject() {\n    --this.depth;\n  }\n  startArray() {\n    ++this.depth;\n  }\n  endArray() {\n    --this.depth;\n  }\n}\n\nclass Assembler extends EventEmitter {\n  static connectTo(stream: any, options: any) {\n    return new Assembler(options).connectTo(stream);\n  }\n\n  stack: any;\n  current: any;\n  key: any;\n  done: boolean;\n  reviver: any;\n  // @ts-ignore\n  stringValue: (value: string) => void;\n  tapChain: (chunk: any) => any;\n\n  constructor(options: any) {\n    super();\n    this.stack = [];\n    this.current = this.key = null;\n    this.done = true;\n    if (options) {\n      this.reviver = typeof options.reviver == \"function\" && options.reviver;\n      if (this.reviver) {\n        this.stringValue = this._saveValue = this._saveValueWithReviver;\n      }\n      if (options.numberAsString) {\n        // @ts-ignore\n        this.numberValue = this.stringValue;\n      }\n    }\n\n    this.tapChain = (chunk) => {\n      // @ts-ignore\n      if (this[chunk.name]) {\n        // @ts-ignore\n        this[chunk.name](chunk.value);\n        if (this.done) return this.current;\n      }\n      return none;\n    };\n\n    this.stringValue = this._saveValue;\n  }\n\n  connectTo(stream: any) {\n    stream.on(\"data\", (chunk: any) => {\n      // @ts-ignore\n      if (this[chunk.name]) {\n        // @ts-ignore\n        this[chunk.name](chunk.value);\n        // @ts-ignore\n        if (this.done) this.emit(\"done\", this);\n      }\n    });\n    return this;\n  }\n\n  get depth() {\n    return (this.stack.length >> 1) + (this.done ? 0 : 1);\n  }\n\n  get path() {\n    const path: any[] = [];\n    for (let i = 0; i < this.stack.length; i += 2) {\n      const key = this.stack[i + 1];\n      path.push(key === null ? this.stack[i].length : key);\n    }\n    return path;\n  }\n\n  dropToLevel(level: any) {\n    if (level < this.depth) {\n      if (level > 0) {\n        const index = (level - 1) << 1;\n        this.current = this.stack[index];\n        this.key = this.stack[index + 1];\n        this.stack.splice(index);\n      } else {\n        this.stack = [];\n        this.current = this.key = null;\n        this.done = true;\n      }\n    }\n    return this;\n  }\n\n  consume(chunk: any) {\n    // @ts-ignore\n    this[chunk.name] && this[chunk.name](chunk.value);\n    return this;\n  }\n\n  keyValue(value: any) {\n    this.key = value;\n  }\n\n  //stringValue() - aliased below to _saveValue()\n\n  numberValue(value: any) {\n    this._saveValue(parseFloat(value));\n  }\n  nullValue() {\n    this._saveValue(null);\n  }\n  trueValue() {\n    this._saveValue(true);\n  }\n  falseValue() {\n    this._saveValue(false);\n  }\n\n  startObject() {\n    if (this.done) {\n      this.done = false;\n    } else {\n      this.stack.push(this.current, this.key);\n    }\n    this.current = new Object();\n    this.key = null;\n  }\n\n  endObject() {\n    if (this.stack.length) {\n      const value = this.current;\n      this.key = this.stack.pop();\n      this.current = this.stack.pop();\n      this._saveValue(value);\n    } else {\n      this.done = true;\n    }\n  }\n\n  startArray() {\n    if (this.done) {\n      this.done = false;\n    } else {\n      this.stack.push(this.current, this.key);\n    }\n    this.current = [];\n    this.key = null;\n  }\n\n  endArray() {\n    if (this.stack.length) {\n      const value = this.current;\n      this.key = this.stack.pop();\n      this.current = this.stack.pop();\n      this._saveValue(value);\n    } else {\n      this.done = true;\n    }\n  }\n\n  _saveValue(value: any) {\n    if (this.done) {\n      this.current = value;\n    } else {\n      if (this.current instanceof Array) {\n        this.current.push(value);\n      } else {\n        this.current[this.key] = value;\n        this.key = null;\n      }\n    }\n  }\n  _saveValueWithReviver(value: any) {\n    if (this.done) {\n      this.current = this.reviver(\"\", value);\n    } else {\n      if (this.current instanceof Array) {\n        value = this.reviver(\"\" + this.current.length, value);\n        this.current.push(value);\n        if (value === undefined) {\n          delete this.current[this.current.length - 1];\n        }\n      } else {\n        value = this.reviver(this.key, value);\n        if (value !== undefined) {\n          this.current[this.key] = value;\n        }\n        this.key = null;\n      }\n    }\n  }\n}\n\nconst streamBase =\n  ({ push, first, level }: any) =>\n  (options = {} as any) => {\n    const { objectFilter, includeUndecided } = options;\n    let asm = new Assembler(options) as any,\n      state = first ? \"first\" : \"check\",\n      savedAsm = null as any;\n\n    if (typeof objectFilter != \"function\") {\n      // no object filter + no first check\n      if (state === \"check\")\n        return (chunk: any) => {\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              return push(asm);\n            }\n          }\n          return none;\n        };\n      // no object filter\n      return (chunk: any) => {\n        switch (state) {\n          case \"first\":\n            first(chunk);\n            state = \"accept\";\n          // fall through\n          case \"accept\":\n            if (asm[chunk.name]) {\n              asm[chunk.name](chunk.value);\n              if (asm.depth === level) {\n                return push(asm);\n              }\n            }\n            break;\n        }\n        return none;\n      };\n    }\n\n    // object filter + a possible first check\n    return (chunk: any) => {\n      switch (state) {\n        case \"first\":\n          first(chunk);\n          state = \"check\";\n        // fall through\n        case \"check\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            const result = objectFilter(asm);\n            if (result) {\n              state = \"accept\";\n              if (asm.depth === level) return push(asm);\n            } else if (result === false) {\n              if (asm.depth === level) return push(asm, true);\n              state = \"reject\";\n              savedAsm = asm;\n              asm = new Counter(savedAsm.depth);\n              savedAsm.dropToLevel(level);\n            } else {\n              if (asm.depth === level) return push(asm, !includeUndecided);\n            }\n          }\n          break;\n        case \"accept\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              state = \"check\";\n              return push(asm);\n            }\n          }\n          break;\n        case \"reject\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              state = \"check\";\n              asm = savedAsm;\n              savedAsm = null;\n              return push(asm, true);\n            }\n          }\n          break;\n      }\n      return none;\n    };\n  };\n\nexport const StreamArray = (options?: any) => {\n  let key = 0;\n  return streamBase({\n    level: 1,\n\n    first(chunk: any) {\n      if (chunk.name !== \"startArray\") throw new Error(\"Top-level object should be an array.\");\n    },\n\n    push(asm: any, discard: any) {\n      if (asm.current.length) {\n        if (discard) {\n          ++key;\n          asm.current.pop();\n        } else {\n          return { key: key++, value: asm.current.pop() };\n        }\n      }\n      return none;\n    },\n  })(options);\n};\n", "import { List, MenuBarExtra, Icon, open, LaunchType, environment, ActionPanel, Action } from \"@raycast/api\";\nimport { existsSync } from \"node:fs\";\nimport os from \"node:os\";\nimport { useRef, useState, useCallback, useMemo } from \"react\";\nimport { usePromise, PromiseOptions } from \"./usePromise\";\nimport { useLatest } from \"./useLatest\";\nimport { showFailureToast } from \"./showFailureToast\";\nimport { baseExecuteSQL, PermissionError, isPermissionError } from \"./sql-utils\";\n\n/**\n * Executes a query on a local SQL database and returns the {@link AsyncState} corresponding to the query of the command. The last value will be kept between command runs.\n *\n * @example\n * ```\n * import { useSQL } from \"@raycast/utils\";\n * import { resolve } from \"path\";\n * import { homedir } from \"os\";\n *\n * const NOTES_DB = resolve(homedir(), \"Library/Group Containers/group.com.apple.notes/NoteStore.sqlite\");\n * const notesQuery = `SELECT id, title FROM ...`;\n * type NoteItem = {\n *   id: string;\n *   title: string;\n * };\n *\n * export default function Command() {\n *   const { isLoading, data, permissionView } = useSQL<NoteItem>(NOTES_DB, notesQuery);\n *\n *   if (permissionView) {\n *     return permissionView;\n *   }\n *\n *   return (\n *     <List isLoading={isLoading}>\n *       {(data || []).map((item) => (\n *         <List.Item key={item.id} title={item.title} />\n *       ))}\n *     </List>\n *  );\n * };\n * ```\n */\nexport function useSQL<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    /** A string explaining why the extension needs full disk access. For example, the Apple Notes extension uses `\"This is required to search your Apple Notes.\"`. While it is optional, we recommend setting it to help users understand. */\n    permissionPriming?: string;\n  } & Omit<PromiseOptions<(database: string, query: string) => Promise<T[]>>, \"abortable\">,\n) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { permissionPriming, ...usePromiseOptions } = options || {};\n\n  const [permissionView, setPermissionView] = useState<React.JSX.Element | null>(null);\n  const latestOptions = useLatest(options || {});\n  const abortable = useRef<AbortController>(null);\n\n  const handleError = useCallback(\n    (_error: Error) => {\n      console.error(_error);\n      const error =\n        _error instanceof Error && _error.message.includes(\"authorization denied\")\n          ? new PermissionError(\"You do not have permission to access the database.\")\n          : (_error as Error);\n\n      if (isPermissionError(error)) {\n        setPermissionView(<PermissionErrorScreen priming={latestOptions.current.permissionPriming} />);\n      } else {\n        if (latestOptions.current.onError) {\n          latestOptions.current.onError(error);\n        } else {\n          if (environment.launchType !== LaunchType.Background) {\n            showFailureToast(error, {\n              title: \"Cannot query the data\",\n            });\n          }\n        }\n      }\n    },\n    [latestOptions],\n  );\n\n  const fn = useMemo(() => {\n    if (!existsSync(databasePath)) {\n      throw new Error(\"The database does not exist\");\n    }\n\n    return async (databasePath: string, query: string) => {\n      const abortSignal = abortable.current?.signal;\n      return baseExecuteSQL<T>(databasePath, query, { signal: abortSignal });\n    };\n  }, [databasePath]);\n\n  return {\n    ...usePromise(fn, [databasePath, query], { ...usePromiseOptions, onError: handleError }),\n    permissionView,\n  };\n}\n\nfunction PermissionErrorScreen(props: { priming?: string }) {\n  const macosVenturaAndLater = parseInt(os.release().split(\".\")[0]) >= 22;\n  const preferencesString = macosVenturaAndLater ? \"Settings\" : \"Preferences\";\n\n  const action = macosVenturaAndLater\n    ? {\n        title: \"Open System Settings -> Privacy\",\n        target: \"x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles\",\n      }\n    : {\n        title: \"Open System Preferences -> Security\",\n        target: \"x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles\",\n      };\n\n  if (environment.commandMode === \"menu-bar\") {\n    return (\n      <MenuBarExtra icon={Icon.Warning} title={environment.commandName}>\n        <MenuBarExtra.Item\n          title=\"Raycast needs full disk access\"\n          tooltip={`You can revert this access in ${preferencesString} whenever you want`}\n        />\n        {props.priming ? (\n          <MenuBarExtra.Item\n            title={props.priming}\n            tooltip={`You can revert this access in ${preferencesString} whenever you want`}\n          />\n        ) : null}\n        <MenuBarExtra.Separator />\n        <MenuBarExtra.Item title={action.title} onAction={() => open(action.target)} />\n      </MenuBarExtra>\n    );\n  }\n\n  return (\n    <List>\n      <List.EmptyView\n        icon={{\n          source: {\n            light: \"https://raycast.com/uploads/extensions-utils-security-permissions-light.png\",\n            dark: \"https://raycast.com/uploads/extensions-utils-security-permissions-dark.png\",\n          },\n        }}\n        title=\"Raycast needs full disk access.\"\n        description={`${\n          props.priming ? props.priming + \"\\n\" : \"\"\n        }You can revert this access in ${preferencesString} whenever you want.`}\n        actions={\n          <ActionPanel>\n            <Action.Open {...action} />\n          </ActionPanel>\n        }\n      />\n    </List>\n  );\n}\n", "import { existsSync } from \"node:fs\";\nimport { copyFile, mkdir, writeFile } from \"node:fs/promises\";\nimport os from \"node:os\";\nimport childProcess from \"node:child_process\";\nimport path from \"node:path\";\nimport { getSpawnedPromise, getSpawnedResult } from \"./exec-utils\";\nimport { hash } from \"./helpers\";\n\nexport class PermissionError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = \"PermissionError\";\n  }\n}\n\nexport function isPermissionError(error: unknown): error is PermissionError {\n  return error instanceof Error && error.name === \"PermissionError\";\n}\n\nexport async function baseExecuteSQL<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    signal?: AbortSignal;\n  },\n): Promise<T[]> {\n  if (!existsSync(databasePath)) {\n    throw new Error(\"The database does not exist\");\n  }\n\n  let sqlite3: typeof import(\"node:sqlite\");\n  try {\n    // this is a bit ugly but we can't directly import \"node:sqlite\" here because parcel will hoist it anyway and it will break when it's not available\n    const dynamicImport = (module: string) => import(module);\n    sqlite3 = await dynamicImport(\"node:sqlite\");\n  } catch (error) {\n    // If sqlite3 is not available, we fallback to using the sqlite3 CLI (available on macOS and Linux by default).\n    return sqliteFallback<T>(databasePath, query, options);\n  }\n\n  let db = new sqlite3.DatabaseSync(databasePath, { open: false, readOnly: true });\n\n  const abortSignal = options?.signal;\n\n  try {\n    db.open();\n  } catch (error: any) {\n    console.log(error);\n    if (error.message.match(\"(5)\") || error.message.match(\"(14)\")) {\n      // That means that the DB is busy because of another app is locking it\n      // This happens when Chrome or Arc is opened: they lock the History db.\n      // As an ugly workaround, we duplicate the file and read that instead\n      // (with vfs unix - none to just not care about locks)\n      let workaroundCopiedDb: string | undefined;\n      if (!workaroundCopiedDb) {\n        const tempFolder = path.join(os.tmpdir(), \"useSQL\", hash(databasePath));\n        await mkdir(tempFolder, { recursive: true });\n        checkAborted(abortSignal);\n\n        workaroundCopiedDb = path.join(tempFolder, \"db.db\");\n        await copyFile(databasePath, workaroundCopiedDb);\n\n        await writeFile(workaroundCopiedDb + \"-shm\", \"\");\n        await writeFile(workaroundCopiedDb + \"-wal\", \"\");\n\n        checkAborted(abortSignal);\n      }\n\n      db = new sqlite3.DatabaseSync(workaroundCopiedDb, { open: false, readOnly: true });\n      db.open();\n      checkAborted(abortSignal);\n    }\n  }\n\n  const statement = db.prepare(query);\n  checkAborted(abortSignal);\n\n  const result = statement.all();\n\n  db.close();\n\n  return result as T[];\n}\n\nasync function sqliteFallback<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    signal?: AbortSignal;\n  },\n): Promise<T[]> {\n  const abortSignal = options?.signal;\n\n  let spawned = childProcess.spawn(\"sqlite3\", [\"--json\", \"--readonly\", databasePath, query], { signal: abortSignal });\n  let spawnedPromise = getSpawnedPromise(spawned);\n  let [{ error, exitCode, signal }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf-8\" },\n    spawnedPromise,\n  );\n  checkAborted(abortSignal);\n\n  if (stderrResult.match(\"(5)\") || stderrResult.match(\"(14)\")) {\n    // That means that the DB is busy because of another app is locking it\n    // This happens when Chrome or Arc is opened: they lock the History db.\n    // As an ugly workaround, we duplicate the file and read that instead\n    // (with vfs unix - none to just not care about locks)\n    let workaroundCopiedDb: string | undefined;\n    if (!workaroundCopiedDb) {\n      const tempFolder = path.join(os.tmpdir(), \"useSQL\", hash(databasePath));\n      await mkdir(tempFolder, { recursive: true });\n      checkAborted(abortSignal);\n\n      workaroundCopiedDb = path.join(tempFolder, \"db.db\");\n      await copyFile(databasePath, workaroundCopiedDb);\n\n      await writeFile(workaroundCopiedDb + \"-shm\", \"\");\n      await writeFile(workaroundCopiedDb + \"-wal\", \"\");\n\n      checkAborted(abortSignal);\n    }\n\n    spawned = childProcess.spawn(\"sqlite3\", [\"--json\", \"--readonly\", \"--vfs\", \"unix-none\", workaroundCopiedDb, query], {\n      signal: abortSignal,\n    });\n    spawnedPromise = getSpawnedPromise(spawned);\n    [{ error, exitCode, signal }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n      spawned,\n      { encoding: \"utf-8\" },\n      spawnedPromise,\n    );\n    checkAborted(abortSignal);\n  }\n\n  if (error || exitCode !== 0 || signal !== null) {\n    if (stderrResult.includes(\"authorization denied\")) {\n      throw new PermissionError(\"You do not have permission to access the database.\");\n    } else {\n      throw new Error(stderrResult || \"Unknown error\");\n    }\n  }\n\n  return JSON.parse(stdoutResult.trim() || \"[]\") as T[];\n}\n\nfunction checkAborted(signal?: AbortSignal) {\n  if (signal?.aborted) {\n    const error = new Error(\"aborted\");\n    error.name = \"AbortError\";\n    throw error;\n  }\n}\n", "import { Form } from \"@raycast/api\";\nimport { useState, useCallback, useMemo, useRef, SetStateAction } from \"react\";\nimport { useLatest } from \"./useLatest\";\n\n/**\n * Shorthands for common validation cases\n */\nexport enum FormValidation {\n  /** Show an error when the value of the item is empty */\n  Required = \"required\",\n}\n\ntype ValidationError = string | undefined | null;\ntype Validator<ValueType> = ((value: ValueType | undefined) => ValidationError) | FormValidation;\n\nfunction validationError<ValueType>(\n  validation: Validator<ValueType> | undefined,\n  value: ValueType | undefined,\n): ValidationError {\n  if (validation) {\n    if (typeof validation === \"function\") {\n      return validation(value);\n    } else if (validation === FormValidation.Required) {\n      let valueIsValid = typeof value !== \"undefined\" && value !== null;\n      if (valueIsValid) {\n        switch (typeof value) {\n          case \"string\":\n            valueIsValid = value.length > 0;\n            break;\n          case \"object\":\n            if (Array.isArray(value)) {\n              valueIsValid = value.length > 0;\n            } else if (value instanceof Date) {\n              valueIsValid = value.getTime() > 0;\n            }\n            break;\n          default:\n            break;\n        }\n      }\n      if (!valueIsValid) {\n        return \"The item is required\";\n      }\n    }\n  }\n}\n\ntype Validation<T extends Form.Values> = { [id in keyof T]?: Validator<T[id]> };\n\ninterface FormProps<T extends Form.Values> {\n  /** Function to pass to the `onSubmit` prop of the `<Action.SubmitForm>` element. It wraps the initial `onSubmit` argument with some goodies related to the validation. */\n  handleSubmit: (values: T) => void | boolean | Promise<void | boolean>;\n  /** The props that must be passed to the `<Form.Item>` elements to handle the validations. */\n  itemProps: {\n    [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & {\n      id: string;\n    };\n  };\n  /** Function that can be used to programmatically set the validation of a specific field. */\n  setValidationError: (id: keyof T, error: ValidationError) => void;\n  /** Function that can be used to programmatically set the value of a specific field. */\n  setValue: <K extends keyof T>(id: K, value: SetStateAction<T[K]>) => void;\n  /** The current values of the form. */\n  values: T;\n  /** Function that can be used to programmatically focus a specific field. */\n  focus: (id: keyof T) => void;\n  /** Function that can be used to reset the values of the Form. */\n  reset: (initialValues?: Partial<T>) => void;\n}\n\n/**\n * Hook that provides a high-level interface to work with Forms, and more particularly, with Form validations. It incorporates all the good practices to provide a great User Experience for your Forms.\n *\n * @returns an object which contains the necessary methods and props to provide a good User Experience in your Form.\n *\n * @example\n * ```\n * import { Action, ActionPanel, Form, showToast, Toast } from \"@raycast/api\";\n * import { useForm, FormValidation } from \"@raycast/utils\";\n *\n * interface SignUpFormValues {\n *   nickname: string;\n *   password: string;\n * }\n *\n * export default function Command() {\n *   const { handleSubmit, itemProps } = useForm<SignUpFormValues>({\n *     onSubmit(values) {\n *       showToast(Toast.Style.Success, \"Yay!\", `${values.nickname} account created`);\n *     },\n *     validation: {\n *       nickname: FormValidation.Required,\n *       password: (value) => {\n *         if (value && value.length < 8) {\n *           return \"Password must be at least 8 symbols\";\n *         } else if (!value) {\n *           return \"The item is required\";\n *         }\n *       },\n *     },\n *   });\n *\n *   return (\n *     <Form\n *       actions={\n *         <ActionPanel>\n *           <Action.SubmitForm title=\"Submit\" onSubmit={handleSubmit} />\n *         </ActionPanel>\n *       }\n *     >\n *       <Form.TextField title=\"Nickname\" placeholder=\"Enter your nickname\" {...itemProps.nickname} />\n *       <Form.PasswordField\n *         title=\"Password\"\n *         placeholder=\"Enter password at least 8 characters long\"\n *         {...itemProps.password}\n *       />\n *     </Form>\n *   );\n * }\n * ```\n */\nexport function useForm<T extends Form.Values>(props: {\n  /** Callback that will be called when the form is submitted and all validations pass. */\n  onSubmit: (values: T) => void | boolean | Promise<void | boolean>;\n  /** The initial values to set when the Form is first rendered. */\n  initialValues?: Partial<T>;\n  /** The validation rules for the Form. A validation for a Form item is a function that takes the current value of the item as an argument and must return a string when the validation is failing.\n   *\n   * There are also some shorthands for common cases, see {@link FormValidation}.\n   * */\n  validation?: Validation<T>;\n}): FormProps<T> {\n  const { onSubmit: _onSubmit, validation, initialValues = {} } = props;\n\n  // @ts-expect-error it's fine if we don't specify all the values\n  const [values, setValues] = useState<T>(initialValues);\n  const [errors, setErrors] = useState<{ [id in keyof T]?: ValidationError }>({});\n  const refs = useRef<{ [id in keyof T]?: Form.ItemReference }>({});\n\n  const latestValidation = useLatest<Validation<T>>(validation || {});\n  const latestOnSubmit = useLatest(_onSubmit);\n\n  const focus = useCallback(\n    (id: keyof T) => {\n      refs.current[id]?.focus();\n    },\n    [refs],\n  );\n\n  const handleSubmit = useCallback(\n    async (values: T): Promise<boolean> => {\n      let validationErrors: false | { [key in keyof T]?: ValidationError } = false;\n      for (const [id, validation] of Object.entries(latestValidation.current)) {\n        const error = validationError(validation, values[id]);\n        if (error) {\n          if (!validationErrors) {\n            validationErrors = {};\n            // we focus the first item that has an error\n            focus(id);\n          }\n          validationErrors[id as keyof T] = error;\n        }\n      }\n      if (validationErrors) {\n        setErrors(validationErrors);\n        return false;\n      }\n      const result = await latestOnSubmit.current(values);\n      return typeof result === \"boolean\" ? result : true;\n    },\n    [latestValidation, latestOnSubmit, focus],\n  );\n\n  const setValidationError = useCallback(\n    (id: keyof T, error: ValidationError) => {\n      setErrors((errors) => ({ ...errors, [id]: error }));\n    },\n    [setErrors],\n  );\n\n  const setValue = useCallback(\n    function <K extends keyof T>(id: K, value: SetStateAction<T[K]>) {\n      // @ts-expect-error TS is always confused about SetStateAction, but it's fine here\n      setValues((values) => ({ ...values, [id]: typeof value === \"function\" ? value(values[id]) : value }));\n    },\n    [setValues],\n  );\n\n  const itemProps = useMemo<{ [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & { id: string } }>(() => {\n    // we have to use a proxy because we don't actually have any object to iterate through\n    // so instead we dynamically create the props when required\n    return new Proxy<{ [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & { id: string } }>(\n      // @ts-expect-error the whole point of a proxy...\n      {},\n      {\n        get(target, id: keyof T) {\n          const validation = latestValidation.current[id];\n          const value = values[id];\n          return {\n            onChange(value) {\n              if (errors[id]) {\n                const error = validationError(validation, value);\n                if (!error) {\n                  setValidationError(id, undefined);\n                }\n              }\n              setValue(id, value);\n            },\n            onBlur(event) {\n              const error = validationError(validation, event.target.value);\n              if (error) {\n                setValidationError(id, error);\n              }\n            },\n            error: errors[id],\n            id,\n            // we shouldn't return `undefined` otherwise it will be an uncontrolled component\n            value: typeof value === \"undefined\" ? null : value,\n            ref: (instance: Form.ItemReference) => {\n              refs.current[id] = instance;\n            },\n          } as Partial<Form.ItemProps<T[keyof T]>> & { id: string };\n        },\n      },\n    );\n  }, [errors, latestValidation, setValidationError, values, refs, setValue]);\n\n  const reset = useCallback(\n    (values?: Partial<T>) => {\n      setErrors({});\n      Object.entries(refs.current).forEach(([id, ref]) => {\n        if (!values?.[id]) {\n          ref?.reset();\n        }\n      });\n      if (values) {\n        // @ts-expect-error it's fine if we don't specify all the values\n        setValues(values);\n      }\n    },\n    [setValues, setErrors, refs],\n  );\n\n  return { handleSubmit, setValidationError, setValue, values, itemProps, focus, reset };\n}\n", "import { useRef, useState } from \"react\";\nimport { AI } from \"@raycast/api\";\nimport { PromiseOptions, usePromise } from \"./usePromise\";\nimport { FunctionReturningPromise } from \"./types\";\n\n/**\n * Stream a prompt completion.\n *\n * @example\n * ```typescript\n * import { Detail, LaunchProps } from \"@raycast/api\";\n * import { use AI } from \"@raycast/utils\";\n *\n * export default function Command(props: LaunchProps<{ arguments: { prompt: string } }>) {\n *   const { isLoading, data } = useAI(props.arguments.prompt);\n *\n *   return <Detail isLoading={isLoading} markdown={data} />;\n * }\n * ```\n */\nexport function useAI(\n  prompt: string,\n  options: {\n    /**\n     * Concrete tasks, such as fixing grammar, require less creativity while open-ended questions, such as generating ideas, require more.\n     * If a number is passed, it needs to be in the range 0-2. For larger values, 2 will be used. For lower values, 0 will be used.\n     */\n    creativity?: AI.Creativity;\n    /**\n     * The AI model to use to answer to the prompt.\n     */\n    model?: AI.Model;\n    /**\n     * Whether to stream the answer or only update the data when the entire answer has been received.\n     */\n    stream?: boolean;\n  } & Omit<PromiseOptions<FunctionReturningPromise>, \"abortable\"> = {},\n) {\n  const { creativity, stream, model, ...usePromiseOptions } = options;\n  const [data, setData] = useState(\"\");\n  const abortable = useRef<AbortController>(null);\n  const { isLoading, error, revalidate } = usePromise(\n    async (prompt: string, creativity?: AI.Creativity, shouldStream?: boolean) => {\n      setData(\"\");\n      const stream = AI.ask(prompt, { creativity, model, signal: abortable.current?.signal });\n      if (shouldStream === false) {\n        setData(await stream);\n      } else {\n        stream.on(\"data\", (data) => {\n          setData((x) => x + data);\n        });\n        await stream;\n      }\n    },\n    [prompt, creativity, stream],\n    { ...usePromiseOptions, abortable },\n  );\n\n  return { isLoading, data, error, revalidate };\n}\n", "import { useMemo, useCallback } from \"react\";\nimport { useLatest } from \"./useLatest\";\nimport { useCachedState } from \"./useCachedState\";\n\n// The algorithm below is inspired by the one used by Firefox:\n// https://wiki.mozilla.org/User:Jesse/NewFrecency\n\ntype Frecency = {\n  lastVisited: number;\n  frecency: number;\n};\n\nconst HALF_LIFE_DAYS = 10;\n\nconst MS_PER_DAY = 24 * 60 * 60 * 1000;\n\nconst VISIT_TYPE_POINTS = {\n  Default: 100,\n  Embed: 0,\n  Bookmark: 140,\n};\n\nfunction getNewFrecency(item?: Frecency): Frecency {\n  const now = Date.now();\n  const lastVisited = item ? item.lastVisited : 0;\n  const frecency = item ? item.frecency : 0;\n\n  const visitAgeInDays = (now - lastVisited) / MS_PER_DAY;\n  const DECAY_RATE_CONSTANT = Math.log(2) / (HALF_LIFE_DAYS * MS_PER_DAY);\n  const currentVisitValue = VISIT_TYPE_POINTS.Default * Math.exp(-DECAY_RATE_CONSTANT * visitAgeInDays);\n  const totalVisitValue = frecency + currentVisitValue;\n\n  return {\n    lastVisited: now,\n    frecency: totalVisitValue,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst defaultKey = (item: any): string => {\n  if (\n    process.env.NODE_ENV !== \"production\" &&\n    (typeof item !== \"object\" || !item || !(\"id\" in item) || typeof item.id != \"string\")\n  ) {\n    throw new Error(\"Specify a key function or make sure your items have an 'id' property\");\n  }\n  return item.id;\n};\n\n/**\n * Sort an array by its frecency and provide methods to update the frecency of its items.\n * Frecency is a measure that combines frequency and recency. The more often an item is visited/used, and the more recently an item is visited/used, the higher it will rank.\n *\n * @example\n * ```\n * import { List, ActionPanel, Action, Icon } from \"@raycast/api\";\n * import { useFetch, useFrecencySorting } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const { isLoading, data } = useFetch(\"https://api.example\");\n *   const { data: sortedData, visitItem, resetRanking } = useFrecencySorting(data);\n *\n *   return (\n *     <List isLoading={isLoading}>\n *       {sortedData.map((item) => (\n *         <List.Item\n *           key={item.id}\n *           title={item.title}\n *           actions={\n *             <ActionPanel>\n *               <Action.OpenInBrowser url={item.url} onOpen={() => visitItem(item)} />\n *               <Action.CopyToClipboard title=\"Copy Link\" content={item.url} onCopy={() => visitItem(item)} />\n *               <Action title=\"Reset Ranking\" icon={Icon.ArrowCounterClockwise} onAction={() => resetRanking(item)} />\n *             </ActionPanel>\n *           }\n *         />\n *       ))}\n *     </List>\n *   );\n * };\n * ```\n */\nexport function useFrecencySorting<T extends { id: string }>(\n  data?: T[],\n  options?: { namespace?: string; key?: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n};\nexport function useFrecencySorting<T>(\n  data: T[] | undefined,\n  options: { namespace?: string; key: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n};\nexport function useFrecencySorting<T>(\n  data?: T[],\n  options?: { namespace?: string; key?: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n} {\n  const keyRef = useLatest(options?.key || defaultKey);\n  const sortUnvisitedRef = useLatest(options?.sortUnvisited);\n\n  const [storedFrecencies, setStoredFrecencies] = useCachedState<Record<string, Frecency | undefined>>(\n    `raycast_frecency_${options?.namespace}`,\n    {},\n  );\n\n  const visitItem = useCallback(\n    async function updateFrecency(item: T) {\n      const itemKey = keyRef.current(item);\n\n      setStoredFrecencies((storedFrecencies) => {\n        const frecency = storedFrecencies[itemKey];\n        const newFrecency = getNewFrecency(frecency);\n\n        return {\n          ...storedFrecencies,\n          [itemKey]: newFrecency,\n        };\n      });\n    },\n    [keyRef, setStoredFrecencies],\n  );\n\n  const resetRanking = useCallback(\n    async function removeFrecency(item: T) {\n      const itemKey = keyRef.current(item);\n\n      setStoredFrecencies((storedFrecencies) => {\n        const newFrencencies = { ...storedFrecencies };\n        delete newFrencencies[itemKey];\n\n        return newFrencencies;\n      });\n    },\n    [keyRef, setStoredFrecencies],\n  );\n\n  const sortedData = useMemo(() => {\n    if (!data) {\n      return [];\n    }\n\n    return data.sort((a, b) => {\n      const frecencyA = storedFrecencies[keyRef.current(a)];\n      const frecencyB = storedFrecencies[keyRef.current(b)];\n\n      // If a has a frecency, but b doesn't, a should come first\n      if (frecencyA && !frecencyB) {\n        return -1;\n      }\n\n      // If b has a frecency, but a doesn't, b should come first\n      if (!frecencyA && frecencyB) {\n        return 1;\n      }\n\n      // If both frecencies are defined,put the one with the higher frecency first\n      if (frecencyA && frecencyB) {\n        return frecencyB.frecency - frecencyA.frecency;\n      }\n\n      // If both frecencies are undefined, keep the original order\n      return sortUnvisitedRef.current ? sortUnvisitedRef.current(a, b) : 0;\n    });\n  }, [storedFrecencies, data, keyRef, sortUnvisitedRef]);\n\n  return { data: sortedData, visitItem, resetRanking };\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport { showFailureToast } from \"./showFailureToast\";\nimport { replacer, reviver } from \"./helpers\";\nimport { usePromise } from \"./usePromise\";\n\n/**\n * A hook to manage a value in the local storage.\n *\n * @remark The value is stored as a JSON string in the local storage.\n *\n * @param key - The key to use for the value in the local storage.\n * @param initialValue - The initial value to use if the key doesn't exist in the local storage.\n * @returns An object with the following properties:\n * - `value`: The value from the local storage or the initial value if the key doesn't exist.\n * - `setValue`: A function to update the value in the local storage.\n * - `removeValue`: A function to remove the value from the local storage.\n * - `isLoading`: A boolean indicating if the value is loading.\n *\n * @example\n * ```\n * const { value, setValue } = useLocalStorage<string>(\"my-key\");\n * const { value, setValue } = useLocalStorage<string>(\"my-key\", \"default value\");\n * ```\n */\nexport function useLocalStorage<T>(key: string, initialValue?: T) {\n  const {\n    data: value,\n    isLoading,\n    mutate,\n  } = usePromise(\n    async (storageKey: string) => {\n      const item = await LocalStorage.getItem<string>(storageKey);\n\n      return typeof item !== \"undefined\" ? (JSON.parse(item, reviver) as T) : initialValue;\n    },\n    [key],\n  );\n\n  async function setValue(value: T) {\n    try {\n      await mutate(LocalStorage.setItem(key, JSON.stringify(value, replacer)), {\n        optimisticUpdate(value) {\n          return value;\n        },\n      });\n    } catch (error) {\n      await showFailureToast(error, { title: \"Failed to set value in local storage\" });\n    }\n  }\n\n  async function removeValue() {\n    try {\n      await mutate(LocalStorage.removeItem(key), {\n        optimisticUpdate() {\n          return undefined;\n        },\n      });\n    } catch (error) {\n      await showFailureToast(error, { title: \"Failed to remove value from local storage\" });\n    }\n  }\n\n  return { value, setValue, removeValue, isLoading };\n}\n", "export { getAvatarIcon } from \"./avatar\";\nexport { getFavicon } from \"./favicon\";\nexport { getProgressIcon } from \"./progress\";\n", "import type { Image } from \"@raycast/api\";\nimport { slightlyLighterColor, slightlyDarkerColor } from \"./color\";\n\nfunction getWholeCharAndI(str: string, i: number): [string, number] {\n  const code = str.charCodeAt(i);\n\n  if (Number.isNaN(code)) {\n    return [\"\", i];\n  }\n  if (code < 0xd800 || code > 0xdfff) {\n    return [str.charAt(i), i]; // Normal character, keeping 'i' the same\n  }\n\n  // High surrogate (could change last hex to 0xDB7F to treat high private\n  // surrogates as single characters)\n  if (0xd800 <= code && code <= 0xdbff) {\n    if (str.length <= i + 1) {\n      throw new Error(\"High surrogate without following low surrogate\");\n    }\n    const next = str.charCodeAt(i + 1);\n    if (0xdc00 > next || next > 0xdfff) {\n      throw new Error(\"High surrogate without following low surrogate\");\n    }\n    return [str.charAt(i) + str.charAt(i + 1), i + 1];\n  }\n\n  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n  if (i === 0) {\n    throw new Error(\"Low surrogate without preceding high surrogate\");\n  }\n\n  const prev = str.charCodeAt(i - 1);\n\n  // (could change last hex to 0xDB7F to treat high private surrogates\n  // as single characters)\n  if (0xd800 > prev || prev > 0xdbff) {\n    throw new Error(\"Low surrogate without preceding high surrogate\");\n  }\n\n  // Return the next character instead (and increment)\n  return [str.charAt(i + 1), i + 1];\n}\n\nconst avatarColorSet = [\n  \"#DC829A\", // Pink\n  \"#D64854\", // Red\n  \"#D47600\", // YellowOrange\n  \"#D36CDD\", // Magenta\n  \"#52A9E4\", // Aqua\n  \"#7871E8\", // Indigo\n  \"#70920F\", // YellowGreen\n  \"#43B93A\", // Green\n  \"#EB6B3E\", // Orange\n  \"#26B795\", // BlueGreen\n  \"#D85A9B\", // HotPink\n  \"#A067DC\", // Purple\n  \"#BD9500\", // Yellow\n  \"#5385D9\", // Blue\n];\n\n/**\n * Icon to represent an avatar when you don't have one. The generated avatar\n * will be generated from the initials of the name and have a colorful but consistent background.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getAvatarIcon('Mathieu Dutour')} title=\"Project\" />\n * ```\n */\nexport function getAvatarIcon(\n  name: string,\n  options?: {\n    /**\n     * Custom background color\n     */\n    background?: string;\n    /**\n     * Whether to use a gradient for the background or not.\n     * @default true\n     */\n    gradient?: boolean;\n  },\n): Image.Asset {\n  const words = name.trim().split(\" \");\n  let initials: string;\n  if (words.length == 1 && getWholeCharAndI(words[0], 0)[0]) {\n    initials = getWholeCharAndI(words[0], 0)[0];\n  } else if (words.length > 1) {\n    const firstWordFirstLetter = getWholeCharAndI(words[0], 0)[0] || \"\";\n    const lastWordFirstLetter = getWholeCharAndI(words[words.length - 1], 0)[0] ?? \"\";\n    initials = firstWordFirstLetter + lastWordFirstLetter;\n  } else {\n    initials = \"\";\n  }\n\n  let backgroundColor: string;\n\n  if (options?.background) {\n    backgroundColor = options?.background;\n  } else {\n    let initialsCharIndex = 0;\n    let [char, i] = getWholeCharAndI(initials, 0);\n    while (char) {\n      initialsCharIndex += char.charCodeAt(0);\n      [char, i] = getWholeCharAndI(initials, i + 1);\n    }\n\n    const colorIndex = initialsCharIndex % avatarColorSet.length;\n    backgroundColor = avatarColorSet[colorIndex];\n  }\n\n  const padding = 0;\n  const radius = 50 - padding;\n\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100px\" height=\"100px\">\n  ${\n    options?.gradient !== false\n      ? `<defs>\n      <linearGradient id=\"Gradient\" x1=\"0.25\" x2=\"0.75\" y1=\"0\" y2=\"1\">\n        <stop offset=\"0%\" stop-color=\"${slightlyLighterColor(backgroundColor)}\"/>\n        <stop offset=\"50%\" stop-color=\"${backgroundColor}\"/>\n        <stop offset=\"100%\" stop-color=\"${slightlyDarkerColor(backgroundColor)}\"/>\n      </linearGradient>\n  </defs>`\n      : \"\"\n  }\n      <circle cx=\"50\" cy=\"50\" r=\"${radius}\" fill=\"${\n        options?.gradient !== false ? \"url(#Gradient)\" : backgroundColor\n      }\" />\n      ${\n        initials\n          ? `<text x=\"50\" y=\"80\" font-size=\"${\n              radius - 1\n            }\" font-family=\"Inter, sans-serif\" text-anchor=\"middle\" fill=\"white\">${initials.toUpperCase()}</text>`\n          : \"\"\n      }\n    </svg>\n  `.replaceAll(\"\\n\", \"\");\n  return `data:image/svg+xml,${encodeURIComponent(svg)}`;\n}\n", "function hexToRGB(hex: string) {\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  // 3 digits\n  if (hex.length === 4) {\n    r = parseInt(`${hex[1]}${hex[1]}`, 16);\n    g = parseInt(`${hex[2]}${hex[2]}`, 16);\n    b = parseInt(`${hex[3]}${hex[3]}`, 16);\n\n    // 6 digits\n  } else if (hex.length === 7) {\n    r = parseInt(`${hex[1]}${hex[2]}`, 16);\n    g = parseInt(`${hex[3]}${hex[4]}`, 16);\n    b = parseInt(`${hex[5]}${hex[6]}`, 16);\n  } else {\n    throw new Error(`Malformed hex color: ${hex}`);\n  }\n\n  return { r, g, b };\n}\n\nfunction rgbToHex({ r, g, b }: { r: number; g: number; b: number }) {\n  let rString = r.toString(16);\n  let gString = g.toString(16);\n  let bString = b.toString(16);\n\n  if (rString.length === 1) {\n    rString = `0${rString}`;\n  }\n  if (gString.length === 1) {\n    gString = `0${gString}`;\n  }\n  if (bString.length === 1) {\n    bString = `0${bString}`;\n  }\n\n  return `#${rString}${gString}${bString}`;\n}\n\nfunction rgbToHSL({ r, g, b }: { r: number; g: number; b: number }) {\n  // Make r, g, and b fractions of 1\n  r /= 255;\n  g /= 255;\n  b /= 255;\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b);\n  const cmax = Math.max(r, g, b);\n  const delta = cmax - cmin;\n  let h = 0;\n  let s = 0;\n  let l = 0;\n\n  // Calculate hue\n  // No difference\n  if (delta === 0) {\n    h = 0;\n  }\n  // Red is max\n  else if (cmax === r) {\n    h = ((g - b) / delta) % 6;\n  }\n  // Green is max\n  else if (cmax === g) {\n    h = (b - r) / delta + 2;\n  }\n  // Blue is max\n  else {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n\n  // Make negative hues positive behind 360\n  if (h < 0) {\n    h += 360;\n  }\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2;\n\n  // Calculate saturation\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1);\n  l = +(l * 100).toFixed(1);\n\n  return { h, s, l };\n}\n\nfunction hslToRGB({ h, s, l }: { h: number; s: number; l: number }) {\n  // Must be fractions of 1\n  s /= 100;\n  l /= 100;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  const m = l - c / 2;\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  if (h >= 0 && h < 60) {\n    r = c;\n    g = x;\n    b = 0;\n  } else if (h >= 60 && h < 120) {\n    r = x;\n    g = c;\n    b = 0;\n  } else if (h >= 120 && h < 180) {\n    r = 0;\n    g = c;\n    b = x;\n  } else if (h >= 180 && h < 240) {\n    r = 0;\n    g = x;\n    b = c;\n  } else if (h >= 240 && h < 300) {\n    r = x;\n    g = 0;\n    b = c;\n  } else if (h >= 300 && h < 360) {\n    r = c;\n    g = 0;\n    b = x;\n  }\n  r = Math.round((r + m) * 255);\n  g = Math.round((g + m) * 255);\n  b = Math.round((b + m) * 255);\n\n  return { r, g, b };\n}\n\nfunction hexToHSL(hex: string) {\n  return rgbToHSL(hexToRGB(hex));\n}\n\nfunction hslToHex(hsl: { h: number; s: number; l: number }) {\n  return rgbToHex(hslToRGB(hsl));\n}\n\nfunction clamp(value: number, min: number, max: number) {\n  return min < max ? (value < min ? min : value > max ? max : value) : value < max ? max : value > min ? min : value;\n}\n\nconst offset = 12;\n\nexport function slightlyDarkerColor(hex: string) {\n  const hsl = hexToHSL(hex);\n\n  return hslToHex({\n    h: hsl.h,\n    s: hsl.s,\n    l: clamp(hsl.l - offset, 0, 100),\n  });\n}\n\nexport function slightlyLighterColor(hex: string) {\n  const hsl = hexToHSL(hex);\n\n  return hslToHex({\n    h: hsl.h,\n    s: hsl.s,\n    l: clamp(hsl.l + offset, 0, 100),\n  });\n}\n", "import { Icon, Image } from \"@raycast/api\";\nimport { URL } from \"node:url\";\n\n/**\n * Icon showing the favicon of a website.\n *\n * A favicon (favorite icon) is a tiny icon included along with a website, which is displayed in places like the browser's address bar, page tabs, and bookmarks menu.\n *\n * @param url The URL of the website to represent.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getFavicon(\"https://raycast.com\")} title=\"Raycast Website\" />\n * ```\n */\nexport function getFavicon(\n  url: string | URL,\n  options?: {\n    /**\n     * Size of the Favicon\n     * @default 64\n     */\n    size?: number;\n    /**\n     * Fallback icon in case the Favicon is not found.\n     * @default Icon.Link\n     */\n    fallback?: Image.Fallback;\n    /**\n     * A {@link Image.Mask} to apply to the Favicon.\n     */\n    mask?: Image.Mask;\n  },\n): Image.ImageLike {\n  try {\n    // a func adding https:// to the URL\n    // for cases where the URL is not a full URL\n    // e.g. \"raycast.com\"\n    const sanitize = (url: string) => {\n      if (!url.startsWith(\"http\")) {\n        return `https://${url}`;\n      }\n      return url;\n    };\n\n    const urlObj = typeof url === \"string\" ? new URL(sanitize(url)) : url;\n    const hostname = urlObj.hostname;\n\n    const faviconProvider: \"none\" | \"raycast\" | \"apple\" | \"google\" | \"duckDuckGo\" | \"duckduckgo\" | \"legacy\" =\n      (process.env.FAVICON_PROVIDER as any) ?? \"raycast\";\n\n    switch (faviconProvider) {\n      case \"none\":\n        return {\n          source: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"apple\":\n        // we can't support apple favicons as it's a native API\n        return {\n          source: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"duckduckgo\":\n      case \"duckDuckGo\":\n        return {\n          source: `https://icons.duckduckgo.com/ip3/${hostname}.ico`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"google\":\n        return {\n          source: `https://www.google.com/s2/favicons?sz=${options?.size ?? 64}&domain=${hostname}`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"legacy\":\n      case \"raycast\":\n      default:\n        return {\n          source: `https://api.ray.so/favicon?url=${hostname}&size=${options?.size ?? 64}`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n    }\n  } catch (e) {\n    console.error(e);\n    return Icon.Link;\n  }\n}\n", "import { environment, Color } from \"@raycast/api\";\nimport type { Image } from \"@raycast/api\";\n\nfunction polarToCartesian(centerX: number, centerY: number, radius: number, angleInDegrees: number) {\n  const angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\n\n  return {\n    x: centerX + radius * Math.cos(angleInRadians),\n    y: centerY + radius * Math.sin(angleInRadians),\n  };\n}\n\nfunction describeArc(x: number, y: number, radius: number, startAngle: number, endAngle: number) {\n  const start = polarToCartesian(x, y, radius, endAngle);\n  const end = polarToCartesian(x, y, radius, startAngle);\n\n  const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\n  const d = [\"M\", start.x, start.y, \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y].join(\" \");\n\n  return d;\n}\n\n/**\n * Icon to represent the progress of _something_.\n *\n * @param progress Number between 0 and 1.\n * @param color Hex color (default `\"#FF6363\"`) or Color.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getProgressIcon(0.1)} title=\"Project\" />\n * ```\n */\nexport function getProgressIcon(\n  progress: number,\n  color: Color | string = Color.Red,\n  options?: { background?: Color | string; backgroundOpacity?: number },\n): Image.Asset {\n  const background = options?.background || (environment.appearance === \"light\" ? \"black\" : \"white\");\n  const backgroundOpacity = options?.backgroundOpacity || 0.1;\n\n  const stroke = 10;\n  const padding = 5;\n  const radius = 50 - padding - stroke / 2;\n\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100px\" height=\"100px\">\n      <circle cx=\"50\" cy=\"50\" r=\"${radius}\" stroke-width=\"${stroke}\" stroke=\"${\n        progress < 1 ? background : color\n      }\" opacity=\"${progress < 1 ? backgroundOpacity : \"1\"}\" fill=\"none\" />\n      ${\n        progress > 0 && progress < 1\n          ? `<path d=\"${describeArc(\n              50,\n              50,\n              radius,\n              0,\n              progress * 360,\n            )}\" stroke=\"${color}\" stroke-width=\"${stroke}\" fill=\"none\" />`\n          : \"\"\n      }\n    </svg>\n  `.replaceAll(\"\\n\", \"\");\n  return `data:image/svg+xml,${encodeURIComponent(svg)}`;\n}\n", "export { OAuthService } from \"./OAuthService\";\nexport { withAccessToken, getAccessToken } from \"./withAccessToken\";\n\nexport type { WithAccessTokenComponentOrFn } from \"./withAccessToken\";\nexport type {\n  OnAuthorizeParams,\n  OAuthServiceOptions,\n  ProviderWithDefaultClientOptions,\n  ProviderOptions,\n} from \"./types\";\n", "import { Color, OAuth } from \"@raycast/api\";\nimport { PROVIDER_CLIENT_IDS } from \"./providers\";\nimport type {\n  OAuthServiceOptions,\n  OnAuthorizeParams,\n  ProviderOptions,\n  ProviderWithDefaultClientOptions,\n} from \"./types\";\n\n/**\n * Class allowing to create an OAuth service using the the PKCE (Proof Key for Code Exchange) flow.\n *\n * This service is capable of starting the authorization process, fetching and refreshing tokens,\n * as well as managing the authentication state.\n *\n * @example\n * ```typescript\n * const oauthClient = new OAuth.PKCEClient({ ... });\n * const oauthService = new OAuthService({\n *   client: oauthClient,\n *   clientId: 'your-client-id',\n *   scope: 'required scopes',\n *   authorizeUrl: 'https://provider.com/oauth/authorize',\n *   tokenUrl: 'https://provider.com/oauth/token',\n *   refreshTokenUrl: 'https://provider.com/oauth/token',\n *   extraParameters: { 'additional_param': 'value' }\n * });\n * ```\n */\nexport class OAuthService implements OAuthServiceOptions {\n  public clientId: string;\n  public scope: string;\n  public client: OAuth.PKCEClient;\n  public extraParameters?: Record<string, string>;\n  public authorizeUrl: string;\n  public tokenUrl: string;\n  public refreshTokenUrl?: string;\n  public bodyEncoding?: \"json\" | \"url-encoded\";\n  public personalAccessToken?: string;\n  onAuthorize?: (params: OnAuthorizeParams) => void;\n  tokenResponseParser: (response: unknown) => OAuth.TokenResponse;\n  tokenRefreshResponseParser: (response: unknown) => OAuth.TokenResponse;\n\n  constructor(options: OAuthServiceOptions) {\n    this.clientId = options.clientId;\n    this.scope = Array.isArray(options.scope) ? options.scope.join(\" \") : options.scope;\n    this.personalAccessToken = options.personalAccessToken;\n    this.bodyEncoding = options.bodyEncoding;\n    this.client = options.client;\n    this.extraParameters = options.extraParameters;\n    this.authorizeUrl = options.authorizeUrl;\n    this.tokenUrl = options.tokenUrl;\n    this.refreshTokenUrl = options.refreshTokenUrl;\n    this.onAuthorize = options.onAuthorize;\n    this.tokenResponseParser = options.tokenResponseParser ?? ((x) => x as OAuth.TokenResponse);\n    this.tokenRefreshResponseParser = options.tokenRefreshResponseParser ?? ((x) => x as OAuth.TokenResponse);\n    this.authorize = this.authorize.bind(this);\n  }\n\n  /**\n   * Asana OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const asana = OAuthService.asana({ scope: 'default' })\n   * ```\n   */\n  public static asana(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Asana\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"251\" height=\"232\" fill=\"none\"><path fill=\"#F06A6A\" d=\"M179.383 54.373c0 30.017-24.337 54.374-54.354 54.374-30.035 0-54.373-24.338-54.373-54.374C70.656 24.338 94.993 0 125.029 0c30.017 0 54.354 24.338 54.354 54.373ZM54.393 122.33C24.376 122.33.02 146.668.02 176.685c0 30.017 24.337 54.373 54.373 54.373 30.035 0 54.373-24.338 54.373-54.373 0-30.017-24.338-54.355-54.373-54.355Zm141.253 0c-30.035 0-54.373 24.338-54.373 54.374 0 30.035 24.338 54.373 54.373 54.373 30.017 0 54.374-24.338 54.374-54.373 0-30.036-24.338-54.374-54.374-54.374Z\"/></svg>`,\n        )}`,\n        providerId: \"asana\",\n        description: \"Connect your Asana account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.asana,\n      authorizeUrl: options.authorizeUrl ?? \"https://asana.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://asana.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://asana.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * GitHub OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const github = OAuthService.github({ scope: 'repo user' })\n   * ```\n   */\n  public static github(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"GitHub\",\n        providerIcon: {\n          source: `data:image/svg+xml,${encodeURIComponent(\n            `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"/></svg>`,\n          )}`,\n\n          tintColor: Color.PrimaryText,\n        },\n        providerId: \"github\",\n        description: \"Connect your GitHub account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.github,\n      authorizeUrl: options.authorizeUrl ?? \"https://github.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://github.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://github.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Google OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const google = OAuthService.google({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://accounts.google.com/o/oauth2/v2/auth',\n   *   tokenUrl: 'https://oauth2.googleapis.com/token',\n   *   scope: 'https://www.googleapis.com/auth/drive.readonly',\n   * });\n   * ```\n   */\n  public static google(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.AppURI,\n        providerName: \"Google\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:block\" viewBox=\"0 0 48 48\"><path fill=\"#EA4335\" d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"/><path fill=\"#4285F4\" d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"/><path fill=\"#FBBC05\" d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"/><path fill=\"#34A853\" d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"/><path fill=\"none\" d=\"M0 0h48v48H0z\"/></svg>`,\n        )}`,\n        providerId: \"google\",\n        description: \"Connect your Google account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://accounts.google.com/o/oauth2/v2/auth\",\n      tokenUrl: options.tokenUrl ?? \"https://oauth2.googleapis.com/token\",\n      refreshTokenUrl: options.tokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.bodyEncoding ?? \"url-encoded\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Jira OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const jira = OAuthService.jira({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://auth.atlassian.com/authorize',\n   *   tokenUrl: 'https://api.atlassian.com/oauth/token',\n   *   scope: 'read:jira-user read:jira-work offline_access'\n   * });\n   * ```\n   */\n  public static jira(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Jira\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"2361\" height=\"2500\" viewBox=\"2.59 0 214.091 224\"><linearGradient id=\"a\" x1=\"102.4\" x2=\"56.15\" y1=\"218.63\" y2=\"172.39\" gradientTransform=\"matrix(1 0 0 -1 0 264)\" gradientUnits=\"userSpaceOnUse\"><stop offset=\".18\" stop-color=\"#0052cc\"/><stop offset=\"1\" stop-color=\"#2684ff\"/></linearGradient><linearGradient xlink:href=\"#a\" id=\"b\" x1=\"114.65\" x2=\"160.81\" y1=\"85.77\" y2=\"131.92\"/><path fill=\"#2684ff\" d=\"M214.06 105.73 117.67 9.34 108.33 0 35.77 72.56 2.59 105.73a8.89 8.89 0 0 0 0 12.54l66.29 66.29L108.33 224l72.55-72.56 1.13-1.12 32.05-32a8.87 8.87 0 0 0 0-12.59zm-105.73 39.39L75.21 112l33.12-33.12L141.44 112z\"/><path fill=\"url(#a)\" d=\"M108.33 78.88a55.75 55.75 0 0 1-.24-78.61L35.62 72.71l39.44 39.44z\"/><path fill=\"url(#b)\" d=\"m141.53 111.91-33.2 33.21a55.77 55.77 0 0 1 0 78.86L181 151.35z\"/></svg>`,\n        )}`,\n        providerId: \"jira\",\n        description: \"Connect your Jira account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://auth.atlassian.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://auth.atlassian.com/oauth/token\",\n      refreshTokenUrl: options.refreshTokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Linear OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const linear = OAuthService.linear({ scope: 'read write' })\n   * ```\n   */\n  public static linear(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Linear\",\n        providerIcon: {\n          source: {\n            light: `data:image/svg+xml,${encodeURIComponent(\n              `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#222326\" width=\"200\" height=\"200\" viewBox=\"0 0 100 100\"><path d=\"M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5964C20.0515 94.4522 5.54779 79.9485 1.22541 61.5228ZM.00189135 46.8891c-.01764375.2833.08887215.5599.28957165.7606L52.3503 99.7085c.2007.2007.4773.3075.7606.2896 2.3692-.1476 4.6938-.46 6.9624-.9259.7645-.157 1.0301-1.0963.4782-1.6481L2.57595 39.4485c-.55186-.5519-1.49117-.2863-1.648174.4782-.465915 2.2686-.77832 4.5932-.92588465 6.9624ZM4.21093 29.7054c-.16649.3738-.08169.8106.20765 1.1l64.77602 64.776c.2894.2894.7262.3742 1.1.2077 1.7861-.7956 3.5171-1.6927 5.1855-2.684.5521-.328.6373-1.0867.1832-1.5407L8.43566 24.3367c-.45409-.4541-1.21271-.3689-1.54074.1832-.99132 1.6684-1.88843 3.3994-2.68399 5.1855ZM12.6587 18.074c-.3701-.3701-.393-.9637-.0443-1.3541C21.7795 6.45931 35.1114 0 49.9519 0 77.5927 0 100 22.4073 100 50.0481c0 14.8405-6.4593 28.1724-16.7199 37.3375-.3903.3487-.984.3258-1.3542-.0443L12.6587 18.074Z\"/></svg>`,\n            )}`,\n            dark: `data:image/svg+xml,${encodeURIComponent(\n              `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#fff\" width=\"200\" height=\"200\" viewBox=\"0 0 100 100\"><path d=\"M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5964C20.0515 94.4522 5.54779 79.9485 1.22541 61.5228ZM.00189135 46.8891c-.01764375.2833.08887215.5599.28957165.7606L52.3503 99.7085c.2007.2007.4773.3075.7606.2896 2.3692-.1476 4.6938-.46 6.9624-.9259.7645-.157 1.0301-1.0963.4782-1.6481L2.57595 39.4485c-.55186-.5519-1.49117-.2863-1.648174.4782-.465915 2.2686-.77832 4.5932-.92588465 6.9624ZM4.21093 29.7054c-.16649.3738-.08169.8106.20765 1.1l64.77602 64.776c.2894.2894.7262.3742 1.1.2077 1.7861-.7956 3.5171-1.6927 5.1855-2.684.5521-.328.6373-1.0867.1832-1.5407L8.43566 24.3367c-.45409-.4541-1.21271-.3689-1.54074.1832-.99132 1.6684-1.88843 3.3994-2.68399 5.1855ZM12.6587 18.074c-.3701-.3701-.393-.9637-.0443-1.3541C21.7795 6.45931 35.1114 0 49.9519 0 77.5927 0 100 22.4073 100 50.0481c0 14.8405-6.4593 28.1724-16.7199 37.3375-.3903.3487-.984.3258-1.3542-.0443L12.6587 18.074Z\" /></svg>`,\n            )}`,\n          },\n        },\n        providerId: \"linear\",\n        description: \"Connect your Linear account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.linear,\n      authorizeUrl: options.authorizeUrl ?? \"https://linear.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://linear.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://linear.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      extraParameters: {\n        actor: \"user\",\n      },\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Slack OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const slack = OAuthService.slack({ scope: 'emoji:read' })\n   * ```\n   */\n  public static slack(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Slack\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"73 73 124 124\"><style>.st0{fill:#e01e5a}.st1{fill:#36c5f0}.st2{fill:#2eb67d}.st3{fill:#ecb22e}</style><path d=\"M99.4 151.2c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h12.9v12.9zM105.9 151.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9v-32.3z\" class=\"st0\"/><path d=\"M118.8 99.4c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v12.9h-12.9zM118.8 105.9c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H86.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3z\" class=\"st1\"/><path d=\"M170.6 118.8c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9h-12.9v-12.9zM164.1 118.8c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V86.5c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9v32.3z\" class=\"st2\"/><path d=\"M151.2 170.6c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9v-12.9h12.9zM151.2 164.1c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9h-32.3z\" class=\"st3\"/></svg>`,\n        )}`,\n        providerId: \"slack\",\n        description: \"Connect your Slack account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.slack,\n      authorizeUrl: options.authorizeUrl ?? \"https://slack.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://slack.oauth.raycast.com/token\",\n      refreshTokenUrl: options.tokenUrl ?? \"https://slack.oauth.raycast.com/refresh-token\",\n      scope: \"\",\n      extraParameters: {\n        user_scope: options.scope,\n      },\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.tokenUrl ? options.bodyEncoding ?? \"url-encoded\" : \"json\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      tokenResponseParser:\n        options.tokenResponseParser ??\n        ((response: any) => {\n          return {\n            access_token: response.authed_user.access_token,\n            scope: response.authed_user.scope,\n          };\n        }),\n    });\n  }\n\n  /**\n   * Zoom OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const zoom = OAuthService.zoom({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://zoom.us/oauth/authorize',\n   *   tokenUrl: 'https://zoom.us/oauth/token',\n   *   scope: 'meeting:write',\n   *   personalAccessToken: 'personal-access-token',\n   * });\n   * ```\n   */\n  public static zoom(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Zoom\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 351.845 80\"><path d=\"M73.786 78.835H10.88A10.842 10.842 0 0 1 .833 72.122a10.841 10.841 0 0 1 2.357-11.85L46.764 16.7h-31.23C6.954 16.699 0 9.744 0 1.165h58.014c4.414 0 8.357 2.634 10.046 6.712a10.843 10.843 0 0 1-2.356 11.85L22.13 63.302h36.122c8.58 0 15.534 6.955 15.534 15.534Zm278.059-48.544C351.845 13.588 338.256 0 321.553 0c-8.934 0-16.975 3.89-22.524 10.063C293.48 3.89 285.44 0 276.505 0c-16.703 0-30.291 13.588-30.291 30.291v48.544c8.579 0 15.534-6.955 15.534-15.534v-33.01c0-8.137 6.62-14.757 14.757-14.757s14.757 6.62 14.757 14.757v33.01c0 8.58 6.955 15.534 15.534 15.534V30.291c0-8.137 6.62-14.757 14.757-14.757s14.758 6.62 14.758 14.757v33.01c0 8.58 6.954 15.534 15.534 15.534V30.291ZM238.447 40c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.908-40 40-40 40 17.909 40 40Zm-15.534 0c0-13.512-10.954-24.466-24.466-24.466S173.98 26.488 173.98 40s10.953 24.466 24.466 24.466S222.913 53.512 222.913 40Zm-70.68 0c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40Zm-15.534 0c0-13.512-10.954-24.466-24.466-24.466S87.767 26.488 87.767 40s10.954 24.466 24.466 24.466S136.699 53.512 136.699 40Z\" style=\"fill:#0b5cff\"/></svg>`,\n        )}`,\n        providerId: \"zoom\",\n        description: \"Connect your Zoom account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://zoom.us/oauth/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://zoom.us/oauth/token\",\n      refreshTokenUrl: options.refreshTokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.bodyEncoding ?? \"url-encoded\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Initiates the OAuth authorization process or refreshes existing tokens if necessary.\n   * If the current token set has a refresh token and it is expired, then the function will refresh the tokens.\n   * If no tokens exist, it will initiate the OAuth authorization process and fetch the tokens.\n   *\n   * @returns {Promise<string>} A promise that resolves with the access token obtained from the authorization flow, or null if the token could not be obtained.\n   */\n  async authorize() {\n    const currentTokenSet = await this.client.getTokens();\n    if (currentTokenSet?.accessToken) {\n      if (currentTokenSet.refreshToken && currentTokenSet.isExpired()) {\n        const tokens = await this.refreshTokens({\n          token: currentTokenSet.refreshToken,\n        });\n\n        // In the case where the refresh token flows fails, nothing is returned and the authorize function is called again.\n        if (tokens) {\n          await this.client.setTokens(tokens);\n          return tokens.access_token;\n        }\n      }\n      return currentTokenSet.accessToken;\n    }\n\n    const authRequest = await this.client.authorizationRequest({\n      endpoint: this.authorizeUrl,\n      clientId: this.clientId,\n      scope: this.scope,\n      extraParameters: this.extraParameters,\n    });\n\n    const { authorizationCode } = await this.client.authorize(authRequest);\n    const tokens = await this.fetchTokens({\n      authRequest,\n      authorizationCode,\n    });\n\n    await this.client.setTokens(tokens);\n\n    return tokens.access_token;\n  }\n\n  private async fetchTokens({\n    authRequest,\n    authorizationCode,\n  }: {\n    authRequest: OAuth.AuthorizationRequest;\n    authorizationCode: string;\n  }) {\n    let options;\n    if (this.bodyEncoding === \"url-encoded\") {\n      const params = new URLSearchParams();\n      params.append(\"client_id\", this.clientId);\n      params.append(\"code\", authorizationCode);\n      params.append(\"code_verifier\", authRequest.codeVerifier);\n      params.append(\"grant_type\", \"authorization_code\");\n      params.append(\"redirect_uri\", authRequest.redirectURI);\n\n      options = { body: params };\n    } else {\n      options = {\n        body: JSON.stringify({\n          client_id: this.clientId,\n          code: authorizationCode,\n          code_verifier: authRequest.codeVerifier,\n          grant_type: \"authorization_code\",\n          redirect_uri: authRequest.redirectURI,\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      };\n    }\n\n    const response = await fetch(this.tokenUrl, { method: \"POST\", ...options });\n    if (!response.ok) {\n      const responseText = await response.text();\n      console.error(\"fetch tokens error:\", responseText);\n      throw new Error(`Error while fetching tokens: ${response.status} (${response.statusText})\\n${responseText}`);\n    }\n    const tokens = this.tokenResponseParser(await response.json());\n\n    // Some clients such as Linear can return a scope array instead of a string\n    return Array.isArray(tokens.scope) ? { ...tokens, scope: tokens.scope.join(\" \") } : tokens;\n  }\n\n  private async refreshTokens({ token }: { token: string }) {\n    let options;\n    if (this.bodyEncoding === \"url-encoded\") {\n      const params = new URLSearchParams();\n      params.append(\"client_id\", this.clientId);\n      params.append(\"refresh_token\", token);\n      params.append(\"grant_type\", \"refresh_token\");\n\n      options = { body: params };\n    } else {\n      options = {\n        body: JSON.stringify({\n          client_id: this.clientId,\n          refresh_token: token,\n          grant_type: \"refresh_token\",\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      };\n    }\n\n    const response = await fetch(this.refreshTokenUrl ?? this.tokenUrl, { method: \"POST\", ...options });\n    if (!response.ok) {\n      const responseText = await response.text();\n      console.error(\"refresh tokens error:\", responseText);\n      // If the refresh token is invalid, stop the flow here, log out the user and prompt them to re-authorize.\n      this.client.description = `${this.client.providerName} needs you to sign-in again. Press  or click the button below to continue.`;\n      await this.client.removeTokens();\n      await this.authorize();\n    } else {\n      const tokenResponse = this.tokenRefreshResponseParser(await response.json());\n      tokenResponse.refresh_token = tokenResponse.refresh_token ?? token;\n      return tokenResponse;\n    }\n  }\n}\n", "export const PROVIDER_CLIENT_IDS = {\n  asana: \"1191201745684312\",\n  github: \"7235fe8d42157f1f38c0\",\n  linear: \"c8ff37b9225c3c9aefd7d66ea0e5b6f1\",\n  slack: \"851756884692.5546927290212\",\n};\n", "import React from \"react\";\nimport { environment, OAuth } from \"@raycast/api\";\nimport type { OAuthType, OnAuthorizeParams } from \"./types\";\n\nlet token: string | null = null;\nlet type: OAuthType | null = null;\nlet authorize: Promise<string> | null = null;\nlet getIdToken: Promise<string | undefined> | null = null;\nlet onAuthorize: Promise<void> | null = null;\n\ntype WithAccessTokenParameters = {\n  /**\n   * An optional instance of a PKCE Client that you can create using Raycast API.\n   * This client is used to return the `idToken` as part of the `onAuthorize` callback.\n   */\n  client?: OAuth.PKCEClient;\n  /**\n   * A function that initiates the OAuth token retrieval process\n   * @returns a promise that resolves to an access token.\n   */\n  authorize: () => Promise<string>;\n  /**\n   * An optional string that represents an already obtained personal access token\n   */\n  personalAccessToken?: string;\n  /**\n   * An optional callback function that is called once the user has been properly logged in through OAuth.\n   * @param {object} params - Parameters of the callback\n   * @param {string} options.token - The retrieved access token\n   * @param {string} options.type - The access token's type (either `oauth` or `personal`)\n   * @param {string} options.idToken - The optional id token. The `idToken` is returned if `options.client` is provided and if it's returned in the initial token set.\n   */\n  onAuthorize?: (params: OnAuthorizeParams) => void;\n};\n\n/**\n * The component (for a view/menu-bar commands) or function (for a no-view command) that is passed to withAccessToken.\n */\nexport type WithAccessTokenComponentOrFn<T = any, U = any> = ((params: T) => Promise<U> | U) | React.ComponentType<T>;\n\n/**\n * Higher-order component to wrap a given component or function and set an access token in a shared global variable.\n *\n * The function intercepts the component rendering process to either fetch an OAuth token asynchronously\n * or use a provided personal access token. A global variable will be then set with the received token\n * that you can get with the `getAccessToken` function.\n *\n * @example\n * ```typescript\n * import { Detail } from \"@raycast/api\";\n * import { OAuthService, getAccessToken, withAccessToken } from \"@raycast/utils\";\n *\n * const github = OAuthService.github({ scope: \"notifications repo read:org read:user read:project\" });\n *\n * function AuthorizedComponent() {\n *  const { token } = getAccessToken();\n *  ...\n * }\n *\n * export default withAccessToken(github)(AuthorizedComponent);\n * ```\n *\n * @returns {React.ComponentType<T>} The wrapped component.\n */\nexport function withAccessToken<T = any, U = any>(\n  options: WithAccessTokenParameters,\n): <V extends WithAccessTokenComponentOrFn<T, U>>(\n  fnOrComponent: V,\n) => V extends React.ComponentType<T> ? React.FunctionComponent<T> : (props: T) => Promise<U>;\nexport function withAccessToken<T>(options: WithAccessTokenParameters) {\n  if (environment.commandMode === \"no-view\") {\n    return (fn: (props: T) => Promise<void> | (() => void)) => {\n      const noViewFn = async (props: T) => {\n        if (!token) {\n          token = options.personalAccessToken ?? (await options.authorize());\n          type = options.personalAccessToken ? \"personal\" : \"oauth\";\n          const idToken = (await options.client?.getTokens())?.idToken;\n\n          if (options.onAuthorize) {\n            await Promise.resolve(options.onAuthorize({ token, type, idToken }));\n          }\n        }\n\n        return fn(props);\n      };\n\n      return noViewFn;\n    };\n  }\n\n  return (Component: React.ComponentType<T>) => {\n    const WrappedComponent: React.ComponentType<T> = (props) => {\n      if (options.personalAccessToken) {\n        token = options.personalAccessToken;\n        type = \"personal\";\n      } else {\n        if (!authorize) {\n          authorize = options.authorize();\n        }\n        token = React.use(authorize);\n        type = \"oauth\";\n      }\n\n      let idToken: string | undefined;\n      if (options.client) {\n        if (!getIdToken) {\n          getIdToken = options.client?.getTokens().then((tokens) => tokens?.idToken);\n        }\n        idToken = React.use(getIdToken);\n      }\n\n      if (options.onAuthorize) {\n        if (!onAuthorize) {\n          onAuthorize = Promise.resolve(options.onAuthorize({ token: token!, type, idToken }));\n        }\n        React.use(onAuthorize);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore too complicated for TS\n      return <Component {...props} />;\n    };\n\n    WrappedComponent.displayName = `withAccessToken(${Component.displayName || Component.name})`;\n\n    return WrappedComponent;\n  };\n}\n\n/**\n * Returns the access token and its type. Note that this function must be called in a component wrapped with `withAccessToken`.\n *\n * Will throw an Error if called outside of a function or component wrapped with `withAccessToken`\n *\n * @returns {{ token: string, type: \"oauth\" | \"personal\" }} An object containing the `token`\n * and its `type`, where type can be either 'oauth' for OAuth tokens or 'personal' for a\n * personal access token.\n */\nexport function getAccessToken(): {\n  token: string;\n  /** `oauth` for OAuth tokens or `personal` for personal access token */\n  type: \"oauth\" | \"personal\";\n} {\n  if (!token || !type) {\n    throw new Error(\"getAccessToken must be used when authenticated (eg. used inside `withAccessToken`)\");\n  }\n\n  return { token, type };\n}\n", "import { environment, LaunchProps, LaunchType } from \"@raycast/api\";\nimport fs from \"node:fs\";\nimport path from \"node:path\";\n\nexport enum DeeplinkType {\n  /** A script command */\n  ScriptCommand = \"script-command\",\n  /** An extension command */\n  Extension = \"extension\",\n}\n\n/**\n * Options for creating a deeplink to a script command.\n */\nexport type CreateScriptCommandDeeplinkOptions = {\n  /**\n   * The type of deeplink, which should be \"script-command\".\n   */\n  type: DeeplinkType.ScriptCommand;\n  /**\n   * The name of the command.\n   */\n  command: string;\n  /**\n   * If the command accepts arguments, they can be passed using this query parameter.\n   */\n  arguments?: string[];\n};\n\n/**\n * Base options for creating a deeplink to an extension.\n */\nexport type CreateExtensionDeeplinkBaseOptions = {\n  /**\n   * The type of deeplink, which should be \"extension\".\n   */\n  type?: DeeplinkType.Extension;\n  /**\n   * The command associated with the extension.\n   */\n  command: string;\n  /**\n   * Either \"userInitiated\", which runs the command in the foreground, or \"background\", which skips bringing Raycast to the front.\n   */\n  launchType?: LaunchType;\n  /**\n   * If the command accepts arguments, they can be passed using this query parameter.\n   */\n  arguments?: LaunchProps[\"arguments\"];\n  /**\n   * If the command make use of LaunchContext, it can be passed using this query parameter.\n   */\n  context?: LaunchProps[\"launchContext\"];\n  /**\n   * Some text to prefill the search bar or first text input of the command\n   */\n  fallbackText?: string;\n};\n\n/**\n * Options for creating a deeplink to an extension from another extension.\n * Requires both the ownerOrAuthorName and extensionName.\n */\nexport type CreateInterExtensionDeeplinkOptions = CreateExtensionDeeplinkBaseOptions & {\n  /**\n   * The name of the owner or author of the extension.\n   */\n  ownerOrAuthorName: string;\n  /**\n   * The name of the extension.\n   */\n  extensionName: string;\n};\n\n/**\n * Options for creating a deeplink to an extension.\n */\nexport type CreateExtensionDeeplinkOptions = CreateInterExtensionDeeplinkOptions | CreateExtensionDeeplinkBaseOptions;\n\n/**\n * Options for creating a deeplink.\n */\nexport type CreateDeeplinkOptions = CreateScriptCommandDeeplinkOptions | CreateExtensionDeeplinkOptions;\n\nfunction getProtocol() {\n  return environment.raycastVersion.includes(\"alpha\") ? \"raycastinternal://\" : \"raycast://\";\n}\n\nfunction getOwnerOrAuthorName() {\n  const packageJSON = JSON.parse(fs.readFileSync(path.join(environment.assetsPath, \"..\", \"package.json\"), \"utf8\"));\n  return packageJSON.owner || packageJSON.author;\n}\n\nexport function createScriptCommandDeeplink(options: CreateScriptCommandDeeplinkOptions): string {\n  let url = `${getProtocol()}script-commands/${options.command}`;\n\n  if (options.arguments) {\n    let params = \"\";\n    for (const arg of options.arguments) {\n      params += \"&arguments=\" + encodeURIComponent(arg);\n    }\n    url += \"?\" + params.substring(1);\n  }\n\n  return url;\n}\n\nexport function createExtensionDeeplink(options: CreateExtensionDeeplinkOptions): string {\n  let ownerOrAuthorName = getOwnerOrAuthorName();\n  let extensionName = environment.extensionName;\n\n  if (\"ownerOrAuthorName\" in options && \"extensionName\" in options) {\n    ownerOrAuthorName = options.ownerOrAuthorName;\n    extensionName = options.extensionName;\n  }\n\n  let url = `${getProtocol()}extensions/${ownerOrAuthorName}/${extensionName}/${options.command}`;\n\n  let params = \"\";\n  if (options.launchType) {\n    params += \"&launchType=\" + encodeURIComponent(options.launchType);\n  }\n\n  if (options.arguments) {\n    params += \"&arguments=\" + encodeURIComponent(JSON.stringify(options.arguments));\n  }\n\n  if (options.context) {\n    params += \"&context=\" + encodeURIComponent(JSON.stringify(options.context));\n  }\n\n  if (options.fallbackText) {\n    params += \"&fallbackText=\" + encodeURIComponent(options.fallbackText);\n  }\n\n  if (params) {\n    url += \"?\" + params.substring(1);\n  }\n\n  return url;\n}\n\n/**\n * Creates a deeplink to a script command or extension.\n */\nexport function createDeeplink(options: CreateDeeplinkOptions): string {\n  if (options.type === DeeplinkType.ScriptCommand) {\n    return createScriptCommandDeeplink(options);\n  } else {\n    return createExtensionDeeplink(options);\n  }\n}\n", "import { baseExecuteSQL } from \"./sql-utils\";\n\n/**\n * Executes a SQL query on a local SQLite database and returns the query result in JSON format.\n *\n * @param databasePath - The path to the SQLite database file.\n * @param query - The SQL query to execute.\n * @returns A Promise that resolves to an array of objects representing the query results.\n *\n * @example\n * ```typescript\n * import { closeMainWindow, Clipboard } from \"@raycast/api\";\n * import { executeSQL } from \"@raycast/utils\";\n *\n * type Message = { body: string; code: string };\n *\n * const DB_PATH = \"/path/to/chat.db\";\n *\n * export default async function Command() {\n *   const query = `SELECT body, code FROM ...`\n *\n *   const messages = await executeSQL<Message>(DB_PATH, query);\n *\n *   if (messages.length > 0) {\n *     const latestCode = messages[0].code;\n *     await Clipboard.paste(latestCode);\n *     await closeMainWindow();\n *   }\n * }\n * ```\n */\nexport function executeSQL<T = unknown>(databasePath: string, query: string) {\n  return baseExecuteSQL<T>(databasePath, query);\n}\n", "import childProcess from \"node:child_process\";\nimport {\n  defaultParsing,\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype AppleScriptOptions = {\n  /**\n   * By default, `runAppleScript` returns its results in human-readable form: strings do not have quotes around them, characters are not escaped, braces for lists and records are omitted, etc. This is generally more useful, but can introduce ambiguities. For example, the lists `{\"foo\", \"bar\"}` and `{{\"foo\", {\"bar\"}}}` would both be displayed as foo, bar. To see the results in an unambiguous form that could be recompiled into the same value, set `humanReadableOutput` to `false`.\n   *\n   * @default true\n   */\n  humanReadableOutput?: boolean;\n  /**\n   * Whether the script is using [`AppleScript`](https://developer.apple.com/library/archive/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html#//apple_ref/doc/uid/TP40000983) or [`JavaScript`](https://developer.apple.com/library/archive/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/Articles/Introduction.html#//apple_ref/doc/uid/TP40014508-CH111-SW1).\n   *\n   * @default \"AppleScript\"\n   */\n  language?: \"AppleScript\" | \"JavaScript\";\n  /**\n   * A Signal object that allows you to abort the request if required via an AbortController object.\n   */\n  signal?: AbortSignal;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\n/**\n * Executes an AppleScript script.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runAppleScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runAppleScript(\n *       `\n *       on run argv\n *         return \"hello, \" & item 1 of argv & \".\"\n *       end run\n *       `,\n *       [\"world\"]\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run AppleScript\" });\n *   }\n * }\n * ```\n */\nexport async function runAppleScript<T = string>(\n  script: string,\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string>;\nexport async function runAppleScript<T = string>(\n  script: string,\n  /**\n   * The arguments to pass to the script.\n   */\n  args: string[],\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string>;\nexport async function runAppleScript<T = string>(\n  script: string,\n  optionsOrArgs?:\n    | string[]\n    | (AppleScriptOptions & {\n        parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n      }),\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string> {\n  if (process.platform !== \"darwin\") {\n    throw new Error(\"AppleScript is only supported on macOS\");\n  }\n\n  const { humanReadableOutput, language, timeout, ...execOptions } = Array.isArray(optionsOrArgs)\n    ? options || {}\n    : optionsOrArgs || {};\n\n  const outputArguments = humanReadableOutput !== false ? [] : [\"-ss\"];\n  if (language === \"JavaScript\") {\n    outputArguments.push(\"-l\", \"JavaScript\");\n  }\n  if (Array.isArray(optionsOrArgs)) {\n    outputArguments.push(\"-\", ...optionsOrArgs);\n  }\n\n  const spawned = childProcess.spawn(\"osascript\", outputArguments, {\n    ...execOptions,\n    env: { PATH: \"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\" },\n  });\n  const spawnedPromise = getSpawnedPromise(spawned, { timeout: timeout ?? 10000 });\n\n  spawned.stdin.end(script);\n\n  const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf8\" },\n    spawnedPromise,\n  );\n  const stdout = handleOutput({ stripFinalNewline: true }, stdoutResult);\n  const stderr = handleOutput({ stripFinalNewline: true }, stderrResult);\n\n  return defaultParsing({\n    stdout,\n    stderr,\n    error,\n    exitCode,\n    signal,\n    timedOut,\n    command: \"osascript\",\n    options,\n    parentError: new Error(),\n  });\n}\n", "import childProcess from \"node:child_process\";\nimport {\n  defaultParsing,\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype PowerShellScriptOptions = {\n  /**\n   * A Signal object that allows you to abort the request if required via an AbortController object.\n   */\n  signal?: AbortSignal;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\n/**\n * Executes a PowerShell script.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runPowerShellScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runPowerShellScript(\n *       `\n *       Write-Host \"hello, world.\"\n *       `,\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run PowerShell\" });\n *   }\n * }\n * ```\n */\nexport async function runPowerShellScript<T = string>(\n  script: string,\n  options?: PowerShellScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, PowerShellScriptOptions>;\n  },\n): Promise<string> {\n  if (process.platform !== \"win32\") {\n    throw new Error(\"PowerShell is only supported on Windows\");\n  }\n\n  const { timeout, ...execOptions } = options || {};\n\n  const outputArguments = [\"-NoLogo\", \"-NoProfile\", \"-NonInteractive\", \"-Command\", \"-\"];\n\n  const spawned = childProcess.spawn(\"powershell.exe\", outputArguments, {\n    ...execOptions,\n  });\n  const spawnedPromise = getSpawnedPromise(spawned, { timeout: timeout ?? 10000 });\n\n  spawned.stdin.end(script);\n\n  const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf8\" },\n    spawnedPromise,\n  );\n  const stdout = handleOutput({ stripFinalNewline: true }, stdoutResult);\n  const stderr = handleOutput({ stripFinalNewline: true }, stderrResult);\n\n  return defaultParsing({\n    stdout,\n    stderr,\n    error,\n    exitCode,\n    signal,\n    timedOut,\n    command: \"powershell.exe\",\n    options,\n    parentError: new Error(),\n  });\n}\n", "import { Cache } from \"@raycast/api\";\nimport { hash, replacer, reviver } from \"./helpers\";\n\n/**\n * Wraps a function with caching functionality using Raycast's Cache API.\n * Allows for caching of expensive functions like paginated API calls that rarely change.\n *\n * @param fn - The async function to cache results from\n * @param options - Optional configuration for the cache behavior\n * @param options.validate - Optional validation function for cached data\n * @param options.maxAge - Maximum age of cached data in milliseconds\n * @returns An async function that returns the result of the function, either from cache or fresh execution\n *\n * @example\n * ```ts\n * const cachedFunction = withCache(fetchExpensiveData, {\n *   maxAge: 5 * 60 * 1000 // Cache for 5 minutes\n * });\n *\n * const result = await cachedFunction(query);\n * ```\n */\nexport function withCache<Fn extends (...args: any) => Promise<any>>(\n  fn: Fn,\n  options?: {\n    /** function that receives the cached data and returns a boolean depending on whether the data is still valid or not. */\n    validate?: (data: Awaited<ReturnType<Fn>>) => boolean;\n    /** Maximum age of cached data in milliseconds after which the data will be considered invalid */\n    maxAge?: number;\n  },\n): Fn & { clearCache: () => void } {\n  const cache = new Cache({ namespace: hash(fn) });\n\n  const wrappedFn = async (...args: Parameters<Fn>) => {\n    const key =\n      hash(args || []) + (options as unknown as { internal_cacheKeySuffix?: string })?.internal_cacheKeySuffix;\n    const cached = cache.get(key);\n    if (cached) {\n      const { data, timestamp } = JSON.parse(cached, reviver);\n      const isExpired = options?.maxAge && Date.now() - timestamp > options.maxAge;\n      if (!isExpired && (!options?.validate || options.validate(data))) {\n        return data;\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const result = await fn(...args);\n    cache.set(\n      key,\n      JSON.stringify(\n        {\n          data: result,\n          timestamp: Date.now(),\n        },\n        replacer,\n      ),\n    );\n    return result;\n  };\n\n  wrappedFn.clearCache = () => {\n    cache.clear();\n  };\n\n  // @ts-expect-error too complex for TS\n  return wrappedFn;\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\n\nexport type ServiceName = \"giphy\" | \"giphy-clips\" | \"tenor\" | \"finergifs\" | \"favorites\" | \"recents\";\n\nexport const GIF_SERVICE: { [name: string]: ServiceName } = {\n  GIPHY: \"giphy\",\n  GIPHY_CLIPS: \"giphy-clips\",\n  TENOR: \"tenor\",\n  FINER_GIFS: \"finergifs\",\n  FAVORITES: \"favorites\",\n  RECENTS: \"recents\",\n};\n\nexport function getServices() {\n  return Object.values(GIF_SERVICE).filter((service) => {\n    return service != GIF_SERVICE.FAVORITES && service != GIF_SERVICE.RECENTS;\n  });\n}\n\nexport function getServiceTitle(service?: ServiceName) {\n  switch (service) {\n    case GIF_SERVICE.GIPHY:\n      return \"GIPHY GIFs\";\n    case GIF_SERVICE.GIPHY_CLIPS:\n      return \"GIPHY Clips\";\n    case GIF_SERVICE.TENOR:\n      return \"Tenor\";\n    case GIF_SERVICE.FINER_GIFS:\n      return \"Finer Gifs Club\";\n  }\n\n  return \"\";\n}\n\nconst preferences = getPreferenceValues<Preferences>();\n\nexport function getDefaultAction(): string {\n  return preferences.defaultAction;\n}\n\nexport function getMaxResults(): number {\n  return parseInt(preferences.maxResults, 10) ?? 20;\n}\n\nexport const GRID_COLUMNS: { [key: string]: number } = {\n  small: 8,\n  medium: 5,\n  large: 3,\n};\n\nexport function getGridItemSize() {\n  return preferences.gridItemSize;\n}\n\nexport function getGridTrendingItemSize() {\n  return preferences.gridTrendingItemSize;\n}\n\nexport function getHideFilename(): boolean {\n  return preferences.hideFilename;\n}\n\nexport function getGiphyLocale(): string {\n  return preferences.giphyLocale;\n}\n\nexport function getTenorLocale(): string {\n  return preferences.tenorLocale;\n}\n", "/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n", "import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n", "import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { format } from \"./format.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link formatRelative} function options.\n */\n\n/**\n * @name formatRelative\n * @category Common Helpers\n * @summary Represent the date in words relative to the given base date.\n *\n * @description\n * Represent the date in words relative to the given base date.\n *\n * | Distance to the base date | Result                    |\n * |---------------------------|---------------------------|\n * | Previous 6 days           | last Sunday at 04:30 AM   |\n * | Last day                  | yesterday at 04:30 AM     |\n * | Same day                  | today at 04:30 AM         |\n * | Next day                  | tomorrow at 04:30 AM      |\n * | Next 6 days               | Sunday at 04:30 AM        |\n * | Other                     | 12/31/2017                |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to format\n * @param baseDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The date in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws `options.locale` must contain `formatRelative` property\n *\n * @example\n * // Represent the date of 6 days ago in words relative to the given base date. In this example, today is Wednesday\n * const result = formatRelative(subDays(new Date(), 6), new Date())\n * //=> \"last Thursday at 12:45 AM\"\n */\nexport function formatRelative(date, baseDate, options) {\n  const _date = toDate(date);\n  const _baseDate = toDate(baseDate);\n\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const diff = differenceInCalendarDays(_date, _baseDate);\n\n  if (isNaN(diff)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let token;\n  if (diff < -6) {\n    token = \"other\";\n  } else if (diff < -1) {\n    token = \"lastWeek\";\n  } else if (diff < 0) {\n    token = \"yesterday\";\n  } else if (diff < 1) {\n    token = \"today\";\n  } else if (diff < 2) {\n    token = \"tomorrow\";\n  } else if (diff < 7) {\n    token = \"nextWeek\";\n  } else {\n    token = \"other\";\n  }\n\n  const formatStr = locale.formatRelative(token, _date, _baseDate, {\n    locale,\n    weekStartsOn,\n  });\n  return format(_date, formatStr, { locale, weekStartsOn });\n}\n\n// Fallback for modularized imports:\nexport default formatRelative;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name fromUnixTime\n * @category Timestamp Helpers\n * @summary Create a date from a Unix timestamp.\n *\n * @description\n * Create a date from a Unix timestamp (in seconds). Decimal values will be discarded.\n *\n * @param unixTime - The given Unix timestamp (in seconds)\n *\n * @returns The date\n *\n * @example\n * // Create the date 29 February 2012 11:45:05:\n * const result = fromUnixTime(1330515905)\n * //=> Wed Feb 29 2012 11:45:05\n */\nexport function fromUnixTime(unixTime) {\n  return toDate(unixTime * 1000);\n}\n\n// Fallback for modularized imports:\nexport default fromUnixTime;\n", "import type { IGif as GiphyGif } from \"@giphy/js-types\";\n// Height of the list item detail window when metadata is shown\nconst DETAIL_WINDOW_HEIGHT = 190;\n\nexport interface IGif {\n  id: string;\n  title: string;\n  url?: string;\n  slug: string;\n  download_url: string;\n  download_name: string;\n  small_preview_gif_url: string;\n  large_preview_gif_url?: string;\n  gif_url: string;\n  metadata?: {\n    width?: number;\n    height?: number;\n    size?: number;\n    labels?: {\n      title: string;\n      text: string;\n    }[];\n    links?: {\n      title: string;\n      target: string;\n      text: string;\n    }[];\n    tags?: string[];\n  };\n  attribution?: string;\n  video?: GiphyGif[\"video\"];\n}\n\nexport type APIOpt = { offset?: number; limit?: number; next?: string };\n\nexport interface IGifAPI {\n  search: (term: string, opt?: APIOpt) => Promise<{ results: IGif[]; next?: string }>;\n  trending: (opt?: APIOpt) => Promise<{ results: IGif[]; next?: string }>;\n  gifs: (id: string[]) => Promise<IGif[]>;\n}\n\nexport function renderGifMarkdownDetails(gif: IGif, limitHeight?: boolean) {\n  const height = limitHeight ? DETAIL_WINDOW_HEIGHT : \"\";\n  return `<img alt=\"${gif.title}\" src=\"${gif.gif_url}\" height=\"${height}\" />`;\n}\n\nexport function slugify(title: string) {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, \"\")\n    .replace(/[\\s_-]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n}\n", "import { formatRelative } from \"date-fns\";\n\nimport type { IGif as GiphyGif } from \"@giphy/js-types\";\n\nimport { APIOpt, IGif, IGifAPI, slugify } from \"../models/gif\";\nimport { getGiphyLocale } from \"../preferences\";\n\nconst API_BASE_URL = \"https://gif-search.raycast.com/api/giphy\";\n\nexport default async function giphy(type?: \"gifs\" | \"videos\") {\n  return <IGifAPI>{\n    async search(term: string, opt?: APIOpt) {\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"q\", term);\n      reqUrl.searchParams.set(\"limit\", opt?.limit?.toString() ?? \"10\");\n      reqUrl.searchParams.set(\"offset\", opt?.offset?.toString() ?? \"0\");\n      reqUrl.searchParams.set(\"lang\", getGiphyLocale());\n\n      if (type) {\n        reqUrl.searchParams.set(\"type\", type);\n      }\n\n      const response = await fetch(reqUrl.toString());\n      if (!response.ok) {\n        throw new Error(\"Could not search gifs from Giphy\");\n      }\n      const results = (await response.json()) as { data: GiphyGif[] };\n      return { results: results.data.map(mapGiphyResponse) };\n    },\n\n    async trending(opt?: APIOpt) {\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"limit\", opt?.limit?.toString() ?? \"10\");\n      reqUrl.searchParams.set(\"offset\", opt?.offset?.toString() ?? \"0\");\n      reqUrl.searchParams.set(\"lang\", getGiphyLocale());\n\n      if (type) {\n        reqUrl.searchParams.set(\"type\", type);\n      }\n\n      const response = await fetch(reqUrl.toString());\n      if (!response.ok) {\n        throw new Error(\"Could not get trending gifs from Giphy\");\n      }\n\n      const results = (await response.json()) as { data: GiphyGif[] };\n      return { results: results.data.map(mapGiphyResponse) };\n    },\n\n    async gifs(ids: string[]) {\n      if (!ids.length) {\n        return [];\n      }\n\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"ids\", ids.join(\",\"));\n\n      const response = await fetch(reqUrl.toString());\n      const results = (await response.json()) as { data: GiphyGif[] };\n      return results.data.map(mapGiphyResponse);\n    },\n  };\n}\n\nexport function mapGiphyResponse(giphyResp: GiphyGif) {\n  const title = giphyResp.title || giphyResp.slug;\n  const slug = slugify(title);\n\n  const isGiphyClip = giphyResp.type === \"video\";\n  const gif_url = giphyResp.images.original.url;\n  const download_url = isGiphyClip\n    ? (giphyResp.video?.assets[\"1080p\"]?.url ??\n      giphyResp.video?.assets[\"720p\"]?.url ??\n      giphyResp.video?.assets[\"360p\"].url ??\n      gif_url)\n    : gif_url;\n  const isMP4 = /\\.mp4(\\?|$)/.test(download_url);\n\n  return <IGif>{\n    id: giphyResp.id,\n    title: title,\n    url: giphyResp.url,\n    slug: slugify(title),\n    download_url,\n    download_name: `${slug}.${isGiphyClip && isMP4 ? \"mp4\" : \"gif\"}`,\n    small_preview_gif_url: isGiphyClip ? gif_url : giphyResp.images.preview_gif.url,\n    large_preview_gif_url: isGiphyClip ? gif_url : giphyResp.images.fixed_height_small.url,\n    gif_url,\n    metadata: {\n      width: giphyResp.images.original.width,\n      height: giphyResp.images.original.height,\n      size: parseInt(giphyResp.images.original.size ?? \"\", 10) ?? 0,\n      labels: [\n        {\n          title: \"Created\",\n          text: formatRelative(new Date(giphyResp.import_datetime), new Date()),\n        },\n        giphyResp.username && { title: \"User\", text: giphyResp.username },\n      ],\n      links: [\n        giphyResp.source && {\n          title: \"Source\",\n          text: giphyResp.source_tld,\n          target: giphyResp.source,\n        },\n      ],\n      tags: giphyResp.tags,\n    },\n    attribution: \"giphy-logo-square-180.png\",\n    video: giphyResp.video,\n  };\n}\n", "import { formatRelative, fromUnixTime } from \"date-fns\";\n\nimport { APIOpt, IGif, IGifAPI, slugify } from \"../models/gif\";\nimport { getTenorLocale } from \"../preferences\";\n\nexport interface TenorResults {\n  results: TenorGif[];\n  next: string;\n}\n\nexport interface TenorGif {\n  created: number;\n  hasaudio: boolean;\n  id: string;\n  media_formats: {\n    [format: string]: TenorMediaFormat;\n  };\n  tags: string[];\n  title: string;\n  content_description: string;\n  itemurl: string;\n  hascaption: boolean;\n  flags: string;\n  bg_color: string;\n  url: string;\n}\n\ninterface TenorMediaFormat {\n  url: string;\n  dims: number[];\n  duration: number;\n  size: number;\n}\n\nconst API_BASE_URL = \"https://gif-search.raycast.com/api/tenor\";\n\nexport default async function tenor() {\n  return <IGifAPI>{\n    async search(term: string, opt?: APIOpt) {\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"locale\", getTenorLocale());\n      reqUrl.searchParams.set(\"q\", term);\n      reqUrl.searchParams.set(\"media_filter\", \"gif,nanogif,tinygif\");\n      reqUrl.searchParams.set(\"limit\", opt?.limit?.toString() ?? \"10\");\n\n      if (opt?.next) {\n        reqUrl.searchParams.set(\"pos\", opt.next);\n      }\n\n      const response = await fetch(reqUrl.toString());\n      if (!response.ok) {\n        throw new Error(\"Could not search gifs from Tenor\");\n      }\n      const results = (await response.json()) as TenorResults;\n\n      return { results: results.results?.map(mapTenorResponse) ?? [], next: results.next };\n    },\n\n    async trending(opt?: APIOpt) {\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"locale\", getTenorLocale());\n      reqUrl.searchParams.set(\"media_filter\", \"gif,nanogif,tinygif\");\n      reqUrl.searchParams.set(\"limit\", opt?.limit?.toString() ?? \"10\");\n\n      if (opt?.next) {\n        reqUrl.searchParams.set(\"pos\", opt.next);\n      }\n\n      const response = await fetch(reqUrl.toString());\n      if (!response.ok) {\n        throw new Error(\"Could not get trending gifs from Tenor\");\n      }\n      const results = (await response.json()) as TenorResults;\n\n      return { results: results.results?.map(mapTenorResponse) ?? [], next: results.next };\n    },\n\n    async gifs(ids: string[], opt?: APIOpt) {\n      if (!ids.length) {\n        return [];\n      }\n\n      const reqUrl = new URL(API_BASE_URL);\n      reqUrl.searchParams.set(\"ids\", ids.join(\",\"));\n      reqUrl.searchParams.set(\"media_filter\", \"gif,nanogif,tinygif\");\n      reqUrl.searchParams.set(\"limit\", opt?.limit?.toString() ?? \"10\");\n\n      const response = await fetch(reqUrl.toString());\n      const results = (await response.json()) as TenorResults;\n\n      return results.results?.map(mapTenorResponse) ?? [];\n    },\n  };\n}\n\nexport function mapTenorResponse(response: TenorGif) {\n  const medias = response.media_formats;\n  const title = response.title || response.content_description;\n  const slug = slugify(title);\n  return <IGif>{\n    id: response.id,\n    title: title,\n    url: response.itemurl,\n    slug,\n    download_url: medias.gif.url,\n    download_name: `${slug}.gif`,\n    small_preview_gif_url: medias.nanogif.url,\n    large_preview_gif_url: medias.tinygif?.url,\n    gif_url: medias.gif.url,\n    metadata: {\n      width: medias.gif.dims[0],\n      height: medias.gif.dims[1],\n      size: medias.gif.size,\n      labels: [{ title: \"Created\", text: formatRelative(fromUnixTime(response.created), new Date()) }],\n      tags: response.tags,\n    },\n    attribution: \"tenor-logo-square-180.png\",\n  };\n}\n", "import { APIOpt, IGif, IGifAPI, slugify } from \"./gif\";\n\nexport interface FinerGifsClubResults {\n  results: FinerGif[];\n}\n\nexport interface FinerGif {\n  id: string;\n  fields: {\n    name: string;\n    text: string;\n    fileid: string;\n  };\n}\n\nexport function getAPI() {\n  return new FinerGifsClubAPI();\n}\n\nexport default function finergifs() {\n  const api = getAPI();\n\n  return <IGifAPI>{\n    async search(term: string, opt?: APIOpt) {\n      const { offset = 0, limit } = opt || {};\n      const results = await api.search(term, { offset, limit });\n      return { results: results.results.map(mapFinerGifsResponse) };\n    },\n\n    async trending() {\n      return { results: [] };\n    },\n\n    async gifs(ids: string[]) {\n      if (!ids.length) {\n        return [];\n      }\n\n      const results = await api.gifs(ids);\n      return results.results.map(mapFinerGifsResponse);\n    },\n  };\n}\n\nconst API_BASE_URL = \"https://api.thefinergifs.club/\";\n\nexport class FinerGifsClubAPI {\n  async search(term: string, options: { offset: number; limit?: number; abort?: AbortController }) {\n    const reqUrl = new URL(\"/search\", API_BASE_URL);\n    reqUrl.searchParams.set(\"q\", term);\n    reqUrl.searchParams.set(\"q.parser\", \"simple\");\n    reqUrl.searchParams.set(\"sort\", \"_score desc\");\n    reqUrl.searchParams.set(\"size\", options?.limit?.toString() ?? \"10\");\n\n    if (options?.offset) {\n      reqUrl.searchParams.set(\"start\", options.offset.toString());\n    }\n\n    const resp = await fetch(reqUrl.toString(), { signal: options.abort?.signal });\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return (await resp.json()) as FinerGifsClubResults;\n  }\n\n  async gifs(ids: string[]) {\n    const reqUrl = new URL(\"/search\", API_BASE_URL);\n    reqUrl.searchParams.set(\"q\", ids.join(\"|\"));\n    reqUrl.searchParams.set(\"q.parser\", \"simple\");\n    reqUrl.searchParams.set(\"q.options\", JSON.stringify({ fields: [\"fileid\"] }));\n    reqUrl.searchParams.set(\"size\", \"10\");\n\n    const resp = await fetch(reqUrl.toString());\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return (await resp.json()) as FinerGifsClubResults;\n  }\n}\n\nconst EPISODE_NUM_REGEX = /^(\\d{2})x(\\d{2})-.+/i;\n\nexport function mapFinerGifsResponse(finerGifsResp: FinerGif) {\n  const gifUrl = new URL(finerGifsResp.fields.fileid + \".gif\", \"https://media.thefinergifs.club\");\n  const [, season, episode] = finerGifsResp.fields.fileid.match(EPISODE_NUM_REGEX) || new Array(2);\n  const epInt = parseInt(season, 10);\n\n  const slug = slugify(finerGifsResp.fields.text);\n\n  return <IGif>{\n    id: finerGifsResp.fields.fileid,\n    title: finerGifsResp.fields.text,\n    slug,\n    download_url: gifUrl.toString(),\n    download_name: `${slug}.gif`,\n    small_preview_gif_url: gifUrl.toString(),\n    gif_url: gifUrl.toString(),\n    metadata:\n      season || episode\n        ? {\n            labels: [season && { title: \"Season\", text: season }, episode && { title: \"Episode\", text: episode }],\n            links: [\n              epInt && {\n                title: \"The TVDB\",\n                text: `Season ${epInt}`,\n                target: `https://thetvdb.com/series/the-office-us/seasons/official/${epInt}`,\n              },\n            ],\n          }\n        : undefined,\n  };\n}\n", "export default function dedupe<T extends { id: string }>(array: T[]) {\n  const ids = new Set<string>();\n\n  return array.filter((item) => {\n    if (ids.has(item.id)) {\n      return false;\n    }\n\n    ids.add(item.id);\n    return true;\n  });\n}\n", "import { useCachedPromise } from \"@raycast/utils\";\n\nimport { ServiceName, GIF_SERVICE } from \"../preferences\";\nimport giphy from \"../models/giphy\";\nimport tenor from \"../models/tenor\";\nimport finergifs from \"../models/finergifs\";\nimport dedupe from \"../lib/dedupe\";\n\nexport async function getAPIByServiceName(service: ServiceName) {\n  switch (service) {\n    case GIF_SERVICE.GIPHY:\n      return await giphy();\n    case GIF_SERVICE.GIPHY_CLIPS:\n      return await giphy(\"videos\");\n    case GIF_SERVICE.TENOR:\n      return await tenor();\n    case GIF_SERVICE.FINER_GIFS:\n      return finergifs();\n    case GIF_SERVICE.FAVORITES:\n    case GIF_SERVICE.RECENTS:\n      return null;\n  }\n\n  throw new Error(`Unable to find API for service \"${service}\"`);\n}\n\ntype UseSearchAPIParams = {\n  term: string;\n  service?: ServiceName;\n  offset?: number;\n  limit?: number;\n};\n\nexport default function useSearchAPI({ term, service, limit = 10 }: UseSearchAPIParams) {\n  return useCachedPromise(\n    (term: string, service?: ServiceName) =>\n      async ({ cursor, page }) => {\n        if (!service) {\n          return { data: [], hasMore: false };\n        }\n\n        const api = await getAPIByServiceName(service);\n        if (api === null) {\n          return { data: [], hasMore: false };\n        }\n\n        const { results, next } = term\n          ? await api.search(term, { limit, next: cursor, offset: page * limit })\n          : await api.trending({ limit, next: cursor, offset: page * limit });\n\n        return { data: dedupe(results), hasMore: next !== \"\", cursor: next };\n      },\n    [term, service],\n    { keepPreviousData: true },\n  );\n}\n", "import { LocalStorage } from \"@raycast/api\";\n\nimport { getServices, ServiceName } from \"../preferences\";\nimport { IGif } from \"../models/gif\";\n\nexport type LocalType = \"favs\" | \"recent\";\n\nfunction getKey(service: ServiceName, type: LocalType) {\n  return `${service}-${type}`;\n}\n\nexport async function get(service: ServiceName, type: LocalType) {\n  const favs = await LocalStorage.getItem<string>(getKey(service, type));\n  const favsArr: string[] = JSON.parse(favs || \"[]\");\n  return favsArr;\n}\n\nexport async function getAll(type: LocalType) {\n  const allFavs: [ServiceName, string[]][] = [];\n  for (const service of getServices()) {\n    const favs = await LocalStorage.getItem<string>(getKey(service, type));\n    const favsArr: string[] = JSON.parse(favs || \"[]\");\n    allFavs.push([service, favsArr]);\n  }\n\n  return allFavs;\n}\n\nexport async function save(gif: IGif, service: ServiceName, type: LocalType) {\n  const gifs = new Set(await get(service, type));\n  gifs.add(gif.id.toString());\n  return LocalStorage.setItem(getKey(service, type), JSON.stringify(Array.from(gifs)));\n}\n\nexport async function remove(gif: IGif, service: ServiceName, type: LocalType) {\n  const gifs = new Set(await get(service, type));\n  console.log(gif.title, service, type);\n  gifs.delete(gif.id.toString());\n  return LocalStorage.setItem(getKey(service, type), JSON.stringify(Array.from(gifs)));\n}\n\nexport async function getAllFavIds(): Promise<string[]> {\n  const allFavs = await getAll(\"favs\");\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  return allFavs.flatMap(([_, ids]) => ids);\n}\n\nexport async function getAllRecentIds(): Promise<string[]> {\n  const allRecents = await getAll(\"recent\");\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  return allRecents.flatMap(([_, ids]) => ids);\n}\n", "import { useCachedPromise } from \"@raycast/utils\";\nimport { LocalType, get, getAll } from \"../lib/localGifs\";\nimport { GRID_COLUMNS, ServiceName } from \"../preferences\";\nimport { getAPIByServiceName } from \"./useSearchAPI\";\nimport dedupe from \"../lib/dedupe\";\n\ntype ItemSize = \"small\" | \"medium\" | \"large\";\n\nexport default function useLocalGifs(service?: ServiceName, itemSize?: ItemSize) {\n  const isAllFavsOrRecents = service === \"favorites\" || service === \"recents\";\n\n  const {\n    data: localGifs,\n    isLoading: isLoadingLocalGifs,\n    mutate: mutateLocalGifs,\n  } = useCachedPromise(\n    async (service) => {\n      if (!service) return [];\n\n      const favs = await get(service, \"favs\");\n      const recent = (await get(service, \"recent\")).filter((id) => !favs.includes(id));\n\n      // Display the first 2 rows only\n      const favIds = Array.from(favs).slice(0, GRID_COLUMNS[itemSize ?? \"medium\"] * 2);\n      const recentIds = Array.from(recent).slice(0, GRID_COLUMNS[itemSize ?? \"medium\"] * 2);\n\n      const api = await getAPIByServiceName(service);\n      if (api === null) return [];\n\n      const [favoriteGifs, recentGifs] = await Promise.all([api.gifs(favIds), api.gifs(recentIds)]);\n      return { recentGifs: dedupe(recentGifs), favoriteGifs: dedupe(favoriteGifs) };\n    },\n    [service],\n    { execute: !isAllFavsOrRecents },\n  );\n\n  const {\n    data: allGifs,\n    isLoading: isLoadingAllGifs,\n    mutate: mutateAllGifs,\n  } = useCachedPromise(\n    async (service?: ServiceName) => {\n      let type: LocalType;\n      if (service === \"favorites\") type = \"favs\";\n      else if (service === \"recents\") type = \"recent\";\n      else return [];\n\n      const all = await getAll(type);\n      // Populate all gifs using the API\n      const promises = all.map(async ([service, ids]) => {\n        const api = await getAPIByServiceName(service);\n        if (api === null) return [];\n        const gifs = await api.gifs(ids);\n        return [service, dedupe(gifs)] as const;\n      });\n\n      const results = await Promise.all(promises);\n      return results;\n    },\n    [service],\n    { execute: isAllFavsOrRecents },\n  );\n\n  async function mutate() {\n    await (isAllFavsOrRecents ? mutateAllGifs() : mutateLocalGifs());\n  }\n\n  return {\n    favoriteGifs: localGifs && \"favoriteGifs\" in localGifs ? localGifs.favoriteGifs : [],\n    recentGifs: localGifs && \"recentGifs\" in localGifs ? localGifs.recentGifs : [],\n    isLoading: isLoadingLocalGifs || isLoadingAllGifs,\n    allGifs,\n    mutate,\n  };\n}\n", "import { Grid } from \"@raycast/api\";\n\nimport { GifActions } from \"./GifActions\";\n\nimport { IGif } from \"../models/gif\";\nimport { getGridItemSize } from \"../preferences\";\n\ninterface GifGridItemProps {\n  item: IGif;\n  index: number;\n  visitGifItem: (gif: IGif) => void;\n  section: string;\n  mutate: () => Promise<void>;\n}\n\nexport function GifGridItem(props: GifGridItemProps) {\n  const { small_preview_gif_url, large_preview_gif_url, title, gif_url } = props.item;\n\n  const isLargeGridSize = getGridItemSize() === \"large\";\n\n  return (\n    <Grid.Item\n      title={title}\n      content={{ source: isLargeGridSize ? (large_preview_gif_url ?? gif_url) : small_preview_gif_url }}\n      actions={\n        <GifActions item={props.item} showViewDetails={true} visitGifItem={props.visitGifItem} mutate={props.mutate} />\n      }\n    />\n  );\n}\n", "import React from \"react\";\nimport {\n  Action,\n  ActionPanel,\n  Icon,\n  showToast,\n  Toast,\n  showInFinder,\n  open,\n  closeMainWindow,\n  Clipboard,\n} from \"@raycast/api\";\nimport path from \"path\";\n\nimport { getDefaultAction } from \"../preferences\";\n\nimport { GifDetails } from \"./GifDetails\";\nimport { IGif } from \"../models/gif\";\n\nimport copyFileToClipboard from \"../lib/copyFileToClipboard\";\nimport stripQParams from \"../lib/stripQParams\";\nimport downloadFile from \"../lib/downloadFile\";\nimport { removeGifFromCache } from \"../lib/cachedGifs\";\nimport { getAllFavIds, getAllRecentIds, remove, save } from \"../lib/localGifs\";\nimport { showFailureToast, useCachedPromise } from \"@raycast/utils\";\nimport { getServiceFromUrl } from \"../lib/getServiceFromUrl\";\n\ninterface GifActionsProps {\n  item: IGif;\n  showViewDetails: boolean;\n  visitGifItem?: (gif: IGif) => void;\n  mutate: () => Promise<void>;\n}\n\nexport function GifActions({ item, showViewDetails, visitGifItem, mutate }: GifActionsProps) {\n  const { id, url, gif_url } = item;\n\n  const service = getServiceFromUrl(item);\n\n  const { data: favIds } = useCachedPromise(getAllFavIds);\n  const { data: recentIds } = useCachedPromise(getAllRecentIds);\n\n  const isInFavorites = favIds?.includes(id);\n  const isInRecents = recentIds?.includes(id);\n\n  const trackUsage = async () => {\n    if (service) {\n      await save(item, service, \"recent\");\n      await mutate();\n      await visitGifItem?.(item);\n    }\n  };\n\n  const removeFromRecents = async () => {\n    try {\n      if (service) {\n        await remove(item, service, \"recent\");\n        await mutate();\n        await showToast({ style: Toast.Style.Success, title: \"Removed GIF from recents\" });\n      }\n    } catch (error) {\n      await showFailureToast(error, { title: \"Could not remove GIF from recents\" });\n    }\n  };\n\n  const addToFav = async () => {\n    try {\n      if (service) {\n        await save(item, service, \"favs\");\n        await mutate();\n        await showToast({ style: Toast.Style.Success, title: \"Added GIF to favorites\" });\n      }\n    } catch (error) {\n      await showFailureToast(error, { title: \"Could not add GIF to favorites\" });\n    }\n  };\n\n  const removeFav = async () => {\n    try {\n      if (service) {\n        await remove(item, service, \"favs\");\n        await mutate();\n        await showToast({ style: Toast.Style.Success, title: \"Removed GIF from favorites\" });\n      }\n    } catch (error) {\n      await showFailureToast(error, { title: \"Could not remove GIF from favorites\" });\n    }\n\n    // Remove the GIF from the cache if it exists\n    try {\n      const fileName = item.download_name || path.basename(item.download_url);\n      await removeGifFromCache(fileName);\n    } catch (error) {\n      console.error(\"Failed to remove GIF from cache:\", error);\n    }\n  };\n\n  async function copyGif() {\n    try {\n      await showToast({ style: Toast.Style.Animated, title: \"Copying GIF\" });\n      const isInFavorites = favIds?.includes(id);\n      const file = await copyFileToClipboard(item.download_url, item.download_name, isInFavorites);\n      await trackUsage();\n      await closeMainWindow();\n      await showToast({ style: Toast.Style.Success, title: `Copied GIF \"${path.basename(file)}\" to clipboard` });\n    } catch (error) {\n      await showFailureToast(error, { title: \"Could not copy GIF\" });\n    }\n  }\n\n  async function pasteGif() {\n    try {\n      await showToast({ style: Toast.Style.Animated, title: \"Pasting GIF\" });\n      const isInFavorites = favIds?.includes(id);\n      const file = await copyFileToClipboard(item.download_url, item.download_name, isInFavorites);\n      await trackUsage();\n      await closeMainWindow();\n      await Clipboard.paste({ file });\n      await showToast({ style: Toast.Style.Success, title: `Pasted GIF \"${path.basename(file)}\"` });\n    } catch (error) {\n      console.error(error);\n      await showFailureToast(error, { title: \"Could not paste GIF\" });\n    }\n  }\n\n  const downloadGIFAction = async () => {\n    try {\n      await showToast({ style: Toast.Style.Animated, title: \"Downloading GIF\", message: item.download_name });\n      const filePath = await downloadFile(item.download_url, item.download_name);\n\n      if (typeof filePath === \"string\") {\n        await showToast({\n          style: Toast.Style.Success,\n          title: \"Downloaded GIF\",\n          message: filePath,\n          primaryAction: {\n            title: \"Open File\",\n            shortcut: { modifiers: [\"cmd\"], key: \"o\" },\n            onAction() {\n              open(filePath);\n            },\n          },\n          secondaryAction: {\n            title: \"Show GIF in Finder\",\n            shortcut: { modifiers: [\"cmd\", \"shift\"], key: \"o\" },\n            onAction() {\n              showInFinder(filePath);\n            },\n          },\n        });\n      }\n    } catch {\n      await showToast({\n        style: Toast.Style.Failure,\n        title: \"Could not download GIF\",\n        message: item.download_name,\n      });\n    }\n  };\n\n  const copyFile = (\n    <Action\n      icon={Icon.Clipboard}\n      key=\"copyFile\"\n      title=\"Copy GIF\"\n      onAction={copyGif}\n      shortcut={{ modifiers: [\"cmd\", \"opt\"], key: \"c\" }}\n    />\n  );\n  const pasteFile = (\n    <Action\n      icon={Icon.Clipboard}\n      key=\"pasteFile\"\n      title=\"Paste GIF\"\n      onAction={pasteGif}\n      shortcut={{ modifiers: [\"cmd\", \"opt\"], key: \"p\" }}\n    />\n  );\n  const copyGifUrl = (\n    <Action.CopyToClipboard\n      key=\"copyGifUrl\"\n      title=\"Copy GIF Link\"\n      content={stripQParams(gif_url)}\n      onCopy={trackUsage}\n    />\n  );\n  const copyGifMarkdown = (\n    <Action.CopyToClipboard\n      key=\"copyGifMarkdown\"\n      title=\"Copy GIF Markdown\"\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"enter\" }}\n      content={`![${item.title}](${stripQParams(gif_url)})`}\n      onCopy={trackUsage}\n    />\n  );\n  const pasteGifMarkdown = (\n    <Action.Paste\n      key=\"pasteGifMarkdown\"\n      title=\"Paste GIF Markdown\"\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"p\" }}\n      content={`![${item.title}](${stripQParams(gif_url)})`}\n      onPaste={trackUsage}\n    />\n  );\n\n  let toggleFav: React.JSX.Element | undefined;\n  if (favIds) {\n    toggleFav = isInFavorites ? (\n      <Action\n        icon={Icon.Star}\n        key=\"toggleFav\"\n        title=\"Remove from Favorites\"\n        onAction={removeFav}\n        shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"f\" }}\n      />\n    ) : (\n      <Action\n        icon={Icon.Star}\n        key=\"toggleFav\"\n        title=\"Add to Favorites\"\n        onAction={addToFav}\n        shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"f\" }}\n      />\n    );\n  }\n\n  const removeRecent = isInRecents ? (\n    <Action\n      icon={Icon.Clock}\n      key=\"removeRecent\"\n      title=\"Remove from Recents\"\n      onAction={removeFromRecents}\n      shortcut={{ modifiers: [\"ctrl\", \"shift\"], key: \"r\" }}\n    />\n  ) : undefined;\n\n  const viewDetails = (\n    <Action.Push\n      icon={Icon.Eye}\n      key=\"viewDetails\"\n      title=\"View GIF Details\"\n      target={<GifDetails item={item} mutate={mutate} />}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"d\" }}\n      onPush={trackUsage}\n    />\n  );\n\n  const copyPageUrl = url ? (\n    <Action.CopyToClipboard\n      key=\"copyPageUrl\"\n      title=\"Copy Page Link\"\n      content={url}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"c\" }}\n      onCopy={trackUsage}\n    />\n  ) : undefined;\n  const openUrlInBrowser = url ? (\n    <Action.OpenInBrowser\n      key=\"openUrlInBrowser\"\n      url={url}\n      shortcut={{ modifiers: [\"cmd\", \"shift\"], key: \"b\" }}\n      onOpen={trackUsage}\n    />\n  ) : undefined;\n  const downloadFileAction = (\n    <Action\n      key=\"downloadFile\"\n      shortcut={{ modifiers: [\"cmd\", \"opt\"], key: \"d\" }}\n      icon={Icon.Download}\n      title=\"Download GIF\"\n      onAction={downloadGIFAction}\n    />\n  );\n\n  const actions: Array<(React.JSX.Element | undefined)[]> = [\n    [copyFile, pasteFile, copyGifUrl, copyGifMarkdown, pasteGifMarkdown],\n    [toggleFav, removeRecent, showViewDetails ? viewDetails : undefined],\n    [copyPageUrl, openUrlInBrowser, downloadFileAction],\n  ];\n\n  const defaultAction = actions[0]?.[0];\n  const defaultActionPref = getDefaultAction();\n  for (let sectionIndex = 0; sectionIndex < actions.length; sectionIndex++) {\n    const section = actions[sectionIndex];\n\n    for (let index = 0; index < section.length; index++) {\n      const action = section[index];\n\n      if (action?.key !== defaultAction?.key && action?.key == defaultActionPref) {\n        // Remove the action from its current location\n        section.splice(index, 1);\n\n        if (sectionIndex === 0) {\n          // If the new default is already in the first section, just make it the first element\n          section.unshift(action);\n        } else {\n          // Otherwise move matching action to its own new first section\n          actions.unshift([action]);\n        }\n      }\n    }\n  }\n\n  return (\n    <ActionPanel title={item.title}>\n      {actions.map((section, index) => (\n        <ActionPanel.Section key={index}>{section}</ActionPanel.Section>\n      ))}\n    </ActionPanel>\n  );\n}\n", "import { Detail } from \"@raycast/api\";\n\nimport { GifActions } from \"./GifActions\";\nimport { IGif, renderGifMarkdownDetails } from \"../models/gif\";\nimport { getServiceFromUrl } from \"../lib/getServiceFromUrl\";\nimport { formatFileSize } from \"../lib/formatFileSize\";\nimport { getServiceTitle } from \"../preferences\";\n\ntype GifDetailsProps = {\n  item: IGif;\n  mutate: () => Promise<void>;\n};\n\nexport function GifDetails(props: GifDetailsProps) {\n  const { title, metadata, attribution } = props.item;\n\n  const service = getServiceFromUrl(props.item);\n\n  const tags = [];\n  if (metadata?.tags?.length) {\n    tags.push(\n      <Detail.Metadata.TagList title=\"tags\">\n        {metadata.tags.map((tag, index) => (\n          <Detail.Metadata.TagList.Item text={tag} key={index} />\n        ))}\n      </Detail.Metadata.TagList>,\n    );\n  }\n  const labels = metadata?.labels\n    ?.filter(Boolean)\n    .map(({ title, text }, index) => <Detail.Metadata.Label title={title} text={text} key={index} />);\n  const links = metadata?.links\n    ?.filter(Boolean)\n    .map(({ title, text, target }, index) => (\n      <Detail.Metadata.Link title={title} text={text} target={target} key={index} />\n    ));\n\n  return (\n    <Detail\n      markdown={renderGifMarkdownDetails(props.item)}\n      actions={<GifActions item={props.item} showViewDetails={false} mutate={props.mutate} />}\n      metadata={\n        <Detail.Metadata>\n          <Detail.Metadata.Label title=\"Title\" text={title} />\n          {metadata?.width ? <Detail.Metadata.Label title=\"Width\" text={`${metadata.width.toString()}px`} /> : null}\n          {metadata?.height ? <Detail.Metadata.Label title=\"Height\" text={`${metadata.height.toString()}px`} /> : null}\n          {metadata?.size && <Detail.Metadata.Label title=\"Size\" text={formatFileSize(metadata?.size)} />}\n          {labels}\n          {links}\n          {tags}\n          {service ? <Detail.Metadata.Label title=\"Source\" text={getServiceTitle(service)} icon={attribution} /> : null}\n        </Detail.Metadata>\n      }\n    />\n  );\n}\n", "import { IGif } from \"../models/gif\";\nimport { ServiceName } from \"../preferences\";\n\nexport function getServiceFromUrl(gif: IGif): ServiceName | null {\n  const gifUrl = gif[\"url\"] || gif[\"download_url\"];\n\n  if (gifUrl.includes(\"giphy.com/gifs\")) return \"giphy\";\n  if (gifUrl.includes(\"giphy.com/clips\")) return \"giphy-clips\";\n  if (gifUrl.includes(\"tenor.com\") || gifUrl.includes(\"c.tenor.com\") || gifUrl.includes(\"media.tenor.com\"))\n    return \"tenor\";\n  if (gifUrl.includes(\"finergifs\")) return \"finergifs\";\n\n  return null;\n}\n", "/**\n * Formats bytes into human-readable file size using SI units (KB, MB, GB, etc.)\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return \"0 B\";\n\n  const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\n  const k = 1000;\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  const size = bytes / Math.pow(k, i);\n\n  return `${size.toFixed(size < 10 ? 2 : 1)} ${units[i]}`;\n}\n", "import path from \"path\";\nimport { Clipboard } from \"@raycast/api\";\nimport tempy, { FileOptions } from \"tempy\";\nimport { getGifFromCache, saveGifToCache } from \"./cachedGifs\";\nimport { getHideFilename } from \"../preferences\";\n\nexport default async function copyFileToClipboard(url: string, name?: string, isFavorite?: boolean) {\n  const hideFilename = getHideFilename();\n  const fileName = hideFilename ? \"gif.gif\" : name || path.basename(url);\n\n  // Check if the file exists in the cache - if so use it directly\n  const cachedFile = await getGifFromCache(fileName);\n  if (cachedFile) {\n    await copyToClipboard(cachedFile);\n    return fileName;\n  }\n\n  // Download the file if it's not found in the cache\n  const response = await fetch(url);\n\n  if (response.status !== 200) {\n    throw new Error(`GIF file download failed. Server responded with ${response.status}`);\n  }\n\n  if (response.body === null) {\n    throw new Error(\"Unable to read GIF response\");\n  }\n\n  let tempyOpt: FileOptions;\n  if (name) {\n    tempyOpt = { name: fileName };\n  } else {\n    tempyOpt = { extension: \".gif\" };\n  }\n\n  let file: string;\n  try {\n    const buffer = Buffer.from(await response.arrayBuffer());\n    file = await tempy.write(buffer, tempyOpt);\n    if (isFavorite) {\n      await saveGifToCache(file, fileName);\n    }\n  } catch (e) {\n    const error = e as Error;\n    throw new Error(`Failed to download GIF: \"${error.message}\"`);\n  }\n\n  await copyToClipboard(file);\n  return file;\n}\n\nasync function copyToClipboard(file: string) {\n  try {\n    await Clipboard.copy({ file });\n  } catch (e) {\n    const error = e as Error;\n    throw new Error(`Failed to copy GIF: \"${error.message}\"`);\n  }\n}\n", "import fs, {promises as fsPromises} from 'node:fs';\nimport path from 'node:path';\nimport stream from 'node:stream';\nimport {promisify} from 'node:util';\nimport uniqueString from 'unique-string';\nimport tempDir from 'temp-dir';\nimport {isStream} from 'is-stream';\nimport del from 'del'; // TODO: Replace this with `fs.rm` when targeting Node.js 14.\n\nconst pipeline = promisify(stream.pipeline); // TODO: Use `node:stream/promises` when targeting Node.js 16.\n\nconst getPath = (prefix = '') => path.join(tempDir, prefix + uniqueString());\n\nconst writeStream = async (filePath, data) => pipeline(data, fs.createWriteStream(filePath));\n\nconst createTask = (tempyFunction, {extraArguments = 0} = {}) => async (...arguments_) => {\n\tconst [callback, options] = arguments_.slice(extraArguments);\n\tconst result = await tempyFunction(...arguments_.slice(0, extraArguments), options);\n\n\ttry {\n\t\treturn await callback(result);\n\t} finally {\n\t\tawait del(result, {force: true});\n\t}\n};\n\nconst tempy = {};\n\ntempy.file = options => {\n\toptions = {\n\t\t...options,\n\t};\n\n\tif (options.name) {\n\t\tif (options.extension !== undefined && options.extension !== null) {\n\t\t\tthrow new Error('The `name` and `extension` options are mutually exclusive');\n\t\t}\n\n\t\treturn path.join(tempy.directory(), options.name);\n\t}\n\n\treturn getPath() + (options.extension === undefined || options.extension === null ? '' : '.' + options.extension.replace(/^\\./, ''));\n};\n\ntempy.file.task = createTask(tempy.file);\n\ntempy.directory = ({prefix = ''} = {}) => {\n\tconst directory = getPath(prefix);\n\tfs.mkdirSync(directory);\n\treturn directory;\n};\n\ntempy.directory.task = createTask(tempy.directory);\n\ntempy.write = async (data, options) => {\n\tconst filename = tempy.file(options);\n\tconst write = isStream(data) ? writeStream : fsPromises.writeFile;\n\tawait write(filename, data);\n\treturn filename;\n};\n\ntempy.write.task = createTask(tempy.write, {extraArguments: 1});\n\ntempy.writeSync = (data, options) => {\n\tconst filename = tempy.file(options);\n\tfs.writeFileSync(filename, data);\n\treturn filename;\n};\n\nObject.defineProperty(tempy, 'root', {\n\tget() {\n\t\treturn tempDir;\n\t},\n});\n\nexport default tempy;\n", "import {promisify} from 'util';\nimport crypto from 'crypto';\n\nconst randomBytesAsync = promisify(crypto.randomBytes);\n\nconst urlSafeCharacters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~'.split('');\nconst numericCharacters = '0123456789'.split('');\nconst distinguishableCharacters = 'CDEHKMPRTUWXY012458'.split('');\nconst asciiPrintableCharacters = '!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'.split('');\nconst alphanumericCharacters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'.split('');\n\nconst generateForCustomCharacters = (length, characters) => {\n\t// Generating entropy is faster than complex math operations, so we use the simplest way\n\tconst characterCount = characters.length;\n\tconst maxValidSelector = (Math.floor(0x10000 / characterCount) * characterCount) - 1; // Using values above this will ruin distribution when using modular division\n\tconst entropyLength = 2 * Math.ceil(1.1 * length); // Generating a bit more than required so chances we need more than one pass will be really low\n\tlet string = '';\n\tlet stringLength = 0;\n\n\twhile (stringLength < length) { // In case we had many bad values, which may happen for character sets of size above 0x8000 but close to it\n\t\tconst entropy = crypto.randomBytes(entropyLength);\n\t\tlet entropyPosition = 0;\n\n\t\twhile (entropyPosition < entropyLength && stringLength < length) {\n\t\t\tconst entropyValue = entropy.readUInt16LE(entropyPosition);\n\t\t\tentropyPosition += 2;\n\t\t\tif (entropyValue > maxValidSelector) { // Skip values which will ruin distribution when using modular division\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tstring += characters[entropyValue % characterCount];\n\t\t\tstringLength++;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst generateForCustomCharactersAsync = async (length, characters) => {\n\t// Generating entropy is faster than complex math operations, so we use the simplest way\n\tconst characterCount = characters.length;\n\tconst maxValidSelector = (Math.floor(0x10000 / characterCount) * characterCount) - 1; // Using values above this will ruin distribution when using modular division\n\tconst entropyLength = 2 * Math.ceil(1.1 * length); // Generating a bit more than required so chances we need more than one pass will be really low\n\tlet string = '';\n\tlet stringLength = 0;\n\n\twhile (stringLength < length) { // In case we had many bad values, which may happen for character sets of size above 0x8000 but close to it\n\t\tconst entropy = await randomBytesAsync(entropyLength); // eslint-disable-line no-await-in-loop\n\t\tlet entropyPosition = 0;\n\n\t\twhile (entropyPosition < entropyLength && stringLength < length) {\n\t\t\tconst entropyValue = entropy.readUInt16LE(entropyPosition);\n\t\t\tentropyPosition += 2;\n\t\t\tif (entropyValue > maxValidSelector) { // Skip values which will ruin distribution when using modular division\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tstring += characters[entropyValue % characterCount];\n\t\t\tstringLength++;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst generateRandomBytes = (byteLength, type, length) => crypto.randomBytes(byteLength).toString(type).slice(0, length);\n\nconst generateRandomBytesAsync = async (byteLength, type, length) => {\n\tconst buffer = await randomBytesAsync(byteLength);\n\treturn buffer.toString(type).slice(0, length);\n};\n\nconst allowedTypes = new Set([\n\tundefined,\n\t'hex',\n\t'base64',\n\t'url-safe',\n\t'numeric',\n\t'distinguishable',\n\t'ascii-printable',\n\t'alphanumeric'\n]);\n\nconst createGenerator = (generateForCustomCharacters, generateRandomBytes) => ({length, type, characters}) => {\n\tif (!(length >= 0 && Number.isFinite(length))) {\n\t\tthrow new TypeError('Expected a `length` to be a non-negative finite number');\n\t}\n\n\tif (type !== undefined && characters !== undefined) {\n\t\tthrow new TypeError('Expected either `type` or `characters`');\n\t}\n\n\tif (characters !== undefined && typeof characters !== 'string') {\n\t\tthrow new TypeError('Expected `characters` to be string');\n\t}\n\n\tif (!allowedTypes.has(type)) {\n\t\tthrow new TypeError(`Unknown type: ${type}`);\n\t}\n\n\tif (type === undefined && characters === undefined) {\n\t\ttype = 'hex';\n\t}\n\n\tif (type === 'hex' || (type === undefined && characters === undefined)) {\n\t\treturn generateRandomBytes(Math.ceil(length * 0.5), 'hex', length); // Need 0.5 byte entropy per character\n\t}\n\n\tif (type === 'base64') {\n\t\treturn generateRandomBytes(Math.ceil(length * 0.75), 'base64', length); // Need 0.75 byte of entropy per character\n\t}\n\n\tif (type === 'url-safe') {\n\t\treturn generateForCustomCharacters(length, urlSafeCharacters);\n\t}\n\n\tif (type === 'numeric') {\n\t\treturn generateForCustomCharacters(length, numericCharacters);\n\t}\n\n\tif (type === 'distinguishable') {\n\t\treturn generateForCustomCharacters(length, distinguishableCharacters);\n\t}\n\n\tif (type === 'ascii-printable') {\n\t\treturn generateForCustomCharacters(length, asciiPrintableCharacters);\n\t}\n\n\tif (type === 'alphanumeric') {\n\t\treturn generateForCustomCharacters(length, alphanumericCharacters);\n\t}\n\n\tif (characters.length === 0) {\n\t\tthrow new TypeError('Expected `characters` string length to be greater than or equal to 1');\n\t}\n\n\tif (characters.length > 0x10000) {\n\t\tthrow new TypeError('Expected `characters` string length to be less or equal to 65536');\n\t}\n\n\treturn generateForCustomCharacters(length, characters.split(''));\n};\n\nconst cryptoRandomString = createGenerator(generateForCustomCharacters, generateRandomBytes);\n\ncryptoRandomString.async = createGenerator(generateForCustomCharactersAsync, generateRandomBytesAsync);\n\nexport default cryptoRandomString;\n", "import cryptoRandomString from 'crypto-random-string';\n\nexport default function uniqueString() {\n\treturn cryptoRandomString({length: 32});\n}\n", "export function isStream(stream) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& typeof stream.pipe === 'function';\n}\n\nexport function isWritableStream(stream) {\n\treturn isStream(stream)\n\t\t&& stream.writable !== false\n\t\t&& typeof stream._write === 'function'\n\t\t&& typeof stream._writableState === 'object';\n}\n\nexport function isReadableStream(stream) {\n\treturn isStream(stream)\n\t\t&& stream.readable !== false\n\t\t&& typeof stream._read === 'function'\n\t\t&& typeof stream._readableState === 'object';\n}\n\nexport function isDuplexStream(stream) {\n\treturn isWritableStream(stream)\n\t\t&& isReadableStream(stream);\n}\n\nexport function isTransformStream(stream) {\n\treturn isDuplexStream(stream)\n\t\t&& typeof stream._transform === 'function';\n}\n", "import { environment } from \"@raycast/api\";\nimport { copyFileSync, existsSync, mkdirSync } from \"fs\";\nimport { unlink } from \"fs/promises\";\nimport path from \"path\";\n\nconst cachedGifsDir = path.join(environment.supportPath, \"cached-gifs\");\n\n/**\n * Removes a GIF from the cache directory.\n * @param fileName The filename of the GIF to remove from the cache.\n */\nexport async function removeGifFromCache(fileName: string) {\n  const cachedFilePath = path.join(cachedGifsDir, fileName);\n  if (existsSync(cachedFilePath)) {\n    try {\n      await unlink(cachedFilePath);\n    } catch (error) {\n      console.error(`Failed to remove cached GIF: ${fileName}`, error);\n    }\n  }\n}\n\n/**\n * Retrieves a GIF from the cache directory if it exists.\n * @param fileName The filename of the GIF to fetch from the cache.\n */\nexport async function getGifFromCache(fileName: string) {\n  const cachedFilePath = path.join(cachedGifsDir, fileName);\n  if (existsSync(cachedFilePath)) {\n    return cachedFilePath;\n  }\n  return null;\n}\n\n/**\n * Saves a GIF to the cache directory.\n * @param file The file to save to the cache.\n * @param fileName The filename to save the file as.\n */\nexport async function saveGifToCache(file: string, fileName: string) {\n  // Ensure the cache directory exists\n  if (!existsSync(cachedGifsDir)) {\n    mkdirSync(cachedGifsDir, { recursive: true });\n  }\n\n  const cachedFilePath = path.join(cachedGifsDir, fileName);\n  return copyFileSync(file, cachedFilePath);\n}\n", "export default function stripQParams(url: string) {\n  const earl = new URL(url);\n  earl.search = \"\";\n  return earl.toString();\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\nimport { copyFileSync, createWriteStream, existsSync } from \"fs\";\nimport { homedir } from \"os\";\nimport { Readable } from \"stream\";\nimport type { ReadableStream as WebReadableStream } from \"stream/web\";\nimport { getGifFromCache } from \"./cachedGifs\";\nimport { getHideFilename } from \"../preferences\";\nimport path from \"path\";\n\nconst { downloadPath } = getPreferenceValues();\nconst basePath = downloadPath || `${homedir()}/Downloads`;\n\nexport default async function downloadFile(url: string, name: string) {\n  const hideFilename = getHideFilename();\n  const fileName = hideFilename ? \"gif.gif\" : name || path.basename(url);\n\n  // Check if the file exists in the cache - if so use it directly\n  try {\n    const cachedFile = await getGifFromCache(fileName);\n    if (cachedFile) {\n      const destinationPath = path.join(basePath, fileName);\n      copyFileSync(cachedFile, destinationPath);\n      return destinationPath;\n    }\n  } catch (error) {\n    console.error(\"Error retrieving file from cache:\", error);\n  }\n\n  // If the file is not found in the cache, download it\n  const response = await fetch(url);\n\n  if (!response.body) {\n    throw new Error();\n  }\n\n  let filePath = `${basePath}/${fileName}`;\n\n  // Prevent overriding existing files with the same name\n  if (existsSync(filePath)) {\n    let counter = 1;\n    const fileNameWithoutExtension = fileName.split(\".\")[0];\n    const fileExtension = fileName.split(\".\")[1];\n\n    do {\n      filePath = `${basePath}/${fileNameWithoutExtension} (${counter}).${fileExtension}`;\n      counter++;\n    } while (existsSync(filePath));\n  }\n\n  const fileStream = createWriteStream(filePath);\n  const nodeReadable = Readable.fromWeb(response.body as WebReadableStream);\n  nodeReadable.pipe(fileStream);\n\n  return new Promise((resolve, reject) => {\n    fileStream.on(\"finish\", () => {\n      return resolve(filePath);\n    });\n\n    fileStream.on(\"error\", () => {\n      return reject();\n    });\n  });\n}\n", "import { GifGridItem } from \"./GifGridItem\";\nimport type { IGif } from \"../models/gif\";\nimport { ServiceName } from \"../preferences\";\nimport { Grid } from \"@raycast/api\";\nimport { useFrecencySorting } from \"@raycast/utils\";\n\nexport interface GifGridSectionProps {\n  title: string;\n  term?: string;\n  results?: IGif[];\n  service?: ServiceName;\n  isLocalGifSection?: boolean;\n  mutate: () => Promise<void>;\n}\n\nexport function GifGridSection(props: GifGridSectionProps) {\n  const results = [...(props.results ?? [])];\n  const { data: sortedGifs, visitItem: visitGifItem } = useFrecencySorting(results, {\n    namespace: props.service,\n  });\n\n  let { title } = props;\n  if (props.term) {\n    title = `GIF results for \"${props.term}\"`;\n  }\n\n  const gifs = props.isLocalGifSection ? sortedGifs : props.results;\n\n  return (\n    <Grid.Section title={title} key={props.title}>\n      {gifs?.map((result, index) => (\n        <GifGridItem\n          key={result.id}\n          item={result}\n          index={index}\n          visitGifItem={visitGifItem}\n          section={props.title}\n          mutate={props.mutate}\n        />\n      ))}\n    </Grid.Section>\n  );\n}\n"],
  "mappings": "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",
  "names": ["require_temp_dir", "__commonJSMin", "exports", "module", "fs", "os", "tempDirectorySymbol", "require_array_union", "__commonJSMin", "exports", "module", "arguments_", "require_merge2", "__commonJSMin", "exports", "module", "Stream", "PassThrough", "slice", "merge2", "streamsQueue", "args", "merging", "options", "doEnd", "doPipeError", "mergedStream", "addStream", "i", "len", "pauseStreams", "mergeStream", "streams", "endStream", "pipesCount", "next", "pipe", "stream", "onend", "onerror", "err", "require_array", "__commonJSMin", "exports", "flatten", "items", "collection", "item", "splitWhen", "predicate", "result", "groupIndex", "require_errno", "__commonJSMin", "exports", "isEnoentCodeError", "error", "require_fs", "__commonJSMin", "exports", "DirentFromStats", "name", "stats", "createDirentFromStats", "require_path", "__commonJSMin", "exports", "os", "path", "IS_WINDOWS_PLATFORM", "LEADING_DOT_SEGMENT_CHARACTERS_COUNT", "POSIX_UNESCAPED_GLOB_SYMBOLS_RE", "WINDOWS_UNESCAPED_GLOB_SYMBOLS_RE", "DOS_DEVICE_PATH_RE", "WINDOWS_BACKSLASHES_RE", "unixify", "filepath", "makeAbsolute", "cwd", "removeLeadingDotSegment", "entry", "secondCharactery", "escapeWindowsPath", "escapePosixPath", "pattern", "convertWindowsPathToPattern", "convertPosixPathToPattern", "require_is_extglob", "__commonJSMin", "exports", "module", "str", "match", "require_is_glob", "__commonJSMin", "exports", "module", "isExtglob", "chars", "strictCheck", "str", "index", "pipeIndex", "closeSquareIndex", "closeCurlyIndex", "closeParenIndex", "backSlashIndex", "open", "close", "n", "relaxedCheck", "options", "check", "require_glob_parent", "__commonJSMin", "exports", "module", "isGlob", "pathPosixDirname", "isWin32", "slash", "backslash", "enclosure", "globby", "escaped", "str", "opts", "options", "require_utils", "__commonJSMin", "exports", "num", "node", "type", "min", "max", "step", "limit", "block", "n", "nodes", "acc", "args", "result", "flat", "arr", "ele", "require_stringify", "__commonJSMin", "exports", "module", "utils", "ast", "options", "stringify", "node", "parent", "invalidBlock", "invalidNode", "output", "child", "require_is_number", "__commonJSMin", "exports", "module", "num", "require_to_regex_range", "__commonJSMin", "exports", "module", "isNumber", "toRegexRange", "min", "max", "options", "opts", "relax", "shorthand", "capture", "wrap", "cacheKey", "a", "b", "result", "isPadded", "hasPadding", "state", "positives", "negatives", "newMin", "splitToPatterns", "collatePatterns", "neg", "pos", "onlyNegative", "filterPatterns", "onlyPositive", "intersected", "splitToRanges", "nines", "zeros", "stop", "countNines", "stops", "countZeros", "compare", "rangeToPattern", "start", "zipped", "zip", "digits", "pattern", "count", "i", "startDigit", "stopDigit", "toCharacterClass", "tok", "ranges", "tokens", "prev", "obj", "toQuantifier", "padZeros", "arr", "comparison", "prefix", "intersection", "ele", "string", "contains", "key", "val", "len", "integer", "str", "value", "diff", "require_fill_range", "__commonJSMin", "exports", "module", "util", "toRegexRange", "isObject", "val", "transform", "toNumber", "value", "isValidValue", "isNumber", "num", "zeros", "input", "index", "stringify", "start", "end", "options", "pad", "maxLength", "dash", "toMaxLen", "negative", "toSequence", "parts", "maxLen", "a", "b", "prefix", "positives", "negatives", "result", "v", "toRange", "isNumbers", "stop", "toRegex", "wrap", "rangeError", "args", "invalidRange", "invalidStep", "step", "fillNumbers", "descending", "startString", "endString", "stepString", "padded", "format", "push", "range", "fillLetters", "min", "max", "fill", "opts", "require_compile", "__commonJSMin", "exports", "module", "fill", "utils", "compile", "ast", "options", "walk", "node", "parent", "invalidBlock", "invalidNode", "invalid", "prefix", "output", "args", "range", "child", "require_expand", "__commonJSMin", "exports", "module", "fill", "stringify", "utils", "append", "queue", "stash", "enclose", "result", "ele", "item", "value", "expand", "ast", "options", "rangeLimit", "walk", "node", "parent", "p", "q", "args", "range", "block", "i", "child", "require_constants", "__commonJSMin", "exports", "module", "require_parse", "__commonJSMin", "exports", "module", "stringify", "MAX_LENGTH", "CHAR_BACKSLASH", "CHAR_BACKTICK", "CHAR_COMMA", "CHAR_DOT", "CHAR_LEFT_PARENTHESES", "CHAR_RIGHT_PARENTHESES", "CHAR_LEFT_CURLY_BRACE", "CHAR_RIGHT_CURLY_BRACE", "CHAR_LEFT_SQUARE_BRACKET", "CHAR_RIGHT_SQUARE_BRACKET", "CHAR_DOUBLE_QUOTE", "CHAR_SINGLE_QUOTE", "CHAR_NO_BREAK_SPACE", "CHAR_ZERO_WIDTH_NOBREAK_SPACE", "parse", "input", "options", "opts", "max", "ast", "stack", "block", "prev", "brackets", "length", "index", "depth", "value", "advance", "push", "node", "next", "open", "brace", "type", "siblings", "before", "parent", "require_braces", "__commonJSMin", "exports", "module", "stringify", "compile", "expand", "parse", "braces", "input", "options", "output", "pattern", "result", "require_constants", "__commonJSMin", "exports", "module", "path", "WIN_SLASH", "WIN_NO_SLASH", "DOT_LITERAL", "PLUS_LITERAL", "QMARK_LITERAL", "SLASH_LITERAL", "ONE_CHAR", "QMARK", "END_ANCHOR", "START_ANCHOR", "DOTS_SLASH", "NO_DOT", "NO_DOTS", "NO_DOT_SLASH", "NO_DOTS_SLASH", "QMARK_NO_DOT", "STAR", "POSIX_CHARS", "WINDOWS_CHARS", "POSIX_REGEX_SOURCE", "chars", "win32", "require_utils", "__commonJSMin", "exports", "path", "win32", "REGEX_BACKSLASH", "REGEX_REMOVE_BACKSLASH", "REGEX_SPECIAL_CHARS", "REGEX_SPECIAL_CHARS_GLOBAL", "val", "str", "match", "segs", "options", "input", "char", "lastIdx", "idx", "state", "output", "prepend", "append", "require_scan", "__commonJSMin", "exports", "module", "utils", "CHAR_ASTERISK", "CHAR_AT", "CHAR_BACKWARD_SLASH", "CHAR_COMMA", "CHAR_DOT", "CHAR_EXCLAMATION_MARK", "CHAR_FORWARD_SLASH", "CHAR_LEFT_CURLY_BRACE", "CHAR_LEFT_PARENTHESES", "CHAR_LEFT_SQUARE_BRACKET", "CHAR_PLUS", "CHAR_QUESTION_MARK", "CHAR_RIGHT_CURLY_BRACE", "CHAR_RIGHT_PARENTHESES", "CHAR_RIGHT_SQUARE_BRACKET", "isPathSeparator", "code", "depth", "token", "scan", "input", "options", "opts", "length", "scanToEnd", "slashes", "tokens", "parts", "str", "index", "start", "lastIndex", "isBrace", "isBracket", "isGlob", "isExtglob", "isGlobstar", "braceEscaped", "backslashes", "negated", "negatedExtglob", "finished", "braces", "prev", "eos", "peek", "advance", "next", "base", "prefix", "glob", "state", "prevIndex", "idx", "n", "i", "value", "require_parse", "__commonJSMin", "exports", "module", "constants", "utils", "MAX_LENGTH", "POSIX_REGEX_SOURCE", "REGEX_NON_SPECIAL_CHARS", "REGEX_SPECIAL_CHARS_BACKREF", "REPLACEMENTS", "expandRange", "args", "options", "value", "v", "syntaxError", "type", "char", "parse", "input", "opts", "max", "len", "bos", "tokens", "capture", "win32", "PLATFORM_CHARS", "EXTGLOB_CHARS", "DOT_LITERAL", "PLUS_LITERAL", "SLASH_LITERAL", "ONE_CHAR", "DOTS_SLASH", "NO_DOT", "NO_DOT_SLASH", "NO_DOTS_SLASH", "QMARK", "QMARK_NO_DOT", "STAR", "START_ANCHOR", "globstar", "nodot", "qmarkNoDot", "star", "state", "extglobs", "braces", "stack", "prev", "eos", "peek", "n", "advance", "remaining", "consume", "num", "append", "token", "negate", "count", "increment", "decrement", "push", "tok", "isBrace", "isExtglob", "extglobOpen", "output", "extglobClose", "rest", "extglobStar", "expression", "backslashes", "m", "esc", "chars", "first", "index", "next", "match", "slashes", "inner", "idx", "pre", "posix", "extglob", "prevValue", "escaped", "open", "brace", "arr", "range", "i", "out", "toks", "t", "prior", "before", "isStart", "afterStar", "after", "end", "NO_DOTS", "slashDot", "create", "str", "source", "require_picomatch", "__commonJSMin", "exports", "module", "path", "scan", "parse", "utils", "constants", "isObject", "val", "picomatch", "glob", "options", "returnState", "fns", "input", "str", "isMatch", "state", "isState", "opts", "posix", "regex", "isIgnored", "ignoreOpts", "matcher", "returnObject", "match", "output", "result", "format", "patterns", "pattern", "p", "returnOutput", "prepend", "append", "source", "parsed", "err", "require_picomatch", "__commonJSMin", "exports", "module", "require_micromatch", "__commonJSMin", "exports", "module", "util", "braces", "picomatch", "utils", "isEmptyString", "v", "hasBraces", "index", "micromatch", "list", "patterns", "options", "omit", "keep", "items", "negatives", "onResult", "state", "i", "isMatch", "negated", "item", "matched", "matches", "p", "pattern", "str", "result", "obj", "keys", "res", "key", "glob", "input", "posix", "match", "args", "require_pattern", "__commonJSMin", "exports", "path", "globParent", "micromatch", "GLOBSTAR", "ESCAPE_SYMBOL", "COMMON_GLOB_SYMBOLS_RE", "REGEX_CHARACTER_CLASS_SYMBOLS_RE", "REGEX_GROUP_SYMBOLS_RE", "GLOB_EXTENSION_SYMBOLS_RE", "BRACE_EXPANSION_SEPARATORS_RE", "DOUBLE_SLASH_RE", "isStaticPattern", "pattern", "options", "isDynamicPattern", "hasBraceExpansion", "openingBraceIndex", "closingBraceIndex", "braceContent", "convertToPositivePattern", "isNegativePattern", "convertToNegativePattern", "isPositivePattern", "getNegativePatterns", "patterns", "getPositivePatterns", "getPatternsInsideCurrentDirectory", "isPatternRelatedToParentDirectory", "getPatternsOutsideCurrentDirectory", "getBaseDirectory", "hasGlobStar", "endsWithSlashGlobStar", "isAffectDepthOfReadingPattern", "basename", "expandPatternsWithBraceExpansion", "collection", "expandBraceExpansion", "a", "b", "getPatternParts", "parts", "makeRe", "convertPatternsToRe", "matchAny", "entry", "patternsRe", "patternRe", "removeDuplicateSlashes", "partitionAbsoluteAndRelative", "absolute", "relative", "isAbsolute", "require_stream", "__commonJSMin", "exports", "merge2", "merge", "streams", "mergedStream", "stream", "error", "propagateCloseEventToSources", "require_string", "__commonJSMin", "exports", "isString", "input", "isEmpty", "require_utils", "__commonJSMin", "exports", "array", "errno", "fs", "path", "pattern", "stream", "string", "require_tasks", "__commonJSMin", "exports", "utils", "generate", "input", "settings", "patterns", "processPatterns", "ignore", "positivePatterns", "getPositivePatterns", "negativePatterns", "getNegativePatternsAsPositive", "staticPatterns", "pattern", "dynamicPatterns", "staticTasks", "convertPatternsToTasks", "dynamicTasks", "positive", "negative", "dynamic", "tasks", "patternsOutsideCurrentDirectory", "patternsInsideCurrentDirectory", "outsideCurrentDirectoryGroup", "groupPatternsByBaseDirectory", "insideCurrentDirectoryGroup", "convertPatternGroupsToTasks", "convertPatternGroupToTask", "group", "collection", "base", "require_async", "__commonJSMin", "exports", "read", "path", "settings", "callback", "lstatError", "lstat", "callFailureCallback", "callSuccessCallback", "statError", "stat", "error", "result", "require_sync", "__commonJSMin", "exports", "read", "path", "settings", "lstat", "stat", "error", "require_fs", "__commonJSMin", "exports", "fs", "createFileSystemAdapter", "fsMethods", "require_settings", "__commonJSMin", "exports", "fs", "Settings", "_options", "option", "value", "require_out", "__commonJSMin", "exports", "async", "sync", "settings_1", "stat", "path", "optionsOrSettingsOrCallback", "callback", "getSettings", "statSync", "optionsOrSettings", "settings", "settingsOrOptions", "require_queue_microtask", "__commonJSMin", "exports", "module", "promise", "cb", "err", "require_run_parallel", "__commonJSMin", "exports", "module", "runParallel", "queueMicrotask", "tasks", "cb", "results", "pending", "keys", "isSync", "done", "err", "end", "each", "i", "result", "key", "task", "require_constants", "__commonJSMin", "exports", "NODE_PROCESS_VERSION_PARTS", "MAJOR_VERSION", "MINOR_VERSION", "SUPPORTED_MAJOR_VERSION", "SUPPORTED_MINOR_VERSION", "IS_MATCHED_BY_MAJOR", "IS_MATCHED_BY_MAJOR_AND_MINOR", "require_fs", "__commonJSMin", "exports", "DirentFromStats", "name", "stats", "createDirentFromStats", "require_utils", "__commonJSMin", "exports", "fs", "require_common", "__commonJSMin", "exports", "joinPathSegments", "a", "b", "separator", "require_async", "__commonJSMin", "exports", "fsStat", "rpl", "constants_1", "utils", "common", "read", "directory", "settings", "callback", "readdirWithFileTypes", "readdir", "readdirError", "dirents", "callFailureCallback", "entries", "dirent", "callSuccessCallback", "tasks", "entry", "makeRplTaskEntry", "rplError", "rplEntries", "done", "statError", "stats", "names", "name", "path", "error", "result", "require_sync", "__commonJSMin", "exports", "fsStat", "constants_1", "utils", "common", "read", "directory", "settings", "readdirWithFileTypes", "readdir", "dirent", "entry", "stats", "error", "name", "entryPath", "require_fs", "__commonJSMin", "exports", "fs", "createFileSystemAdapter", "fsMethods", "require_settings", "__commonJSMin", "exports", "path", "fsStat", "fs", "Settings", "_options", "option", "value", "require_out", "__commonJSMin", "exports", "async", "sync", "settings_1", "scandir", "path", "optionsOrSettingsOrCallback", "callback", "getSettings", "scandirSync", "optionsOrSettings", "settings", "settingsOrOptions", "require_reusify", "__commonJSMin", "exports", "module", "reusify", "Constructor", "head", "tail", "get", "current", "release", "obj", "require_queue", "__commonJSMin", "exports", "module", "reusify", "fastqueue", "context", "worker", "_concurrency", "cache", "Task", "queueHead", "queueTail", "_running", "errorHandler", "self", "push", "noop", "pause", "value", "release", "running", "resume", "idle", "length", "getQueue", "unshift", "kill", "killAndDrain", "error", "current", "counter", "tasks", "done", "holder", "next", "handler", "err", "result", "callback", "val", "queueAsPromised", "asyncWrapper", "arg", "cb", "res", "queue", "pushCb", "unshiftCb", "drained", "p", "resolve", "reject", "previousDrain", "require_common", "__commonJSMin", "exports", "isFatalError", "settings", "error", "isAppliedFilter", "filter", "value", "replacePathSegmentSeparator", "filepath", "separator", "joinPathSegments", "a", "b", "require_reader", "__commonJSMin", "exports", "common", "Reader", "_root", "_settings", "require_async", "__commonJSMin", "exports", "events_1", "fsScandir", "fastq", "common", "reader_1", "AsyncReader", "_root", "_settings", "callback", "directory", "base", "queueItem", "error", "item", "done", "entries", "entry", "fullpath", "require_async", "__commonJSMin", "exports", "async_1", "AsyncProvider", "_root", "_settings", "callback", "error", "callFailureCallback", "entry", "callSuccessCallback", "entries", "require_stream", "__commonJSMin", "exports", "stream_1", "async_1", "StreamProvider", "_root", "_settings", "error", "entry", "require_sync", "__commonJSMin", "exports", "fsScandir", "common", "reader_1", "SyncReader", "directory", "base", "item", "entries", "entry", "error", "fullpath", "require_sync", "__commonJSMin", "exports", "sync_1", "SyncProvider", "_root", "_settings", "require_settings", "__commonJSMin", "exports", "path", "fsScandir", "Settings", "_options", "option", "value", "require_out", "__commonJSMin", "exports", "async_1", "stream_1", "sync_1", "settings_1", "walk", "directory", "optionsOrSettingsOrCallback", "callback", "getSettings", "walkSync", "optionsOrSettings", "settings", "walkStream", "settingsOrOptions", "require_reader", "__commonJSMin", "exports", "path", "fsStat", "utils", "Reader", "_settings", "filepath", "stats", "pattern", "entry", "error", "require_stream", "__commonJSMin", "exports", "stream_1", "fsStat", "fsWalk", "reader_1", "ReaderStream", "root", "options", "patterns", "filepaths", "stream", "index", "_enc", "done", "entry", "i", "filepath", "pattern", "stats", "error", "resolve", "reject", "require_async", "__commonJSMin", "exports", "fsWalk", "reader_1", "stream_1", "ReaderAsync", "root", "options", "resolve", "reject", "error", "entries", "patterns", "stream", "entry", "require_matcher", "__commonJSMin", "exports", "utils", "Matcher", "_patterns", "_settings", "_micromatchOptions", "pattern", "segments", "sections", "part", "segment", "require_partial", "__commonJSMin", "exports", "matcher_1", "PartialMatcher", "filepath", "parts", "levels", "patterns", "info", "pattern", "section", "part", "index", "segment", "require_deep", "__commonJSMin", "exports", "utils", "partial_1", "DeepFilter", "_settings", "_micromatchOptions", "basePath", "positive", "negative", "matcher", "negativeRe", "entry", "patterns", "affectDepthOfReadingPatterns", "filepath", "entryPath", "entryPathDepth", "basePathDepth", "patternsRe", "require_entry", "__commonJSMin", "exports", "utils", "EntryFilter", "_settings", "_micromatchOptions", "positive", "negative", "absoluteNegative", "relativeNegative", "patterns", "entry", "filepath", "isMatched", "isDirectory", "patternsRe", "fullpath", "require_error", "__commonJSMin", "exports", "utils", "ErrorFilter", "_settings", "error", "require_entry", "__commonJSMin", "exports", "utils", "EntryTransformer", "_settings", "entry", "filepath", "require_provider", "__commonJSMin", "exports", "path", "deep_1", "entry_1", "error_1", "entry_2", "Provider", "_settings", "task", "basePath", "require_async", "__commonJSMin", "exports", "async_1", "provider_1", "ProviderAsync", "task", "root", "options", "entry", "require_stream", "__commonJSMin", "exports", "stream_1", "stream_2", "provider_1", "ProviderStream", "task", "root", "options", "source", "destination", "error", "entry", "require_sync", "__commonJSMin", "exports", "fsStat", "fsWalk", "reader_1", "ReaderSync", "root", "options", "patterns", "entries", "pattern", "filepath", "entry", "stats", "error", "require_sync", "__commonJSMin", "exports", "sync_1", "provider_1", "ProviderSync", "task", "root", "options", "require_settings", "__commonJSMin", "exports", "fs", "os", "CPU_COUNT", "Settings", "_options", "option", "value", "methods", "require_out", "__commonJSMin", "exports", "module", "taskManager", "async_1", "stream_1", "sync_1", "settings_1", "utils", "FastGlob", "source", "options", "assertPatternsInput", "works", "getWorks", "result", "sync", "stream", "generateTasks", "patterns", "settings", "isDynamicPattern", "escapePath", "convertPathToPattern", "posix", "win32", "_Provider", "tasks", "provider", "input", "item", "require_path_type", "__commonJSMin", "exports", "promisify", "fs", "isType", "fsStatType", "statsMethodName", "filePath", "error", "isTypeSync", "require_dir_glob", "__commonJSMin", "exports", "module", "path", "pathType", "getExtensions", "extensions", "getPath", "filepath", "cwd", "pth", "addExtensions", "file", "getGlob", "directory", "options", "x", "input", "globs", "require_ignore", "__commonJSMin", "exports", "module", "makeArray", "subject", "EMPTY", "SPACE", "ESCAPE", "REGEX_TEST_BLANK_LINE", "REGEX_INVALID_TRAILING_BACKSLASH", "REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION", "REGEX_REPLACE_LEADING_EXCAPED_HASH", "REGEX_SPLITALL_CRLF", "REGEX_TEST_INVALID_PATH", "SLASH", "TMP_KEY_IGNORE", "KEY_IGNORE", "define", "object", "key", "value", "REGEX_REGEXP_RANGE", "RETURN_FALSE", "sanitizeRange", "range", "match", "from", "to", "cleanRangeBackSlash", "slashes", "length", "REPLACERS", "_", "m1", "m2", "index", "str", "p1", "p2", "unescaped", "leadEscape", "endEscape", "close", "regexCache", "makeRegex", "pattern", "ignoreCase", "source", "prev", "matcher", "replacer", "isString", "checkPattern", "splitPattern", "IgnoreRule", "origin", "negative", "regex", "createRule", "throwError", "message", "Ctor", "checkPath", "path", "originalPath", "doThrow", "isNotRelative", "p", "Ignore", "ignorecase", "allowRelativePaths", "rule", "checkUnignored", "ignored", "unignored", "cache", "slices", "parent", "paths", "factory", "options", "isPathValid", "makePosix", "REGIX_IS_WINDOWS_PATH_ABSOLUTE", "require_slash", "__commonJSMin", "exports", "module", "path", "isExtendedLengthPath", "hasNonAscii", "require_gitignore", "__commonJSMin", "exports", "module", "promisify", "fs", "path", "fastGlob", "gitIgnore", "slash", "DEFAULT_IGNORE", "readFileP", "mapGitIgnorePatternTo", "base", "ignore", "parseGitIgnore", "content", "options", "line", "reduceIgnore", "files", "ignores", "file", "ensureAbsolutePathForCwd", "cwd", "p", "getIsIgnoredPredecate", "getFile", "filePath", "getFileSync", "normalizeOptions", "paths", "require_stream_utils", "__commonJSMin", "exports", "module", "Transform", "ObjectTransform", "FilterStream", "filter", "data", "encoding", "callback", "UniqueStream", "require_globby", "__commonJSMin", "exports", "module", "fs", "arrayUnion", "merge2", "fastGlob", "dirGlob", "gitignore", "FilterStream", "UniqueStream", "DEFAULT_FILTER", "isNegative", "pattern", "assertPatternsInput", "patterns", "checkCwdOption", "options", "stat", "getPathString", "p", "generateGlobTasks", "taskOptions", "globTasks", "index", "ignore", "globDirs", "task", "fn", "getPattern", "getFilterSync", "globToTask", "glob", "getFilter", "getTasks", "tasks", "globs", "filter", "paths", "path_", "newTask", "matches", "filterStream", "uniqueStream", "require_polyfills", "__commonJSMin", "exports", "module", "constants", "origCwd", "cwd", "platform", "chdir", "d", "patch", "fs", "patchLchmod", "patchLutimes", "chownFix", "chmodFix", "chownFixSync", "chmodFixSync", "statFix", "statFixSync", "path", "mode", "cb", "uid", "gid", "fs$rename", "rename", "from", "to", "start", "backoff", "CB", "er", "stater", "st", "fs$read", "read", "fd", "buffer", "offset", "length", "position", "callback_", "callback", "eagCounter", "_", "__", "fs$readSync", "err", "err2", "threw", "ret", "at", "mt", "er2", "_a", "_b", "_c", "orig", "target", "chownErOk", "options", "stats", "nonroot", "require_legacy_streams", "__commonJSMin", "exports", "module", "Stream", "legacy", "fs", "ReadStream", "WriteStream", "path", "options", "self", "keys", "index", "length", "key", "err", "fd", "require_clone", "__commonJSMin", "exports", "module", "clone", "getPrototypeOf", "obj", "copy", "key", "require_graceful_fs", "__commonJSMin", "exports", "module", "fs", "polyfills", "legacy", "clone", "util", "gracefulQueue", "previousSymbol", "noop", "publishQueue", "context", "queue", "debug", "m", "fs$close", "close", "fd", "cb", "err", "resetQueue", "fs$closeSync", "closeSync", "patch", "createReadStream", "createWriteStream", "fs$readFile", "readFile", "path", "options", "go$readFile", "startTime", "enqueue", "fs$writeFile", "writeFile", "data", "go$writeFile", "fs$appendFile", "appendFile", "go$appendFile", "fs$copyFile", "copyFile", "src", "dest", "flags", "go$copyFile", "fs$readdir", "readdir", "noReaddirOptionVersions", "go$readdir", "fs$readdirCallback", "files", "legStreams", "ReadStream", "WriteStream", "fs$ReadStream", "ReadStream$open", "fs$WriteStream", "WriteStream$open", "val", "FileReadStream", "FileWriteStream", "that", "open", "fs$open", "mode", "go$open", "elem", "retry", "retryTimer", "now", "i", "fn", "args", "lastTime", "sinceAttempt", "sinceStart", "desiredDelay", "require_is_path_cwd", "__commonJSMin", "exports", "module", "path", "path_", "cwd", "require_is_path_inside", "__commonJSMin", "exports", "module", "path", "childPath", "parentPath", "relation", "require_old", "__commonJSMin", "exports", "pathModule", "isWindows", "fs", "DEBUG", "rethrow", "callback", "backtrace", "debugCallback", "missingCallback", "err", "msg", "maybeCallback", "cb", "normalize", "nextPartRe", "splitRootRe", "p", "cache", "original", "seenLinks", "knownHard", "pos", "current", "base", "previous", "start", "m", "result", "resolvedLink", "stat", "linkTarget", "id", "LOOP", "gotResolvedLink", "gotStat", "gotTarget", "target", "require_fs", "__commonJSMin", "exports", "module", "realpath", "realpathSync", "monkeypatch", "unmonkeypatch", "fs", "origRealpath", "origRealpathSync", "version", "ok", "old", "newError", "er", "p", "cache", "cb", "result", "require_concat_map", "__commonJSMin", "exports", "module", "xs", "fn", "res", "i", "x", "isArray", "require_balanced_match", "__commonJSMin", "exports", "module", "balanced", "a", "b", "str", "maybeMatch", "r", "range", "reg", "m", "begs", "beg", "left", "right", "result", "ai", "bi", "i", "require_brace_expansion", "__commonJSMin", "exports", "module", "concatMap", "balanced", "expandTop", "escSlash", "escOpen", "escClose", "escComma", "escPeriod", "numeric", "str", "escapeBraces", "unescapeBraces", "parseCommaParts", "parts", "m", "pre", "body", "post", "p", "postParts", "expand", "embrace", "isPadded", "el", "lte", "i", "y", "gte", "isTop", "expansions", "isNumericSequence", "isAlphaSequence", "isSequence", "isOptions", "n", "N", "x", "width", "incr", "test", "reverse", "pad", "c", "need", "z", "j", "k", "expansion", "require_minimatch", "__commonJSMin", "exports", "module", "minimatch", "Minimatch", "path", "GLOBSTAR", "expand", "plTypes", "qmark", "star", "twoStarDot", "twoStarNoDot", "reSpecials", "charSet", "s", "set", "c", "slashSplit", "filter", "pattern", "options", "p", "i", "list", "ext", "a", "b", "t", "k", "def", "orig", "m", "assertValidPattern", "make", "si", "parseNegate", "negate", "negateOffset", "l", "braceExpand", "MAX_PATTERN_LENGTH", "parse", "SUBPARSE", "isSub", "re", "hasMagic", "escaping", "patternListStack", "negativeLists", "stateChar", "inClass", "reClassStart", "classStart", "patternStart", "self", "clearStateChar", "len", "pl", "cs", "sp", "tail", "_", "$1", "$2", "addPatternStart", "n", "nl", "nlBefore", "nlFirst", "nlLast", "nlAfter", "openParensBefore", "cleanAfter", "dollar", "newRe", "globUnescape", "flags", "regExp", "makeRe", "twoStar", "regExpEscape", "mm", "f", "partial", "filename", "file", "hit", "fi", "pi", "fl", "fr", "pr", "swallowee", "require_inherits_browser", "__commonJSMin", "exports", "module", "ctor", "superCtor", "TempCtor", "require_inherits", "__commonJSMin", "exports", "module", "util", "require_path_is_absolute", "__commonJSMin", "exports", "module", "posix", "path", "win32", "splitDeviceRe", "result", "device", "isUnc", "require_common", "__commonJSMin", "exports", "setopts", "ownProp", "makeAbs", "finish", "mark", "isIgnored", "childrenIgnored", "obj", "field", "fs", "path", "minimatch", "isAbsolute", "Minimatch", "alphasort", "a", "b", "setupIgnores", "self", "options", "ignoreMap", "pattern", "gmatcher", "gpattern", "cwd", "nou", "all", "i", "l", "matches", "literal", "m", "e", "notDir", "c", "p", "abs", "isDir", "slash", "mabs", "f", "item", "require_sync", "__commonJSMin", "exports", "module", "globSync", "GlobSync", "rp", "minimatch", "Minimatch", "Glob", "util", "path", "assert", "isAbsolute", "common", "setopts", "ownProp", "childrenIgnored", "isIgnored", "pattern", "options", "n", "i", "self", "matchset", "index", "set", "p", "real", "er", "inGlobStar", "prefix", "remain", "read", "abs", "isGlobStar", "entries", "pn", "negate", "rawGlob", "dotOk", "matchedEntries", "e", "m", "len", "newPattern", "c", "lstat", "stat", "isSym", "f", "error", "remainWithoutGlobStar", "gspref", "noGlobStar", "instead", "below", "exists", "trail", "needDir", "require_wrappy", "__commonJSMin", "exports", "module", "wrappy", "fn", "cb", "k", "wrapper", "args", "ret", "require_once", "__commonJSMin", "exports", "module", "wrappy", "once", "onceStrict", "fn", "f", "name", "require_inflight", "__commonJSMin", "exports", "module", "wrappy", "reqs", "once", "inflight", "key", "cb", "makeres", "RES", "cbs", "len", "args", "slice", "i", "length", "array", "require_glob", "__commonJSMin", "exports", "module", "glob", "rp", "minimatch", "Minimatch", "inherits", "EE", "path", "assert", "isAbsolute", "globSync", "common", "setopts", "ownProp", "inflight", "util", "childrenIgnored", "isIgnored", "once", "pattern", "options", "cb", "Glob", "GlobSync", "extend", "origin", "add", "keys", "i", "options_", "g", "set", "j", "matches", "self", "done", "sync", "n", "next", "index", "matchset", "found", "p", "er", "real", "f", "eq", "e", "pq", "inGlobStar", "prefix", "remain", "read", "abs", "isGlobStar", "entries", "pn", "negate", "rawGlob", "dotOk", "matchedEntries", "len", "newPattern", "c", "st", "lstatkey", "lstatcb", "lstatcb_", "lstat", "isSym", "readdirCb", "error", "remainWithoutGlobStar", "gspref", "noGlobStar", "instead", "below", "exists", "trail", "needDir", "stat", "type", "statcb", "require_rimraf", "__commonJSMin", "exports", "module", "assert", "path", "fs", "glob", "defaultGlobOpts", "timeout", "isWindows", "defaults", "options", "m", "rimraf", "p", "cb", "busyTries", "errState", "n", "next", "er", "afterGlob", "results", "CB", "rimraf_", "stat", "st", "fixWinEPERM", "rmdir", "er2", "er3", "stats", "fixWinEPERMSync", "rmdirSync", "originalEr", "rmkids", "files", "f", "rimrafSync", "i", "rmkidsSync", "retries", "threw", "ret", "require_indent_string", "__commonJSMin", "exports", "module", "string", "count", "options", "regex", "require_clean_stack", "__commonJSMin", "exports", "module", "os", "extractPathRegex", "pathRegex", "homeDir", "stack", "options", "line", "pathMatches", "match", "m", "p1", "require_aggregate_error", "__commonJSMin", "exports", "module", "indentString", "cleanStack", "cleanInternalStack", "stack", "AggregateError", "errors", "error", "message", "require_p_map", "__commonJSMin", "exports", "module", "AggregateError", "iterable", "mapper", "concurrency", "stopOnError", "resolve", "reject", "result", "errors", "iterator", "isRejected", "isIterableDone", "resolvingCount", "currentIndex", "next", "nextItem", "index", "element", "error", "i", "require_del", "__commonJSMin", "exports", "module", "promisify", "path", "globby", "isGlob", "slash", "gracefulFs", "isPathCwd", "isPathInside", "rimraf", "pMap", "rimrafP", "rimrafOptions", "safeCheck", "file", "cwd", "normalizePatterns", "patterns", "pattern", "force", "dryRun", "onProgress", "options", "files", "a", "b", "deletedCount", "removedFiles", "search_exports", "__export", "GifSearch", "__toCommonJS", "import_react", "has", "dequal", "foo", "bar", "ctor", "len", "$a57ed8effbd797c7$export$722debc0e56fea39", "value", "ref", "$hgUW1$useRef", "signalRef", "dequal", "$hgUW1$useMemo", "$bfcf6ee368b3bd9f$export$d4b699e2c1148419", "$c718fd03aba6111c$export$80e5033e369189f3", "error", "options", "message", "$hgUW1$showToast", "$hgUW1$Toast", "$c718fd03aba6111c$var$handleErrorToastAction", "privateExtension", "title", "extensionURL", "packageJSON", "$hgUW1$readFileSync", "$hgUW1$join", "$hgUW1$environment", "fallback", "stack", "toast", "$hgUW1$Clipboard", "$hgUW1$open", "$cefc05764ce5eacd$export$dd6b79aaabe7bc37", "fn", "args", "lastCallId", "state", "set", "$hgUW1$useState", "fnRef", "latestAbortable", "latestArgs", "latestOnError", "latestOnData", "latestOnWillExecute", "latestFailureToast", "latestValue", "latestCallback", "paginationArgsRef", "usePaginationRef", "hasMoreRef", "pageSizeRef", "abort", "$hgUW1$useCallback", "callback", "callId", "prevState", "promiseOrPaginatedPromise", "$cefc05764ce5eacd$var$bindPromiseIfNeeded", "handleError", "$hgUW1$LaunchType", "data", "hasMore", "cursor", "previousData", "revalidate", "mutate", "asyncUpdate", "dataBeforeOptimisticUpdate", "update", "err", "onLoadMore", "$hgUW1$useEffect", "isLoading", "stateWithLoadingFixed", "pagination", "$93381684554307cb$var$isNativeFunction", "f", "$93381684554307cb$var$hashReplacer", "$93381684554307cb$export$fe386877a696ae78", "writeTo", "context", "write", "str", "object", "pattern", "objString", "objType", "objectNumber", "keys", "self", "key", "arr", "unordered", "entry", "contextAdditions", "entries", "strm", "$93381684554307cb$var$PassThrough", "localContext", "date", "sym", "bool", "string", "number", "xml", "regex", "url", "map", "file", "b", "$e2e1ea6dd3b7d2e1$export$b644b65666fe0c18", "_value", "$e2e1ea6dd3b7d2e1$export$63698c10df99509c", "_key", "$e2e1ea6dd3b7d2e1$export$d6af199866bfb566", "hashingStream", "$hgUW1$nodecrypto", "$c40d7eded38ca69c$var$rootCache", "$c40d7eded38ca69c$var$cacheMap", "$c40d7eded38ca69c$export$14afb9e4c16377d3", "initialState", "config", "cacheKey", "cache", "$hgUW1$Cache", "keyRef", "initialValueRef", "cachedState", "$hgUW1$useSyncExternalStore", "stateRef", "setStateAndCache", "updater", "newValue", "stringifiedValue", "$a7f3824c7be647eb$var$emptyCache", "$a7f3824c7be647eb$export$b15740c74e256244", "initialData", "keepPreviousData", "internal_cacheKeySuffix", "usePromiseOptions", "lastUpdateFrom", "cachedData", "mutateCache", "laggyDataRef", "_mutate", "returnedData", "latestData", "$ae6377cf02b7ee4b$var$HALF_LIFE_DAYS", "$ae6377cf02b7ee4b$var$MS_PER_DAY", "$ae6377cf02b7ee4b$var$VISIT_TYPE_POINTS", "$ae6377cf02b7ee4b$var$getNewFrecency", "item", "now", "lastVisited", "frecency", "visitAgeInDays", "DECAY_RATE_CONSTANT", "currentVisitValue", "totalVisitValue", "$ae6377cf02b7ee4b$var$defaultKey", "$ae6377cf02b7ee4b$export$5f452da9662a701d", "data", "options", "keyRef", "$bfcf6ee368b3bd9f$export$d4b699e2c1148419", "sortUnvisitedRef", "storedFrecencies", "setStoredFrecencies", "$c40d7eded38ca69c$export$14afb9e4c16377d3", "visitItem", "$hgUW1$useCallback", "itemKey", "newFrecency", "resetRanking", "newFrencencies", "$hgUW1$useMemo", "a", "b", "frecencyA", "frecencyB", "import_api", "import_api", "GIF_SERVICE", "getServices", "service", "getServiceTitle", "preferences", "getDefaultAction", "getMaxResults", "GRID_COLUMNS", "getGridItemSize", "getGridTrendingItemSize", "getHideFilename", "getGiphyLocale", "getTenorLocale", "toDate", "argument", "argStr", "constructFrom", "date", "value", "maxTime", "minTime", "millisecondsInWeek", "millisecondsInDay", "secondsInHour", "secondsInDay", "secondsInHour", "secondsInWeek", "secondsInYear", "secondsInMonth", "secondsInQuarter", "defaultOptions", "getDefaultOptions", "startOfWeek", "date", "options", "defaultOptions", "getDefaultOptions", "weekStartsOn", "_date", "toDate", "day", "diff", "startOfISOWeek", "date", "startOfWeek", "getISOWeekYear", "date", "_date", "toDate", "year", "fourthOfJanuaryOfNextYear", "constructFrom", "startOfNextYear", "startOfISOWeek", "fourthOfJanuaryOfThisYear", "startOfThisYear", "startOfDay", "date", "_date", "toDate", "getTimezoneOffsetInMilliseconds", "date", "_date", "toDate", "utcDate", "differenceInCalendarDays", "dateLeft", "dateRight", "startOfDayLeft", "startOfDay", "startOfDayRight", "timestampLeft", "getTimezoneOffsetInMilliseconds", "timestampRight", "millisecondsInDay", "startOfISOWeekYear", "date", "year", "getISOWeekYear", "fourthOfJanuary", "constructFrom", "startOfISOWeek", "isDate", "value", "isValid", "date", "isDate", "_date", "toDate", "startOfYear", "date", "cleanDate", "toDate", "_date", "constructFrom", "formatDistanceLocale", "formatDistance", "token", "count", "options", "result", "tokenValue", "buildFormatLongFn", "args", "options", "width", "dateFormats", "timeFormats", "dateTimeFormats", "formatLong", "buildFormatLongFn", "formatRelativeLocale", "formatRelative", "token", "_date", "_baseDate", "_options", "buildLocalizeFn", "args", "value", "options", "context", "valuesArray", "defaultWidth", "width", "index", "eraValues", "quarterValues", "monthValues", "dayValues", "dayPeriodValues", "formattingDayPeriodValues", "ordinalNumber", "dirtyNumber", "_options", "number", "rem100", "localize", "buildLocalizeFn", "quarter", "buildMatchFn", "args", "string", "options", "width", "matchPattern", "matchResult", "matchedString", "parsePatterns", "key", "findIndex", "pattern", "findKey", "value", "rest", "object", "predicate", "array", "buildMatchPatternFn", "args", "string", "options", "matchResult", "matchedString", "parseResult", "value", "rest", "matchOrdinalNumberPattern", "parseOrdinalNumberPattern", "matchEraPatterns", "parseEraPatterns", "matchQuarterPatterns", "parseQuarterPatterns", "matchMonthPatterns", "parseMonthPatterns", "matchDayPatterns", "parseDayPatterns", "matchDayPeriodPatterns", "parseDayPeriodPatterns", "match", "buildMatchPatternFn", "value", "buildMatchFn", "index", "enUS", "formatDistance", "formatLong", "formatRelative", "localize", "match", "getDayOfYear", "date", "_date", "toDate", "differenceInCalendarDays", "startOfYear", "getISOWeek", "date", "_date", "toDate", "diff", "startOfISOWeek", "startOfISOWeekYear", "millisecondsInWeek", "getWeekYear", "date", "options", "_date", "toDate", "year", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "firstWeekOfNextYear", "constructFrom", "startOfNextYear", "startOfWeek", "firstWeekOfThisYear", "startOfThisYear", "startOfWeekYear", "date", "options", "defaultOptions", "getDefaultOptions", "firstWeekContainsDate", "year", "getWeekYear", "firstWeek", "constructFrom", "startOfWeek", "getWeek", "date", "options", "_date", "toDate", "diff", "startOfWeek", "startOfWeekYear", "millisecondsInWeek", "addLeadingZeros", "number", "targetLength", "sign", "output", "lightFormatters", "date", "token", "signedYear", "year", "addLeadingZeros", "month", "dayPeriodEnumValue", "numberOfDigits", "milliseconds", "fractionalSeconds", "dayPeriodEnum", "formatters", "date", "token", "localize", "era", "signedYear", "year", "lightFormatters", "options", "signedWeekYear", "getWeekYear", "weekYear", "twoDigitYear", "addLeadingZeros", "isoWeekYear", "getISOWeekYear", "quarter", "month", "week", "getWeek", "isoWeek", "getISOWeek", "dayOfYear", "getDayOfYear", "dayOfWeek", "localDayOfWeek", "isoDayOfWeek", "dayPeriodEnumValue", "hours", "_localize", "timezoneOffset", "formatTimezoneWithOptionalMinutes", "formatTimezone", "formatTimezoneShort", "timestamp", "offset", "delimiter", "sign", "absOffset", "minutes", "dateLongFormatter", "pattern", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "matchResult", "datePattern", "timePattern", "dateTimeFormat", "longFormatters", "dayOfYearTokenRE", "weekYearTokenRE", "throwTokens", "isProtectedDayOfYearToken", "token", "isProtectedWeekYearToken", "warnOrThrowProtectedError", "format", "input", "_message", "message", "subject", "formattingTokensRegExp", "longFormattingTokensRegExp", "escapedStringRegExp", "doubleQuoteRegExp", "unescapedLatinCharacterRegExp", "format", "date", "formatStr", "options", "defaultOptions", "getDefaultOptions", "locale", "enUS", "firstWeekContainsDate", "weekStartsOn", "originalDate", "toDate", "isValid", "parts", "longFormattingTokensRegExp", "substring", "firstCharacter", "longFormatter", "longFormatters", "formattingTokensRegExp", "cleanEscapedString", "formatters", "unescapedLatinCharacterRegExp", "formatterOptions", "part", "token", "isProtectedWeekYearToken", "isProtectedDayOfYearToken", "warnOrThrowProtectedError", "formatter", "input", "matched", "escapedStringRegExp", "doubleQuoteRegExp", "formatRelative", "date", "baseDate", "options", "_date", "toDate", "_baseDate", "defaultOptions", "getDefaultOptions", "locale", "enUS", "weekStartsOn", "diff", "differenceInCalendarDays", "token", "formatStr", "format", "fromUnixTime", "unixTime", "toDate", "renderGifMarkdownDetails", "gif", "limitHeight", "height", "slugify", "title", "API_BASE_URL", "giphy", "type", "term", "opt", "reqUrl", "getGiphyLocale", "response", "mapGiphyResponse", "ids", "giphyResp", "title", "slug", "slugify", "isGiphyClip", "gif_url", "download_url", "isMP4", "formatRelative", "API_BASE_URL", "tenor", "term", "opt", "reqUrl", "getTenorLocale", "response", "results", "mapTenorResponse", "ids", "medias", "title", "slug", "slugify", "formatRelative", "fromUnixTime", "getAPI", "FinerGifsClubAPI", "finergifs", "api", "term", "opt", "offset", "limit", "mapFinerGifsResponse", "ids", "API_BASE_URL", "options", "reqUrl", "resp", "EPISODE_NUM_REGEX", "finerGifsResp", "gifUrl", "season", "episode", "epInt", "slug", "slugify", "dedupe", "array", "ids", "item", "getAPIByServiceName", "service", "GIF_SERVICE", "giphy", "tenor", "finergifs", "useSearchAPI", "term", "limit", "$a7f3824c7be647eb$export$b15740c74e256244", "cursor", "page", "api", "results", "next", "dedupe", "import_api", "getKey", "service", "type", "get", "favs", "getAll", "allFavs", "getServices", "favsArr", "save", "gif", "gifs", "remove", "getAllFavIds", "_", "ids", "getAllRecentIds", "useLocalGifs", "service", "itemSize", "isAllFavsOrRecents", "localGifs", "isLoadingLocalGifs", "mutateLocalGifs", "$a7f3824c7be647eb$export$b15740c74e256244", "favs", "get", "recent", "id", "favIds", "GRID_COLUMNS", "recentIds", "api", "getAPIByServiceName", "favoriteGifs", "recentGifs", "dedupe", "allGifs", "isLoadingAllGifs", "mutateAllGifs", "type", "promises", "getAll", "ids", "gifs", "mutate", "import_api", "import_api", "import_path", "import_api", "getServiceFromUrl", "gif", "gifUrl", "formatFileSize", "bytes", "units", "k", "i", "size", "import_jsx_runtime", "GifDetails", "props", "title", "metadata", "attribution", "service", "getServiceFromUrl", "tags", "tag", "index", "labels", "text", "links", "target", "renderGifMarkdownDetails", "GifActions", "formatFileSize", "getServiceTitle", "import_path", "import_api", "import_node_fs", "import_node_path", "import_node_stream", "import_node_util", "import_util", "import_crypto", "randomBytesAsync", "crypto", "urlSafeCharacters", "numericCharacters", "distinguishableCharacters", "asciiPrintableCharacters", "alphanumericCharacters", "generateForCustomCharacters", "length", "characters", "characterCount", "maxValidSelector", "entropyLength", "string", "stringLength", "entropy", "entropyPosition", "entropyValue", "generateForCustomCharactersAsync", "generateRandomBytes", "byteLength", "type", "generateRandomBytesAsync", "allowedTypes", "createGenerator", "cryptoRandomString", "crypto_random_string_default", "uniqueString", "crypto_random_string_default", "import_temp_dir", "isStream", "stream", "import_del", "pipeline", "stream", "getPath", "prefix", "path", "tempDir", "uniqueString", "writeStream", "filePath", "data", "fs", "createTask", "tempyFunction", "extraArguments", "arguments_", "callback", "options", "result", "del", "tempy", "directory", "filename", "isStream", "fsPromises", "tempy_default", "import_api", "import_fs", "import_promises", "import_path", "cachedGifsDir", "path", "removeGifFromCache", "fileName", "cachedFilePath", "error", "getGifFromCache", "saveGifToCache", "file", "copyFileToClipboard", "url", "name", "isFavorite", "fileName", "getHideFilename", "path", "cachedFile", "getGifFromCache", "copyToClipboard", "response", "tempyOpt", "file", "buffer", "tempy_default", "saveGifToCache", "e", "error", "stripQParams", "url", "earl", "import_api", "import_fs", "import_os", "import_stream", "import_path", "downloadPath", "basePath", "downloadFile", "url", "name", "fileName", "getHideFilename", "path", "cachedFile", "getGifFromCache", "destinationPath", "error", "response", "filePath", "counter", "fileNameWithoutExtension", "fileExtension", "fileStream", "resolve", "reject", "import_jsx_runtime", "GifActions", "item", "showViewDetails", "visitGifItem", "mutate", "id", "url", "gif_url", "service", "getServiceFromUrl", "favIds", "$a7f3824c7be647eb$export$b15740c74e256244", "getAllFavIds", "recentIds", "getAllRecentIds", "isInFavorites", "isInRecents", "trackUsage", "save", "removeFromRecents", "remove", "error", "$c718fd03aba6111c$export$80e5033e369189f3", "addToFav", "removeFav", "fileName", "path", "removeGifFromCache", "copyGif", "file", "copyFileToClipboard", "pasteGif", "downloadGIFAction", "filePath", "downloadFile", "copyFile", "pasteFile", "copyGifUrl", "stripQParams", "copyGifMarkdown", "pasteGifMarkdown", "toggleFav", "removeRecent", "viewDetails", "GifDetails", "copyPageUrl", "openUrlInBrowser", "downloadFileAction", "actions", "defaultAction", "defaultActionPref", "getDefaultAction", "sectionIndex", "section", "index", "action", "import_jsx_runtime", "GifGridItem", "props", "small_preview_gif_url", "large_preview_gif_url", "title", "gif_url", "isLargeGridSize", "getGridItemSize", "GifActions", "import_api", "import_jsx_runtime", "GifGridSection", "props", "results", "sortedGifs", "visitGifItem", "$ae6377cf02b7ee4b$export$5f452da9662a701d", "title", "gifs", "result", "index", "GifGridItem", "import_jsx_runtime", "GifSearch", "limit", "getMaxResults", "searchTerm", "setSearchTerm", "searchService", "setSearchService", "$c40d7eded38ca69c$export$14afb9e4c16377d3", "GIF_SERVICE", "itemSize", "getGridItemSize", "getGridTrendingItemSize", "results", "isLoading", "pagination", "useSearchAPI", "recentGifs", "favoriteGifs", "allGifs", "isLoadingLocalGifs", "mutate", "useLocalGifs", "onServiceChange", "service", "showAllFavs", "showAllRecents", "placeholder", "getServiceTitle", "emptyState", "sections", "showLocalGifsView", "gifs", "columns", "GRID_COLUMNS", "section", "GifGridSection"]
}
